function StringBuffer(){this.buffer=[]}function Utf8EncodeEnumerator(e){this._input=e,this._index=-1,this._buffer=[]}function Base64DecodeEnumerator(e){this._input=e,this._index=-1,this._buffer=[]}function css_browser_selector(e){var t=e.toLowerCase(),i=function(e){return t.indexOf(e)>-1},n="gecko",r="webkit",o="safari",s="opera",a="mobile",l=document.documentElement,u=[!/opera|webtv/i.test(t)&&/msie\s(\d)/.test(t)?"ie ie"+RegExp.$1:i("firefox/2")?n+" ff2":i("firefox/3.5")?n+" ff3 ff3_5":i("firefox/3.6")?n+" ff3 ff3_6":i("firefox/3")?n+" ff3":i("gecko/")?n:i("opera")?s+(/version\/(\d+)/.test(t)?" "+s+RegExp.$1:/opera(\s|\/)(\d+)/.test(t)?" "+s+RegExp.$2:""):i("konqueror")?"konqueror":i("blackberry")?a+" blackberry":i("android")?a+" android":i("chrome")?r+" chrome":i("iron")?r+" iron":i("applewebkit/")?r+" "+o+(/version\/(\d+)/.test(t)?" "+o+RegExp.$1:""):i("mozilla/")?n:"",i("j2me")?a+" j2me":i("iphone")?a+" iphone":i("ipod")?a+" ipod":i("ipad")?a+" ipad":i("mac")?"mac":i("darwin")?"mac":i("webtv")?"webtv":i("win")?"win"+(i("windows nt 6.0")?" vista":""):i("freebsd")?"freebsd":i("x11")||i("linux")?"linux":"","js"];return c=u.join(" "),l.className+=" "+c,c}/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 0.6.5
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */
function FastClick(e){"use strict";var t,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.layer=e,!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(i,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(i,arguments)},FastClick.notNeeded()||(this.deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,i.hijacked||i,n):r.call(e,t,i,n)},e.addEventListener=function(t,i,n){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,i.hijacked||(i.hijacked=function(e){e.propagationStopped||i(e)}),n):r.call(e,t,i,n)}),"function"==typeof e.onclick&&(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null))}function cancelTap(){tapValid=!1}function iPadTouchStart(e){var t=e.changedTouches,i=t[0],n="mouseover",r=document.createEvent("MouseEvent");n="mousedown",r=document.createEvent("MouseEvent"),r.initMouseEvent(n,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(r)}function iPadTouchHandler(e){var t="";if(!(e.touches.length>1)){switch(e.type){case"touchstart":if($(e.changedTouches[0].target).is("select"))return;return scrollDir="",lastX&&lastY||(lastX=i.clientX,lastY=i.clientY),!1;case"touchmove":t="mousemove";var i=e.touches[0];if(!scrollDir){var n=Math.abs(lastX-i.clientX),r=Math.abs(lastY-i.clientY);scrollDir=r>n?"vertical":"horizontal"}"vertical"===scrollDir?scrollDir="was vertical":"horizontal"===scrollDir&&(e.preventDefault(),iPadTouchStart(e),scrollDir="was horizontal"),lastX=i.clientX,lastY=i.clientY;break;case"touchend":e.preventDefault(),scrollDir="",t="mouseup";break;default:return}var o=e.changedTouches,s=o[0],a=document.createEvent("MouseEvent");a.initMouseEvent(t,!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),s.target.dispatchEvent(a)}}function ChannelController(e){e.text="Channel Controller",e.$emit("handleChannelEmit")}function ProgrammeController(e){e.text="Programme Controller",e.$emit("handleResetEmit")}function SearchController(e){e.text="From Search Controller"}function TV_GuideController(e){e.text="From TV Guide Controller!"}function abbrMonth(e){var t=new Date(e);return"Invalid Date"==t?e:dateFormat(t,"hh:MM TT, mmm")}function addData(e){return angular.isArray(e)?e:angular.isObject(e)?[e]:void 0}function injectYT(e,t){e.find("span.play").hide();var i="featured-"+(new Date).getTime();e.find(".player").html('<iframe id="'+i+'" width="580" height="349" src="http://www.youtube.com/embed/'+t+'?enablejsapi=1&wmode=opaque&autoplay=0&rel=0&modestbranding=1&showinfo=0" frameborder="0" allowfullscreen style="backgground-color=\'#000\'"></iframe>')}function callPlayer(e,t,i){function n(e,t){var i=e?window.addEventListener:window.removeEventListener;i?i("message",t,!1):(e?window.attachEvent:window.detachEvent)("onmessage",t)}window.jQuery&&e instanceof jQuery&&(e=e.get(0).id);var r=document.getElementById(e);r&&"IFRAME"!=r.tagName.toUpperCase()&&(r=r.getElementsByTagName("iframe")[0]),callPlayer.queue||(callPlayer.queue={});var o=callPlayer.queue[e],s="complete"==document.readyState;if(s&&!r)window.console&&console.log("callPlayer: Frame not found; id="+e),o&&clearInterval(o.poller);else if("listening"===t)r&&r.contentWindow&&(t='{"event":"listening","id":'+JSON.stringify(""+e)+"}",r.contentWindow.postMessage(t,"*"));else if(!s||r&&(!r.contentWindow||o&&!o.ready))o||(o=callPlayer.queue[e]=[]),o.push([t,i]),"poller"in o||(o.poller=setInterval(function(){callPlayer(e,"listening")},250),n(1,function a(t){var i=JSON.parse(t.data);if(i&&i.id==e&&"onReady"==i.event)for(clearInterval(o.poller),o.ready=!0,n(0,a);i=o.shift();)callPlayer(e,i[0],i[1])},!1));else if(r&&r.contentWindow){if(t.call)return t();r.contentWindow.postMessage(JSON.stringify({event:"command",func:t,args:i||[],id:e}),"*")}}!function(e,t){function i(e){var t=ft[e]={};return J.each(e.split(tt),function(e,i){t[i]=!0}),t}function n(e,i,n){if(n===t&&1===e.nodeType){var r="data-"+i.replace(gt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:mt.test(n)?J.parseJSON(n):n}catch(o){}J.data(e,i,n)}else n=t}return n}function r(e){var t;for(t in e)if(("data"!==t||!J.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function s(){return!0}function a(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function c(e,t,i){if(t=t||0,J.isFunction(t))return J.grep(e,function(e,n){var r=!!t.call(e,n,e);return r===i});if(t.nodeType)return J.grep(e,function(e){return e===t===i});if("string"==typeof t){var n=J.grep(e,function(e){return 1===e.nodeType});if(qt.test(t))return J.filter(t,n,!i);t=J.filter(t,n)}return J.grep(e,function(e){return J.inArray(e,t)>=0===i})}function u(e){var t=jt.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e,t){if(1===t.nodeType&&J.hasData(e)){var i,n,r,o=J._data(e),s=J._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(i in a)for(n=0,r=a[i].length;r>n;n++)J.event.add(t,i,a[i][n])}s.data&&(s.data=J.extend({},s.data))}}function p(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),i=t.nodeName.toLowerCase(),"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),J.support.html5Clone&&e.innerHTML&&!J.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Xt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(J.expando))}function f(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){Xt.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=vi.length;r--;)if(t=vi[r]+i,t in e)return t;return n}function v(e,t){return e=t||e,"none"===J.css(e,"display")||!J.contains(e.ownerDocument,e)}function y(e,t){for(var i,n,r=[],o=0,s=e.length;s>o;o++)i=e[o],i.style&&(r[o]=J._data(i,"olddisplay"),t?(!r[o]&&"none"===i.style.display&&(i.style.display=""),""===i.style.display&&v(i)&&(r[o]=J._data(i,"olddisplay",_(i.nodeName)))):(n=ii(i,"display"),!r[o]&&"none"!==n&&J._data(i,"olddisplay",n)));for(o=0;s>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[o]||"":"none"));return e}function b(e,t,i){var n=ui.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function w(e,t,i,n){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===i&&(o+=J.css(e,i+gi[r],!0)),n?("content"===i&&(o-=parseFloat(ii(e,"padding"+gi[r]))||0),"margin"!==i&&(o-=parseFloat(ii(e,"border"+gi[r]+"Width"))||0)):(o+=parseFloat(ii(e,"padding"+gi[r]))||0,"padding"!==i&&(o+=parseFloat(ii(e,"border"+gi[r]+"Width"))||0));return o}function x(e,t,i){var n="width"===t?e.offsetWidth:e.offsetHeight,r=!0,o=J.support.boxSizing&&"border-box"===J.css(e,"boxSizing");if(0>=n||null==n){if(n=ii(e,t),(0>n||null==n)&&(n=e.style[t]),di.test(n))return n;r=o&&(J.support.boxSizingReliable||n===e.style[t]),n=parseFloat(n)||0}return n+w(e,t,i||(o?"border":"content"),r)+"px"}function _(e){if(pi[e])return pi[e];var t=J("<"+e+">").appendTo(U.body),i=t.css("display");return t.remove(),("none"===i||""===i)&&(ni=U.body.appendChild(ni||J.extend(U.createElement("iframe"),{frameBorder:0,width:0,height:0})),ri&&ni.createElement||(ri=(ni.contentWindow||ni.contentDocument).document,ri.write("<!doctype html><html><body>"),ri.close()),t=ri.body.appendChild(ri.createElement(e)),i=ii(t,"display"),U.body.removeChild(ni)),pi[e]=i,i}function $(e,t,i,n){var r;if(J.isArray(t))J.each(t,function(t,r){i||wi.test(e)?n(e,r):$(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==J.type(t))n(e,t);else for(r in t)$(e+"["+r+"]",t[r],i,n)}function C(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r,o,s=t.toLowerCase().split(tt),a=0,l=s.length;if(J.isFunction(i))for(;l>a;a++)n=s[a],o=/^\+/.test(n),o&&(n=n.substr(1)||"*"),r=e[n]=e[n]||[],r[o?"unshift":"push"](i)}}function k(e,i,n,r,o,s){o=o||i.dataTypes[0],s=s||{},s[o]=!0;for(var a,l=e[o],c=0,u=l?l.length:0,d=e===qi;u>c&&(d||!a);c++)a=l[c](i,n,r),"string"==typeof a&&(!d||s[a]?a=t:(i.dataTypes.unshift(a),a=k(e,i,n,r,a,s)));return(d||!a)&&!s["*"]&&(a=k(e,i,n,r,"*",s)),a}function T(e,i){var n,r,o=J.ajaxSettings.flatOptions||{};for(n in i)i[n]!==t&&((o[n]?e:r||(r={}))[n]=i[n]);r&&J.extend(!0,e,r)}function S(e,i,n){var r,o,s,a,l=e.contents,c=e.dataTypes,u=e.responseFields;for(o in u)o in n&&(i[u[o]]=n[o]);for(;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||i.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in n)s=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),n[s]):void 0}function D(e,t){var i,n,r,o,s=e.dataTypes.slice(),a=s[0],l={},c=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=s[++c];)if("*"!==r){if("*"!==a&&a!==r){if(i=l[a+" "+r]||l["* "+r],!i)for(n in l)if(o=n.split(" "),o[1]===r&&(i=l[a+" "+o[0]]||l["* "+o[0]])){i===!0?i=l[n]:l[n]!==!0&&(r=o[0],s.splice(c--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(u){return{state:"parsererror",error:i?u:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}function E(){try{return new e.XMLHttpRequest}catch(t){}}function P(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function M(){return setTimeout(function(){Yi=t},0),Yi=J.now()}function I(e,t){J.each(t,function(t,i){for(var n=(Zi[t]||[]).concat(Zi["*"]),r=0,o=n.length;o>r;r++)if(n[r].call(e,t,i))return})}function A(e,t,i){var n,r=0,o=Ji.length,s=J.Deferred().always(function(){delete a.elem}),a=function(){for(var t=Yi||M(),i=Math.max(0,l.startTime+l.duration-t),n=i/l.duration||0,r=1-n,o=0,a=l.tweens.length;a>o;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,i]),1>r&&a?i:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:J.extend({},t),opts:J.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Yi||M(),duration:i.duration,tweens:[],createTween:function(t,i){var n=J.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(n),n},stop:function(t){for(var i=0,n=t?l.tweens.length:0;n>i;i++)l.tweens[i].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(L(c,l.opts.specialEasing);o>r;r++)if(n=Ji[r].call(l,e,c,l.opts))return n;return I(l,c),J.isFunction(l.opts.start)&&l.opts.start.call(e,l),J.fx.timer(J.extend(a,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function L(e,t){var i,n,r,o,s;for(i in e)if(n=J.camelCase(i),r=t[n],o=e[i],J.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),s=J.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=r)}else t[n]=r}function O(e,t,i){var n,r,o,s,a,l,c,u,d,h=this,p=e.style,f={},m=[],g=e.nodeType&&v(e);i.queue||(u=J._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,d=u.empty.fire,u.empty.fire=function(){u.unqueued||d()}),u.unqueued++,h.always(function(){h.always(function(){u.unqueued--,J.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===J.css(e,"display")&&"none"===J.css(e,"float")&&(J.support.inlineBlockNeedsLayout&&"inline"!==_(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",J.support.shrinkWrapBlocks||h.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],Xi.exec(o)){if(delete t[n],l=l||"toggle"===o,o===(g?"hide":"show"))continue;m.push(n)}if(s=m.length){a=J._data(e,"fxshow")||J._data(e,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?J(e).show():h.done(function(){J(e).hide()}),h.done(function(){var t;J.removeData(e,"fxshow",!0);for(t in f)J.style(e,t,f[t])});for(n=0;s>n;n++)r=m[n],c=h.createTween(r,g?a[r]:0),f[r]=a[r]||J.style(e,r),r in a||(a[r]=c.start,g&&(c.end=c.start,c.start="width"===r||"height"===r?1:0))}}function q(e,t,i,n,r){return new q.prototype.init(e,t,i,n,r)}function N(e,t){var i,n={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=gi[r],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function F(e){return J.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var j,R,U=e.document,H=e.location,z=e.navigator,W=e.jQuery,B=e.$,V=Array.prototype.push,Y=Array.prototype.slice,G=Array.prototype.indexOf,X=Object.prototype.toString,Q=Object.prototype.hasOwnProperty,K=String.prototype.trim,J=function(e,t){return new J.fn.init(e,t,j)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,it=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,nt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^[\],:{}\s]*$/,st=/(?:^|:|,)(?:\s*\[)+/g,at=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ct=/^-ms-/,ut=/-([\da-z])/gi,dt=function(e,t){return(t+"").toUpperCase()},ht=function(){U.addEventListener?(U.removeEventListener("DOMContentLoaded",ht,!1),J.ready()):"complete"===U.readyState&&(U.detachEvent("onreadystatechange",ht),J.ready())},pt={};J.fn=J.prototype={constructor:J,init:function(e,i,n){var r,o,s;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:nt.exec(e),r&&(r[1]||!i)){if(r[1])return i=i instanceof J?i[0]:i,s=i&&i.nodeType?i.ownerDocument||i:U,e=J.parseHTML(r[1],s,!0),rt.test(r[1])&&J.isPlainObject(i)&&this.attr.call(e,i,!0),J.merge(this,e);if(o=U.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return n.find(e);this.length=1,this[0]=o}return this.context=U,this.selector=e,this}return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e)}return J.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),J.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,i){var n=J.merge(this.constructor(),e);return n.prevObject=this,n.context=this.context,"find"===t?n.selector=this.selector+(this.selector?" ":"")+i:t&&(n.selector=this.selector+"."+t+"("+i+")"),n},each:function(e,t){return J.each(this,e,t)},ready:function(e){return J.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(e){return this.pushStack(J.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:[].sort,splice:[].splice},J.fn.init.prototype=J.fn,J.extend=J.fn.extend=function(){var e,i,n,r,o,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"!=typeof a&&!J.isFunction(a)&&(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(i in e)n=a[i],r=e[i],a!==r&&(u&&r&&(J.isPlainObject(r)||(o=J.isArray(r)))?(o?(o=!1,s=n&&J.isArray(n)?n:[]):s=n&&J.isPlainObject(n)?n:{},a[i]=J.extend(u,s,r)):r!==t&&(a[i]=r));return a},J.extend({noConflict:function(t){return e.$===J&&(e.$=B),t&&e.jQuery===J&&(e.jQuery=W),J},isReady:!1,readyWait:1,holdReady:function(e){e?J.readyWait++:J.ready(!0)},ready:function(e){if(e===!0?!--J.readyWait:!J.isReady){if(!U.body)return setTimeout(J.ready,1);J.isReady=!0,e!==!0&&--J.readyWait>0||(R.resolveWith(U,[J]),J.fn.trigger&&J(U).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===J.type(e)},isArray:Array.isArray||function(e){return"array"===J.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):pt[X.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==J.type(e)||e.nodeType||J.isWindow(e))return!1;try{if(e.constructor&&!Q.call(e,"constructor")&&!Q.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in e);return n===t||Q.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var n;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||U,(n=rt.exec(e))?[t.createElement(n[1])]:(n=J.buildFragment([e],t,i?null:[]),J.merge([],(n.cacheable?J.clone(n.fragment):n.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=J.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):ot.test(t.replace(at,"@").replace(lt,"]").replace(st,""))?new Function("return "+t)():(J.error("Invalid JSON: "+t),void 0)):null},parseXML:function(i){var n,r;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(o){n=t}return(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ct,"ms-").replace(ut,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,i,n){var r,o=0,s=e.length,a=s===t||J.isFunction(e);if(n)if(a){for(r in e)if(i.apply(e[r],n)===!1)break}else for(;s>o&&i.apply(e[o++],n)!==!1;);else if(a){for(r in e)if(i.call(e[r],r,e[r])===!1)break}else for(;s>o&&i.call(e[o],o,e[o++])!==!1;);return e},trim:K&&!K.call("﻿ ")?function(e){return null==e?"":K.call(e)}:function(e){return null==e?"":(e+"").replace(it,"")},makeArray:function(e,t){var i,n=t||[];return null!=e&&(i=J.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||J.isWindow(e)?V.call(n,e):J.merge(n,e)),n},inArray:function(e,t,i){var n;if(t){if(G)return G.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,r=e.length,o=0;if("number"==typeof n)for(;n>o;o++)e[r++]=i[o];else for(;i[o]!==t;)e[r++]=i[o++];return e.length=r,e},grep:function(e,t,i){var n,r=[],o=0,s=e.length;for(i=!!i;s>o;o++)n=!!t(e[o],o),i!==n&&r.push(e[o]);return r},map:function(e,i,n){var r,o,s=[],a=0,l=e.length,c=e instanceof J||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||J.isArray(e));if(c)for(;l>a;a++)r=i(e[a],a,n),null!=r&&(s[s.length]=r);else for(o in e)r=i(e[o],o,n),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(e,i){var n,r,o;return"string"==typeof i&&(n=e[i],i=e,e=n),J.isFunction(e)?(r=Y.call(arguments,2),o=function(){return e.apply(i,r.concat(Y.call(arguments)))},o.guid=e.guid=e.guid||J.guid++,o):t},access:function(e,i,n,r,o,s,a){var l,c=null==n,u=0,d=e.length;if(n&&"object"==typeof n){for(u in n)J.access(e,i,u,n[u],1,s,r);o=1}else if(r!==t){if(l=a===t&&J.isFunction(r),c&&(l?(l=i,i=function(e,t,i){return l.call(J(e),i)}):(i.call(e,r),i=null)),i)for(;d>u;u++)i(e[u],n,l?r.call(e[u],u,i(e[u],n)):r,a);o=1}return o?e:c?i.call(e):d?i(e[0],n):s},now:function(){return(new Date).getTime()}}),J.ready.promise=function(t){if(!R)if(R=J.Deferred(),"complete"===U.readyState)setTimeout(J.ready,1);else if(U.addEventListener)U.addEventListener("DOMContentLoaded",ht,!1),e.addEventListener("load",J.ready,!1);else{U.attachEvent("onreadystatechange",ht),e.attachEvent("onload",J.ready);var i=!1;try{i=null==e.frameElement&&U.documentElement}catch(n){}i&&i.doScroll&&function r(){if(!J.isReady){try{i.doScroll("left")}catch(e){return setTimeout(r,50)}J.ready()}}()}return R.promise(t)},J.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),j=J(U);var ft={};J.Callbacks=function(e){e="string"==typeof e?ft[e]||i(e):J.extend({},e);var n,r,o,s,a,l,c=[],u=!e.once&&[],d=function(t){for(n=e.memory&&t,r=!0,l=s||0,s=0,a=c.length,o=!0;c&&a>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}o=!1,c&&(u?u.length&&d(u.shift()):n?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function i(t){J.each(t,function(t,n){var r=J.type(n);"function"===r?(!e.unique||!h.has(n))&&c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),o?a=c.length:n&&(s=t,d(n))}return this},remove:function(){return c&&J.each(arguments,function(e,t){for(var i;(i=J.inArray(t,c,i))>-1;)c.splice(i,1),o&&(a>=i&&a--,l>=i&&l--)}),this},has:function(e){return J.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=u=n=t,this},disabled:function(){return!c},lock:function(){return u=t,n||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],c&&(!r||u)&&(o?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},J.extend({Deferred:function(e){var t=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return J.Deferred(function(i){J.each(t,function(t,n){var o=n[0],s=e[t];r[n[1]](J.isFunction(s)?function(){var e=s.apply(this,arguments);e&&J.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===r?i:this,[e])}:i[o])}),e=null}).promise()},promise:function(e){return null!=e?J.extend(e,n):n}},r={};return n.pipe=n.then,J.each(t,function(e,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=s.fire,r[o[0]+"With"]=s.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,o=Y.call(arguments),s=o.length,a=1!==s||e&&J.isFunction(e.promise)?s:0,l=1===a?e:J.Deferred(),c=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?Y.call(arguments):r,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(t=new Array(s),i=new Array(s),n=new Array(s);s>r;r++)o[r]&&J.isFunction(o[r].promise)?o[r].promise().done(c(r,n,o)).fail(l.reject).progress(c(r,i,t)):--a;return a||l.resolveWith(n,o),l.promise()}}),J.support=function(){var t,i,n,r,o,s,a,l,c,u,d,h=U.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=h.getElementsByTagName("*"),n=h.getElementsByTagName("a")[0],!i||!n||!i.length)return{};r=U.createElement("select"),o=r.appendChild(U.createElement("option")),s=h.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===s.value,optSelected:o.selected,getSetAttribute:"t"!==h.className,enctype:!!U.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==U.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===U.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete h.test}catch(p){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",d)),s=U.createElement("input"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),h.appendChild(s),a=U.createDocumentFragment(),a.appendChild(h.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=s.checked,a.removeChild(s),a.appendChild(h),h.attachEvent)for(c in{submit:!0,change:!0,focusin:!0})l="on"+c,u=l in h,u||(h.setAttribute(l,"return;"),u="function"==typeof h[l]),t[c+"Bubbles"]=u;return J(function(){var i,n,r,o,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=U.getElementsByTagName("body")[0];a&&(i=U.createElement("div"),i.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(i,a.firstChild),n=U.createElement("div"),i.appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=n.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=u&&0===r[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===n.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(n,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width,o=U.createElement("div"),o.style.cssText=n.style.cssText=s,o.style.marginRight=o.style.width="0",n.style.width="1px",n.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof n.style.zoom&&(n.innerHTML="",n.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div></div>",n.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==n.offsetWidth,i.style.zoom=1),a.removeChild(i),i=n=r=o=null)}),a.removeChild(h),i=n=r=o=s=a=h=null,t}();var mt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gt=/([A-Z])/g;J.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(J.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?J.cache[e[J.expando]]:e[J.expando],!!e&&!r(e)},data:function(e,i,n,r){if(J.acceptData(e)){var o,s,a=J.expando,l="string"==typeof i,c=e.nodeType,u=c?J.cache:e,d=c?e[a]:e[a]&&a;if(d&&u[d]&&(r||u[d].data)||!l||n!==t)return d||(c?e[a]=d=J.deletedIds.pop()||J.guid++:d=a),u[d]||(u[d]={},c||(u[d].toJSON=J.noop)),("object"==typeof i||"function"==typeof i)&&(r?u[d]=J.extend(u[d],i):u[d].data=J.extend(u[d].data,i)),o=u[d],r||(o.data||(o.data={}),o=o.data),n!==t&&(o[J.camelCase(i)]=n),l?(s=o[i],null==s&&(s=o[J.camelCase(i)])):s=o,s}},removeData:function(e,t,i){if(J.acceptData(e)){var n,o,s,a=e.nodeType,l=a?J.cache:e,c=a?e[J.expando]:J.expando;if(l[c]){if(t&&(n=i?l[c]:l[c].data)){J.isArray(t)||(t in n?t=[t]:(t=J.camelCase(t),t=t in n?[t]:t.split(" ")));for(o=0,s=t.length;s>o;o++)delete n[t[o]];if(!(i?r:J.isEmptyObject)(n))return}(i||(delete l[c].data,r(l[c])))&&(a?J.cleanData([e],!0):J.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}},_data:function(e,t,i){return J.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&J.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),J.fn.extend({data:function(e,i){var r,o,s,a,l,c=this[0],u=0,d=null;if(e===t){if(this.length&&(d=J.data(c),1===c.nodeType&&!J._data(c,"parsedAttrs"))){for(s=c.attributes,l=s.length;l>u;u++)a=s[u].name,a.indexOf("data-")||(a=J.camelCase(a.substring(5)),n(c,a,d[a]));J._data(c,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){J.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",J.access(this,function(i){return i===t?(d=this.triggerHandler("getData"+o,[r[0]]),d===t&&c&&(d=J.data(c,e),d=n(c,e,d)),d===t&&r[1]?this.data(r[0]):d):(r[1]=i,this.each(function(){var t=J(this);t.triggerHandler("setData"+o,r),J.data(this,e,i),t.triggerHandler("changeData"+o,r)}),void 0)},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){J.removeData(this,e)})}}),J.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=J._data(e,t),i&&(!n||J.isArray(i)?n=J._data(e,t,J.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=J.queue(e,t),n=i.length,r=i.shift(),o=J._queueHooks(e,t),s=function(){J.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return J._data(e,i)||J._data(e,i,{empty:J.Callbacks("once memory").add(function(){J.removeData(e,t+"queue",!0),J.removeData(e,i,!0)})})}}),J.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?J.queue(this[0],e):i===t?this:this.each(function(){var t=J.queue(this,e,i);J._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&J.dequeue(this,e)})},dequeue:function(e){return this.each(function(){J.dequeue(this,e)})},delay:function(e,t){return e=J.fx?J.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,r=1,o=J.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)n=J._data(s[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(l));return l(),o.promise(i)}});var vt,yt,bt,wt=/[\t\r\n]/g,xt=/\r/g,_t=/^(?:button|input)$/i,$t=/^(?:button|input|object|select|textarea)$/i,Ct=/^a(?:rea|)$/i,kt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Tt=J.support.getSetAttribute;J.fn.extend({attr:function(e,t){return J.access(this,J.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){J.removeAttr(this,e)})},prop:function(e,t){return J.access(this,J.prop,e,t,arguments.length>1)},removeProp:function(e){return e=J.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,r,o,s,a;if(J.isFunction(e))return this.each(function(t){J(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),i=0,n=this.length;n>i;i++)if(r=this[i],1===r.nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",s=0,a=t.length;a>s;s++)o.indexOf(" "+t[s]+" ")<0&&(o+=t[s]+" ");r.className=J.trim(o)}else r.className=e;return this},removeClass:function(e){var i,n,r,o,s,a,l;if(J.isFunction(e))return this.each(function(t){J(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(tt),a=0,l=this.length;l>a;a++)if(r=this[a],1===r.nodeType&&r.className){for(n=(" "+r.className+" ").replace(wt," "),o=0,s=i.length;s>o;o++)for(;n.indexOf(" "+i[o]+" ")>=0;)n=n.replace(" "+i[o]+" "," ");r.className=e?J.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t;return J.isFunction(e)?this.each(function(i){J(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var r,o=0,s=J(this),a=t,l=e.split(tt);r=l[o++];)a=n?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);
else("undefined"===i||"boolean"===i)&&(this.className&&J._data(this,"__className__",this.className),this.className=this.className||e===!1?"":J._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(wt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,r,o=this[0];{if(arguments.length)return r=J.isFunction(e),this.each(function(n){var o,s=J(this);1===this.nodeType&&(o=r?e.call(this,n,s.val()):e,null==o?o="":"number"==typeof o?o+="":J.isArray(o)&&(o=J.map(o,function(e){return null==e?"":e+""})),i=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==t||(this.value=o))});if(o)return i=J.valHooks[o.type]||J.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),J.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:n.length,l=0>r?a:o?r:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==r||(J.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&J.nodeName(i.parentNode,"optgroup"))){if(t=J(i).val(),o)return t;s.push(t)}return s},set:function(e,t){var i=J.makeArray(t);return J(e).find("option").each(function(){this.selected=J.inArray(J(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,i,n,r){var o,s,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&J.isFunction(J.fn[i])?J(e)[i](n):"undefined"==typeof e.getAttribute?J.prop(e,i,n):(a=1!==l||!J.isXMLDoc(e),a&&(i=i.toLowerCase(),s=J.attrHooks[i]||(kt.test(i)?yt:vt)),n!==t?null===n?(J.removeAttr(e,i),void 0):s&&"set"in s&&a&&(o=s.set(e,n,i))!==t?o:(e.setAttribute(i,n+""),n):s&&"get"in s&&a&&null!==(o=s.get(e,i))?o:(o=e.getAttribute(i),null===o?t:o))},removeAttr:function(e,t){var i,n,r,o,s=0;if(t&&1===e.nodeType)for(n=t.split(tt);s<n.length;s++)r=n[s],r&&(i=J.propFix[r]||r,o=kt.test(r),o||J.attr(e,r,""),e.removeAttribute(Tt?r:i),o&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(_t.test(e.nodeName)&&e.parentNode)J.error("type property can't be changed");else if(!J.support.radioValue&&"radio"===t&&J.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return vt&&J.nodeName(e,"button")?vt.get(e,t):t in e?e.value:null},set:function(e,t,i){return vt&&J.nodeName(e,"button")?vt.set(e,t,i):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,n){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!J.isXMLDoc(e),s&&(i=J.propFix[i]||i,o=J.propHooks[i]),n!==t?o&&"set"in o&&(r=o.set(e,n,i))!==t?r:e[i]=n:o&&"get"in o&&null!==(r=o.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):$t.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:t}}}}),yt={get:function(e,i){var n,r=J.prop(e,i);return r===!0||"boolean"!=typeof r&&(n=e.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():t},set:function(e,t,i){var n;return t===!1?J.removeAttr(e,i):(n=J.propFix[i]||i,n in e&&(e[n]=!0),e.setAttribute(i,i.toLowerCase())),i}},Tt||(bt={name:!0,id:!0,coords:!0},vt=J.valHooks.button={get:function(e,i){var n;return n=e.getAttributeNode(i),n&&(bt[i]?""!==n.value:n.specified)?n.value:t},set:function(e,t,i){var n=e.getAttributeNode(i);return n||(n=U.createAttribute(i),e.setAttributeNode(n)),n.value=t+""}},J.each(["width","height"],function(e,t){J.attrHooks[t]=J.extend(J.attrHooks[t],{set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}})}),J.attrHooks.contenteditable={get:vt.get,set:function(e,t,i){""===t&&(t="false"),vt.set(e,t,i)}}),J.support.hrefNormalized||J.each(["href","src","width","height"],function(e,i){J.attrHooks[i]=J.extend(J.attrHooks[i],{get:function(e){var n=e.getAttribute(i,2);return null===n?t:n}})}),J.support.style||(J.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),J.support.optSelected||(J.propHooks.selected=J.extend(J.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),J.support.enctype||(J.propFix.enctype="encoding"),J.support.checkOn||J.each(["radio","checkbox"],function(){J.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]=J.extend(J.valHooks[this],{set:function(e,t){return J.isArray(t)?e.checked=J.inArray(J(e).val(),t)>=0:void 0}})});var St=/^(?:textarea|input|select)$/i,Dt=/^([^\.]*|)(?:\.(.+)|)$/,Et=/(?:^|\s)hover(\.\S+|)\b/,Pt=/^key/,Mt=/^(?:mouse|contextmenu)|click/,It=/^(?:focusinfocus|focusoutblur)$/,At=function(e){return J.event.special.hover?e:e.replace(Et,"mouseenter$1 mouseleave$1")};J.event={add:function(e,i,n,r,o){var s,a,l,c,u,d,h,p,f,m,g;if(3!==e.nodeType&&8!==e.nodeType&&i&&n&&(s=J._data(e))){for(n.handler&&(f=n,n=f.handler,o=f.selector),n.guid||(n.guid=J.guid++),l=s.events,l||(s.events=l={}),a=s.handle,a||(s.handle=a=function(e){return"undefined"==typeof J||e&&J.event.triggered===e.type?t:J.event.dispatch.apply(a.elem,arguments)},a.elem=e),i=J.trim(At(i)).split(" "),c=0;c<i.length;c++)u=Dt.exec(i[c])||[],d=u[1],h=(u[2]||"").split(".").sort(),g=J.event.special[d]||{},d=(o?g.delegateType:g.bindType)||d,g=J.event.special[d]||{},p=J.extend({type:d,origType:u[1],data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&J.expr.match.needsContext.test(o),namespace:h.join(".")},f),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,r,h,a)!==!1||(e.addEventListener?e.addEventListener(d,a,!1):e.attachEvent&&e.attachEvent("on"+d,a))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?m.splice(m.delegateCount++,0,p):m.push(p),J.event.global[d]=!0;e=null}},global:{},remove:function(e,t,i,n,r){var o,s,a,l,c,u,d,h,p,f,m,g=J.hasData(e)&&J._data(e);if(g&&(h=g.events)){for(t=J.trim(At(t||"")).split(" "),o=0;o<t.length;o++)if(s=Dt.exec(t[o])||[],a=l=s[1],c=s[2],a){for(p=J.event.special[a]||{},a=(n?p.delegateType:p.bindType)||a,f=h[a]||[],u=f.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<f.length;d++)m=f[d],!(!r&&l!==m.origType||i&&i.guid!==m.guid||c&&!c.test(m.namespace)||n&&n!==m.selector&&("**"!==n||!m.selector)||(f.splice(d--,1),m.selector&&f.delegateCount--,!p.remove||!p.remove.call(e,m)));0===f.length&&u!==f.length&&((!p.teardown||p.teardown.call(e,c,g.handle)===!1)&&J.removeEvent(e,a,g.handle),delete h[a])}else for(a in h)J.event.remove(e,a+t[o],i,n,!0);J.isEmptyObject(h)&&(delete g.handle,J.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,a,l,c,u,d,h,p,f,m,g=i.type||i,v=[];if(It.test(g+J.event.triggered))return;if(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),(!r||J.event.customEvent[g])&&!J.event.global[g])return;if(i="object"==typeof i?i[J.expando]?i:new J.Event(g,i):new J.Event(g),i.type=g,i.isTrigger=!0,i.exclusive=a,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",!r){s=J.cache;for(l in s)s[l].events&&s[l].events[g]&&J.event.trigger(i,n,s[l].handle.elem,!0);return}if(i.result=t,i.target||(i.target=r),n=null!=n?J.makeArray(n):[],n.unshift(i),h=J.event.special[g]||{},h.trigger&&h.trigger.apply(r,n)===!1)return;if(f=[[r,h.bindType||g]],!o&&!h.noBubble&&!J.isWindow(r)){for(m=h.delegateType||g,c=It.test(m+g)?r:r.parentNode,u=r;c;c=c.parentNode)f.push([c,m]),u=c;u===(r.ownerDocument||U)&&f.push([u.defaultView||u.parentWindow||e,m])}for(l=0;l<f.length&&!i.isPropagationStopped();l++)c=f[l][0],i.type=f[l][1],p=(J._data(c,"events")||{})[i.type]&&J._data(c,"handle"),p&&p.apply(c,n),p=d&&c[d],p&&J.acceptData(c)&&p.apply&&p.apply(c,n)===!1&&i.preventDefault();return i.type=g,!(o||i.isDefaultPrevented()||h._default&&h._default.apply(r.ownerDocument,n)!==!1||"click"===g&&J.nodeName(r,"a")||!J.acceptData(r)||!d||!r[g]||("focus"===g||"blur"===g)&&0===i.target.offsetWidth||J.isWindow(r)||(u=r[d],u&&(r[d]=null),J.event.triggered=g,r[g](),J.event.triggered=t,!u||!(r[d]=u))),i.result}},dispatch:function(i){i=J.event.fix(i||e.event);var n,r,o,s,a,l,c,u,d,h=(J._data(this,"events")||{})[i.type]||[],p=h.delegateCount,f=Y.call(arguments),m=!i.exclusive&&!i.namespace,g=J.event.special[i.type]||{},v=[];if(f[0]=i,i.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,i)!==!1){if(p&&(!i.button||"click"!==i.type))for(o=i.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==i.type){for(a={},c=[],n=0;p>n;n++)u=h[n],d=u.selector,a[d]===t&&(a[d]=u.needsContext?J(d,this).index(o)>=0:J.find(d,this,null,[o]).length),a[d]&&c.push(u);c.length&&v.push({elem:o,matches:c})}for(h.length>p&&v.push({elem:this,matches:h.slice(p)}),n=0;n<v.length&&!i.isPropagationStopped();n++)for(l=v[n],i.currentTarget=l.elem,r=0;r<l.matches.length&&!i.isImmediatePropagationStopped();r++)u=l.matches[r],(m||!i.namespace&&!u.namespace||i.namespace_re&&i.namespace_re.test(u.namespace))&&(i.data=u.data,i.handleObj=u,s=((J.event.special[u.origType]||{}).handle||u.handler).apply(l.elem,f),s!==t&&(i.result=s,s===!1&&(i.preventDefault(),i.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,r,o,s=i.button,a=i.fromElement;return null==e.pageX&&null!=i.clientX&&(n=e.target.ownerDocument||U,r=n.documentElement,o=n.body,e.pageX=i.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=i.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?i.toElement:a),!e.which&&s!==t&&(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[J.expando])return e;var t,i,n=e,r=J.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=J.Event(n),t=o.length;t;)i=o[--t],e[i]=n[i];return e.target||(e.target=n.srcElement||U),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,n):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){J.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,n){var r=J.extend(new J.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?J.event.trigger(r,null,t):J.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},J.event.handle=J.event.dispatch,J.removeEvent=U.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&("undefined"==typeof e[n]&&(e[n]=null),e.detachEvent(n,i))},J.Event=function(e,t){return this instanceof J.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?s:o):this.type=e,t&&J.extend(this,t),this.timeStamp=e&&e.timeStamp||J.now(),this[J.expando]=!0,void 0):new J.Event(e,t)},J.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},J.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){J.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,o=e.handleObj;return o.selector,(!r||r!==n&&!J.contains(n,r))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),J.support.submitBubbles||(J.event.special.submit={setup:function(){return J.nodeName(this,"form")?!1:(J.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=J.nodeName(i,"input")||J.nodeName(i,"button")?i.form:t;n&&!J._data(n,"_submit_attached")&&(J.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),J._data(n,"_submit_attached",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&J.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return J.nodeName(this,"form")?!1:(J.event.remove(this,"._submit"),void 0)}}),J.support.changeBubbles||(J.event.special.change={setup:function(){return St.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(J.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),J.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),J.event.simulate("change",this,e,!0)})),!1):(J.event.add(this,"beforeactivate._change",function(e){var t=e.target;St.test(t.nodeName)&&!J._data(t,"_change_attached")&&(J.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&J.event.simulate("change",this.parentNode,e,!0)}),J._data(t,"_change_attached",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return J.event.remove(this,"._change"),!St.test(this.nodeName)}}),J.support.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){J.event.simulate(t,e.target,J.event.fix(e),!0)};J.event.special[t]={setup:function(){0===i++&&U.addEventListener(e,n,!0)},teardown:function(){0===--i&&U.removeEventListener(e,n,!0)}}}),J.fn.extend({on:function(e,i,n,r,s){var a,l;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(l in e)this.on(l,i,n,e[l],s);return this}if(null==n&&null==r?(r=i,n=i=t):null==r&&("string"==typeof i?(r=n,n=t):(r=n,n=i,i=t)),r===!1)r=o;else if(!r)return this;return 1===s&&(a=r,r=function(e){return J().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=J.guid++)),this.each(function(){J.event.add(this,e,r,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,J(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,i,e[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=o),this.each(function(){J.event.remove(this,e,n,i)})},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,i){return J(this.context).on(e,this.selector,t,i),this},die:function(e,t){return J(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){J.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?J.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,i=e.guid||J.guid++,n=0,r=function(i){var r=(J._data(this,"lastToggle"+e.guid)||0)%n;return J._data(this,"lastToggle"+e.guid,r+1),i.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=i;n<t.length;)t[n++].guid=i;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){J.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},Pt.test(t)&&(J.event.fixHooks[t]=J.event.keyHooks),Mt.test(t)&&(J.event.fixHooks[t]=J.event.mouseHooks)}),function(e,t){function i(e,t,i,n){i=i||[],t=t||M;var r,o,s,a,l=t.nodeType;if(!e||"string"!=typeof e)return i;if(1!==l&&9!==l)return[];if(s=x(t),!s&&!n&&(r=it.exec(e)))if(a=r[1]){if(9===l){if(o=t.getElementById(a),!o||!o.parentNode)return i;if(o.id===a)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&_(t,o)&&o.id===a)return i.push(o),i}else{if(r[2])return q.apply(i,N.call(t.getElementsByTagName(e),0)),i;if((a=r[3])&&ht&&t.getElementsByClassName)return q.apply(i,N.call(t.getElementsByClassName(a),0)),i}return m(e.replace(K,"$1"),t,i,n,s)}function n(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function r(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function o(e){return j(function(t){return t=+t,j(function(i,n){for(var r,o=e([],i.length,t),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function s(e,t,i){if(e===t)return i;for(var n=e.nextSibling;n;){if(n===t)return-1;n=n.nextSibling}return 1}function a(e,t){var n,r,o,s,a,l,c,u=H[E][e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=b.preFilter;a;){(!n||(r=Z.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=et.exec(a))&&(o.push(n=new P(r.shift())),a=a.slice(n.length),n.type=r[0].replace(K," "));for(s in b.filter)(r=at[s].exec(a))&&(!c[s]||(r=c[s](r)))&&(o.push(n=new P(r.shift())),a=a.slice(n.length),n.type=s,n.matches=r);if(!n)break}return t?a.length:a?i.error(e):H(e,l).slice(0)}function l(e,t,i){var n=t.dir,r=i&&"parentNode"===t.dir,o=L++;return t.first?function(t,i,o){for(;t=t[n];)if(r||1===t.nodeType)return e(t,i,o)}:function(t,i,s){if(s){for(;t=t[n];)if((r||1===t.nodeType)&&e(t,i,s))return t}else for(var a,l=A+" "+o+" ",c=l+v;t=t[n];)if(r||1===t.nodeType){if((a=t[E])===c)return t.sizset;if("string"==typeof a&&0===a.indexOf(l)){if(t.sizset)return t}else{if(t[E]=c,e(t,i,s))return t.sizset=!0,t;t.sizset=!1}}}}function c(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function u(e,t,i,n,r){for(var o,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!i||i(o,n,r))&&(s.push(o),c&&t.push(a));return s}function d(e,t,i,n,r,o){return n&&!n[E]&&(n=d(n)),r&&!r[E]&&(r=d(r,o)),j(function(o,s,a,l){var c,d,h,p=[],m=[],g=s.length,v=o||f(t||"*",a.nodeType?[a]:a,[]),y=!e||!o&&t?v:u(v,p,e,a,l),b=i?r||(o?e:g||n)?[]:s:y;if(i&&i(y,b,a,l),n)for(c=u(b,m),n(c,[],a,l),d=c.length;d--;)(h=c[d])&&(b[m[d]]=!(y[m[d]]=h));if(o){if(r||e){if(r){for(c=[],d=b.length;d--;)(h=b[d])&&c.push(y[d]=h);r(null,b=[],c,l)}for(d=b.length;d--;)(h=b[d])&&(c=r?F.call(o,h):p[d])>-1&&(o[c]=!(s[c]=h))}}else b=u(b===s?b.splice(g,b.length):b),r?r(null,s,b,l):q.apply(s,b)})}function h(e){for(var t,i,n,r=e.length,o=b.relative[e[0].type],s=o||b.relative[" "],a=o?1:0,u=l(function(e){return e===t},s,!0),p=l(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,i,n){return!o&&(n||i!==T)||((t=i).nodeType?u(e,i,n):p(e,i,n))}];r>a;a++)if(i=b.relative[e[a].type])f=[l(c(f),i)];else{if(i=b.filter[e[a].type].apply(null,e[a].matches),i[E]){for(n=++a;r>n&&!b.relative[e[n].type];n++);return d(a>1&&c(f),a>1&&e.slice(0,a-1).join("").replace(K,"$1"),i,n>a&&h(e.slice(a,n)),r>n&&h(e=e.slice(n)),r>n&&e.join(""))}f.push(i)}return c(f)}function p(e,t){var n=t.length>0,r=e.length>0,o=function(s,a,l,c,d){var h,p,f,m=[],g=0,y="0",w=s&&[],x=null!=d,_=T,$=s||r&&b.find.TAG("*",d&&a.parentNode||a),C=A+=null==_?1:Math.E;for(x&&(T=a!==M&&a,v=o.el);null!=(h=$[y]);y++){if(r&&h){for(p=0;f=e[p];p++)if(f(h,a,l)){c.push(h);break}x&&(A=C,v=++o.el)}n&&((h=!f&&h)&&g--,s&&w.push(h))}if(g+=y,n&&y!==g){for(p=0;f=t[p];p++)f(w,m,a,l);if(s){if(g>0)for(;y--;)!w[y]&&!m[y]&&(m[y]=O.call(c));m=u(m)}q.apply(c,m),x&&!s&&m.length>0&&g+t.length>1&&i.uniqueSort(c)}return x&&(A=C,T=_),w};return o.el=0,n?j(o):o}function f(e,t,n){for(var r=0,o=t.length;o>r;r++)i(e,t[r],n);return n}function m(e,t,i,n,r){var o,s,l,c,u,d=a(e);if(d.length,!n&&1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(l=s[0]).type&&9===t.nodeType&&!r&&b.relative[s[1].type]){if(t=b.find.ID(l.matches[0].replace(st,""),t,r)[0],!t)return i;e=e.slice(s.shift().length)}for(o=at.POS.test(e)?-1:s.length-1;o>=0&&(l=s[o],!b.relative[c=l.type]);o--)if((u=b.find[c])&&(n=u(l.matches[0].replace(st,""),nt.test(s[0].type)&&t.parentNode||t,r))){if(s.splice(o,1),e=n.length&&s.join(""),!e)return q.apply(i,N.call(n,0)),i;break}}return $(e,d)(n,t,r,i,nt.test(e)),i}function g(){}var v,y,b,w,x,_,$,C,k,T,S=!0,D="undefined",E=("sizcache"+Math.random()).replace(".",""),P=String,M=e.document,I=M.documentElement,A=0,L=0,O=[].pop,q=[].push,N=[].slice,F=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},j=function(e,t){return e[E]=null==t||t,e},R=function(){var e={},t=[];return j(function(i,n){return t.push(i)>b.cacheLength&&delete e[t.shift()],e[i+" "]=n},e)},U=R(),H=R(),z=R(),W="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",V=B.replace("w","w#"),Y="([*^$|!~]?=)",G="\\["+W+"*("+B+")"+W+"*(?:"+Y+W+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+V+")|)|)"+W+"*\\]",X=":("+B+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+G+")|[^:]|\\\\.)*|.*))\\)|)",Q=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)",K=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g"),Z=new RegExp("^"+W+"*,"+W+"*"),et=new RegExp("^"+W+"*([\\x20\\t\\r\\n\\f>+~])"+W+"*"),tt=new RegExp(X),it=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,nt=/[\x20\t\r\n\f]*[+~]/,rt=/h\d/i,ot=/input|select|textarea|button/i,st=/\\(?!\\)/g,at={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),NAME:new RegExp("^\\[name=['\"]?("+B+")['\"]?\\]"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+G),PSEUDO:new RegExp("^"+X),POS:new RegExp(Q,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),needsContext:new RegExp("^"+W+"*[>+~]|"+Q,"i")},lt=function(e){var t=M.createElement("div");try{return e(t)}catch(i){return!1}finally{t=null}},ct=lt(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),ut=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==D&&"#"===e.firstChild.getAttribute("href")}),dt=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ht=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),pt=lt(function(e){e.id=E+0,e.innerHTML="<a name='"+E+"'></a><div name='"+E+"'></div>",I.insertBefore(e,I.firstChild);var t=M.getElementsByName&&M.getElementsByName(E).length===2+M.getElementsByName(E+0).length;return y=!M.getElementById(E),I.removeChild(e),t});try{N.call(I.childNodes,0)[0].nodeType}catch(ft){N=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){return i(t,null,null,[e]).length>0},w=i.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=w(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n];n++)i+=w(t);return i},x=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},_=i.contains=I.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:I.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},i.attr=function(e,t){var i,n=x(e);return n||(t=t.toLowerCase()),(i=b.attrHandle[t])?i(e):n||dt?e.getAttribute(t):(i=e.getAttributeNode(t),i?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null)},b=i.selectors={cacheLength:50,createPseudo:j,match:at,attrHandle:ut?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,i){if(typeof t.getElementById!==D&&!i){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}}:function(e,i,n){if(typeof i.getElementById!==D&&!n){var r=i.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==D&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:ct?function(e,t){return typeof t.getElementsByTagName!==D?t.getElementsByTagName(e):void 0}:function(e,t){var i=t.getElementsByTagName(e);if("*"===e){for(var n,r=[],o=0;n=i[o];o++)1===n.nodeType&&r.push(n);return r}return i},NAME:pt&&function(e,t){return typeof t.getElementsByName!==D?t.getElementsByName(name):void 0},CLASS:ht&&function(e,t,i){return typeof t.getElementsByClassName===D||i?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(st,""),e[3]=(e[4]||e[5]||"").replace(st,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||i.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&i.error(e[0]),e},PSEUDO:function(e){var t,i;return at.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(i=a(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:y?function(e){return e=e.replace(st,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(st,""),function(t){var i=typeof t.getAttributeNode!==D&&t.getAttributeNode("id");return i&&i.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(st,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=U[E][e+" "];return t||(t=new RegExp("(^|"+W+")"+e+"("+W+"|$)"))&&U(e,function(e){return t.test(e.className||typeof e.getAttribute!==D&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=i.attr(r,e);return null==o?"!="===t:t?(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.substr(o.length-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t?o===n||o.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n){return"nth"===e?function(e){var t,r,o=e.parentNode;if(1===i&&0===n)return!0;if(o)for(r=0,t=o.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return r-=n,r===i||0===r%i&&r/i>=0}:function(t){var i=t;switch(e){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===e)return!0;i=t;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var n,r=b.pseudos[e]||b.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return r[E]?r(t):r.length>1?(n=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?j(function(e,i){for(var n,o=r(e,t),s=o.length;s--;)n=F.call(e,o[s]),e[n]=!(i[n]=o[s])}):function(e){return r(e,0,n)}):r}},pseudos:{not:j(function(e){var t=[],i=[],n=$(e.replace(K,"$1"));return n[E]?j(function(e,t,i,r){for(var o,s=n(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,n(t,null,o,i),!i.pop()}}),has:j(function(e){return function(t){return i(e,t).length>0}}),contains:j(function(e){return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return rt.test(e.nodeName)},text:function(e){var t,i;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:n("radio"),checkbox:n("checkbox"),file:n("file"),password:n("password"),image:n("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return ot.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,i){return[0>i?i+t:i]}),even:o(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:o(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:o(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:o(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},C=I.compareDocumentPosition?function(e,t){return e===t?(k=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return k=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,n,r=[],o=[],a=e.parentNode,l=t.parentNode,c=a;if(a===l)return s(e,t);if(!a)return-1;if(!l)return 1;for(;c;)r.unshift(c),c=c.parentNode;for(c=l;c;)o.unshift(c),c=c.parentNode;i=r.length,n=o.length;for(var u=0;i>u&&n>u;u++)if(r[u]!==o[u])return s(r[u],o[u]);return u===i?s(e,o[u],-1):s(r[u],t,1)},[0,0].sort(C),S=!k,i.uniqueSort=function(e){var t,i=[],n=1,r=0;if(k=S,e.sort(C),k){for(;t=e[n];n++)t===e[n-1]&&(r=i.push(n));for(;r--;)e.splice(i[r],1)}return e},i.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},$=i.compile=function(e,t){var i,n=[],r=[],o=z[E][e+" "];if(!o){for(t||(t=a(e)),i=t.length;i--;)o=h(t[i]),o[E]?n.push(o):r.push(o);o=z(e,p(r,n))}return o},M.querySelectorAll&&function(){var e,t=m,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],s=[":active"],l=I.matchesSelector||I.mozMatchesSelector||I.webkitMatchesSelector||I.oMatchesSelector||I.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+W+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+W+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),m=function(e,i,r,s,l){if(!s&&!l&&!o.test(e)){var c,u,d=!0,h=E,p=i,f=9===i.nodeType&&e;if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){for(c=a(e),(d=i.getAttribute("id"))?h=d.replace(n,"\\$&"):i.setAttribute("id",h),h="[id='"+h+"'] ",u=c.length;u--;)c[u]=h+c[u].join("");p=nt.test(e)&&i.parentNode||i,f=c.join(",")}if(f)try{return q.apply(r,N.call(p.querySelectorAll(f),0)),r}catch(m){}finally{d||i.removeAttribute("id")}}return t(e,i,r,s,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),s.push("!=",X)}catch(i){}}),s=new RegExp(s.join("|")),i.matchesSelector=function(t,n){if(n=n.replace(r,"='$1']"),!x(t)&&!s.test(n)&&!o.test(n))try{var a=l.call(t,n);if(a||e||t.document&&11!==t.document.nodeType)return a}catch(c){}return i(n,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=g.prototype=b.pseudos,b.setFilters=new g,i.attr=J.attr,J.find=i,J.expr=i.selectors,J.expr[":"]=J.expr.pseudos,J.unique=i.uniqueSort,J.text=i.getText,J.isXMLDoc=i.isXML,J.contains=i.contains
}(e);var Lt=/Until$/,Ot=/^(?:parents|prev(?:Until|All))/,qt=/^.[^:#\[\.,]*$/,Nt=J.expr.match.needsContext,Ft={children:!0,contents:!0,next:!0,prev:!0};J.fn.extend({find:function(e){var t,i,n,r,o,s,a=this;if("string"!=typeof e)return J(e).filter(function(){for(t=0,i=a.length;i>t;t++)if(J.contains(a[t],this))return!0});for(s=this.pushStack("","find",e),t=0,i=this.length;i>t;t++)if(n=s.length,J.find(e,this[t],s),t>0)for(r=n;r<s.length;r++)for(o=0;n>o;o++)if(s[o]===s[r]){s.splice(r--,1);break}return s},has:function(e){var t,i=J(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(J.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Nt.test(e)?J(e,this.context).index(this[0])>=0:J.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,n=0,r=this.length,o=[],s=Nt.test(e)||"string"!=typeof e?J(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(s?s.index(i)>-1:J.find.matchesSelector(i,e)){o.push(i);break}i=i.parentNode}return o=o.length>1?J.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?J.inArray(this[0],J(e)):J.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?J(e,t):J.makeArray(e&&e.nodeType?[e]:e),n=J.merge(this.get(),i);return this.pushStack(a(i[0])||a(n[0])?n:J.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),J.fn.andSelf=J.fn.addBack,J.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return J.dir(e,"parentNode")},parentsUntil:function(e,t,i){return J.dir(e,"parentNode",i)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return J.dir(e,"nextSibling")},prevAll:function(e){return J.dir(e,"previousSibling")},nextUntil:function(e,t,i){return J.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return J.dir(e,"previousSibling",i)},siblings:function(e){return J.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return J.sibling(e.firstChild)},contents:function(e){return J.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:J.merge([],e.childNodes)}},function(e,t){J.fn[e]=function(i,n){var r=J.map(this,t,i);return Lt.test(e)||(n=i),n&&"string"==typeof n&&(r=J.filter(n,r)),r=this.length>1&&!Ft[e]?J.unique(r):r,this.length>1&&Ot.test(e)&&(r=r.reverse()),this.pushStack(r,e,Y.call(arguments).join(","))}}),J.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?J.find.matchesSelector(t[0],e)?[t[0]]:[]:J.find.matches(e,t)},dir:function(e,i,n){for(var r=[],o=e[i];o&&9!==o.nodeType&&(n===t||1!==o.nodeType||!J(o).is(n));)1===o.nodeType&&r.push(o),o=o[i];return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var jt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Rt=/ jQuery\d+="(?:null|\d+)"/g,Ut=/^\s+/,Ht=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,Wt=/<tbody/i,Bt=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,Yt=/<(?:script|object|embed|option|style)/i,Gt=new RegExp("<(?:"+jt+")[\\s/>]","i"),Xt=/^(?:checkbox|radio)$/,Qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Kt=/\/(java|ecma)script/i,Jt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ei=u(U),ti=ei.appendChild(U.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,J.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),J.fn.extend({text:function(e){return J.access(this,function(e){return e===t?J.text(this):this.empty().append((this[0]&&this[0].ownerDocument||U).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(J.isFunction(e))return this.each(function(t){J(this).wrapAll(e.call(this,t))});if(this[0]){var t=J(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return J.isFunction(e)?this.each(function(t){J(this).wrapInner(e.call(this,t))}):this.each(function(){var t=J(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=J.isFunction(e);return this.each(function(i){J(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=J.clean(arguments);return this.pushStack(J.merge(e,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=J.clean(arguments);return this.pushStack(J.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)(!e||J.filter(e,[i]).length)&&(!t&&1===i.nodeType&&(J.cleanData(i.getElementsByTagName("*")),J.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&J.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return J.clone(this,e,t)})},html:function(e){return J.access(this,function(e){var i=this[0]||{},n=0,r=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(Rt,""):t;if(!("string"!=typeof e||Vt.test(e)||!J.support.htmlSerialize&&Gt.test(e)||!J.support.leadingWhitespace&&Ut.test(e)||Zt[(zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ht,"<$1></$2>");try{for(;r>n;n++)i=this[n]||{},1===i.nodeType&&(J.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(o){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return a(this[0])?this.length?this.pushStack(J(J.isFunction(e)?e():e),"replaceWith",e):this:J.isFunction(e)?this.each(function(t){var i=J(this),n=i.html();i.replaceWith(e.call(this,t,n))}):("string"!=typeof e&&(e=J(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;J(this).remove(),t?J(t).before(e):J(i).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,n){e=[].concat.apply([],e);var r,o,s,a,l=0,c=e[0],u=[],h=this.length;if(!J.support.checkClone&&h>1&&"string"==typeof c&&Qt.test(c))return this.each(function(){J(this).domManip(e,i,n)});if(J.isFunction(c))return this.each(function(r){var o=J(this);e[0]=c.call(this,r,i?o.html():t),o.domManip(e,i,n)});if(this[0]){if(r=J.buildFragment(e,this,u),s=r.fragment,o=s.firstChild,1===s.childNodes.length&&(s=o),o)for(i=i&&J.nodeName(o,"tr"),a=r.cacheable||h-1;h>l;l++)n.call(i&&J.nodeName(this[l],"table")?d(this[l],"tbody"):this[l],l===a?s:J.clone(s,!0,!0));s=o=null,u.length&&J.each(u,function(e,t){t.src?J.ajax?J.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):J.error("no ajax"):J.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Jt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),J.buildFragment=function(e,i,n){var r,o,s,a=e[0];return i=i||U,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,1===e.length&&"string"==typeof a&&a.length<512&&i===U&&"<"===a.charAt(0)&&!Yt.test(a)&&(J.support.checkClone||!Qt.test(a))&&(J.support.html5Clone||!Gt.test(a))&&(o=!0,r=J.fragments[a],s=r!==t),r||(r=i.createDocumentFragment(),J.clean(e,i,r,n),o&&(J.fragments[a]=s&&r)),{fragment:r,cacheable:o}},J.fragments={},J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){J.fn[e]=function(i){var n,r=0,o=[],s=J(i),a=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return s[t](this[0]),this;for(;a>r;r++)n=(r>0?this.clone(!0):this).get(),J(s[r])[t](n),o=o.concat(n);return this.pushStack(o,e,s.selector)}}),J.extend({clone:function(e,t,i){var n,r,o,s;if(J.support.html5Clone||J.isXMLDoc(e)||!Gt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(ti.innerHTML=e.outerHTML,ti.removeChild(s=ti.firstChild)),!(J.support.noCloneEvent&&J.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||J.isXMLDoc(e)))for(p(e,s),n=f(e),r=f(s),o=0;n[o];++o)r[o]&&p(n[o],r[o]);if(t&&(h(e,s),i))for(n=f(e),r=f(s),o=0;n[o];++o)h(n[o],r[o]);return n=r=null,s},clean:function(e,t,i,n){var r,o,s,a,l,c,d,h,p,f,g,v=t===U&&ei,y=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=U),r=0;null!=(s=e[r]);r++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(Bt.test(s)){for(v=v||u(t),d=t.createElement("div"),v.appendChild(d),s=s.replace(Ht,"<$1></$2>"),a=(zt.exec(s)||["",""])[1].toLowerCase(),l=Zt[a]||Zt._default,c=l[0],d.innerHTML=l[1]+s+l[2];c--;)d=d.lastChild;if(!J.support.tbody)for(h=Wt.test(s),p="table"!==a||h?"<table>"!==l[1]||h?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,o=p.length-1;o>=0;--o)J.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!J.support.leadingWhitespace&&Ut.test(s)&&d.insertBefore(t.createTextNode(Ut.exec(s)[0]),d.firstChild),s=d.childNodes,d.parentNode.removeChild(d)}else s=t.createTextNode(s);s.nodeType?y.push(s):J.merge(y,s)}if(d&&(s=d=v=null),!J.support.appendChecked)for(r=0;null!=(s=y[r]);r++)J.nodeName(s,"input")?m(s):"undefined"!=typeof s.getElementsByTagName&&J.grep(s.getElementsByTagName("input"),m);if(i)for(f=function(e){return!e.type||Kt.test(e.type)?n?n.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):void 0},r=0;null!=(s=y[r]);r++)J.nodeName(s,"script")&&f(s)||(i.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(g=J.grep(J.merge([],s.getElementsByTagName("script")),f),y.splice.apply(y,[r+1,0].concat(g)),r+=g.length));return y},cleanData:function(e,t){for(var i,n,r,o,s=0,a=J.expando,l=J.cache,c=J.support.deleteExpando,u=J.event.special;null!=(r=e[s]);s++)if((t||J.acceptData(r))&&(n=r[a],i=n&&l[n])){if(i.events)for(o in i.events)u[o]?J.event.remove(r,o):J.removeEvent(r,o,i.handle);l[n]&&(delete l[n],c?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,J.deletedIds.push(n))}}}),function(){var e,t;J.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=J.uaMatch(z.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),J.browser=t,J.sub=function(){function e(t,i){return new e.fn.init(t,i)}J.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,n){return n&&n instanceof J&&!(n instanceof e)&&(n=e(n)),J.fn.init.call(this,i,n,t)},e.fn.init.prototype=e.fn;var t=e(U);return e}}();var ii,ni,ri,oi=/alpha\([^)]*\)/i,si=/opacity=([^)]*)/,ai=/^(top|right|bottom|left)$/,li=/^(none|table(?!-c[ea]).+)/,ci=/^margin/,ui=new RegExp("^("+Z+")(.*)$","i"),di=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),hi=new RegExp("^([-+])=("+Z+")","i"),pi={BODY:"block"},fi={position:"absolute",visibility:"hidden",display:"block"},mi={letterSpacing:0,fontWeight:400},gi=["Top","Right","Bottom","Left"],vi=["Webkit","O","Moz","ms"],yi=J.fn.toggle;J.fn.extend({css:function(e,i){return J.access(this,function(e,i,n){return n!==t?J.style(e,i,n):J.css(e,i)},e,i,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var i="boolean"==typeof e;return J.isFunction(e)&&J.isFunction(t)?yi.apply(this,arguments):this.each(function(){(i?e:v(this))?J(this).show():J(this).hide()})}}),J.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ii(e,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":J.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,l=J.camelCase(i),c=e.style;if(i=J.cssProps[l]||(J.cssProps[l]=g(c,l)),a=J.cssHooks[i]||J.cssHooks[l],n===t)return a&&"get"in a&&(o=a.get(e,!1,r))!==t?o:c[i];if(s=typeof n,"string"===s&&(o=hi.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(J.css(e,i)),s="number"),!(null==n||"number"===s&&isNaN(n)||("number"===s&&!J.cssNumber[l]&&(n+="px"),a&&"set"in a&&(n=a.set(e,n,r))===t)))try{c[i]=n}catch(u){}}},css:function(e,i,n,r){var o,s,a,l=J.camelCase(i);return i=J.cssProps[l]||(J.cssProps[l]=g(e.style,l)),a=J.cssHooks[i]||J.cssHooks[l],a&&"get"in a&&(o=a.get(e,!0,r)),o===t&&(o=ii(e,i)),"normal"===o&&i in mi&&(o=mi[i]),n||r!==t?(s=parseFloat(o),n||J.isNumeric(s)?s||0:o):o},swap:function(e,t,i){var n,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];n=i.call(e);for(r in t)e.style[r]=o[r];return n}}),e.getComputedStyle?ii=function(t,i){var n,r,o,s,a=e.getComputedStyle(t,null),l=t.style;return a&&(n=a.getPropertyValue(i)||a[i],""===n&&!J.contains(t.ownerDocument,t)&&(n=J.style(t,i)),di.test(n)&&ci.test(i)&&(r=l.width,o=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=n,n=a.width,l.width=r,l.minWidth=o,l.maxWidth=s)),n}:U.documentElement.currentStyle&&(ii=function(e,t){var i,n,r=e.currentStyle&&e.currentStyle[t],o=e.style;return null==r&&o&&o[t]&&(r=o[t]),di.test(r)&&!ai.test(t)&&(i=o.left,n=e.runtimeStyle&&e.runtimeStyle.left,n&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=i,n&&(e.runtimeStyle.left=n)),""===r?"auto":r}),J.each(["height","width"],function(e,t){J.cssHooks[t]={get:function(e,i,n){return i?0===e.offsetWidth&&li.test(ii(e,"display"))?J.swap(e,fi,function(){return x(e,t,n)}):x(e,t,n):void 0},set:function(e,i,n){return b(e,i,n?w(e,t,n,J.support.boxSizing&&"border-box"===J.css(e,"boxSizing")):0)}}}),J.support.opacity||(J.cssHooks.opacity={get:function(e,t){return si.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=J.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,t>=1&&""===J.trim(o.replace(oi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=oi.test(o)?o.replace(oi,r):o+" "+r)}}),J(function(){J.support.reliableMarginRight||(J.cssHooks.marginRight={get:function(e,t){return J.swap(e,{display:"inline-block"},function(){return t?ii(e,"marginRight"):void 0})}}),!J.support.pixelPosition&&J.fn.position&&J.each(["top","left"],function(e,t){J.cssHooks[t]={get:function(e,i){if(i){var n=ii(e,t);return di.test(n)?J(e).position()[t]+"px":n}}}})}),J.expr&&J.expr.filters&&(J.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!J.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ii(e,"display"))},J.expr.filters.visible=function(e){return!J.expr.filters.hidden(e)}),J.each({margin:"",padding:"",border:"Width"},function(e,t){J.cssHooks[e+t]={expand:function(i){var n,r="string"==typeof i?i.split(" "):[i],o={};for(n=0;4>n;n++)o[e+gi[n]+t]=r[n]||r[n-2]||r[0];return o}},ci.test(e)||(J.cssHooks[e+t].set=b)});var bi=/%20/g,wi=/\[\]$/,xi=/\r?\n/g,_i=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,$i=/^(?:select|textarea)/i;J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?J.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||$i.test(this.nodeName)||_i.test(this.type))}).map(function(e,t){var i=J(this).val();return null==i?null:J.isArray(i)?J.map(i,function(e){return{name:t.name,value:e.replace(xi,"\r\n")}}):{name:t.name,value:i.replace(xi,"\r\n")}}).get()}}),J.param=function(e,i){var n,r=[],o=function(e,t){t=J.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(e)||e.jquery&&!J.isPlainObject(e))J.each(e,function(){o(this.name,this.value)});else for(n in e)$(n,e[n],i,o);return r.join("&").replace(bi,"+")};var Ci,ki,Ti=/#.*$/,Si=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Di=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ei=/^(?:GET|HEAD)$/,Pi=/^\/\//,Mi=/\?/,Ii=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Ai=/([?&])_=[^&]*/,Li=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Oi=J.fn.load,qi={},Ni={},Fi=["*/"]+["*"];try{ki=H.href}catch(ji){ki=U.createElement("a"),ki.href="",ki=ki.href}Ci=Li.exec(ki.toLowerCase())||[],J.fn.load=function(e,i,n){if("string"!=typeof e&&Oi)return Oi.apply(this,arguments);if(!this.length)return this;var r,o,s,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),J.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(o="POST"),J.ajax({url:e,type:o,dataType:"html",data:i,complete:function(e,t){n&&a.each(n,s||[e.responseText,t,e])}}).done(function(e){s=arguments,a.html(r?J("<div>").append(e.replace(Ii,"")).find(r):e)}),this},J.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){J.fn[t]=function(e){return this.on(t,e)}}),J.each(["get","post"],function(e,i){J[i]=function(e,n,r,o){return J.isFunction(n)&&(o=o||r,r=n,n=t),J.ajax({type:i,url:e,data:n,success:r,dataType:o})}}),J.extend({getScript:function(e,i){return J.get(e,t,i,"script")},getJSON:function(e,t,i){return J.get(e,t,i,"json")},ajaxSetup:function(e,t){return t?T(e,J.ajaxSettings):(t=e,e=J.ajaxSettings),T(e,t),e},ajaxSettings:{url:ki,isLocal:Di.test(Ci[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Fi},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(qi),ajaxTransport:C(Ni),ajax:function(e,i){function n(e,i,n,s){var c,d,y,b,x,$=i;2!==w&&(w=2,l&&clearTimeout(l),a=t,o=s||"",_.readyState=e>0?4:0,n&&(b=S(h,_,n)),e>=200&&300>e||304===e?(h.ifModified&&(x=_.getResponseHeader("Last-Modified"),x&&(J.lastModified[r]=x),x=_.getResponseHeader("Etag"),x&&(J.etag[r]=x)),304===e?($="notmodified",c=!0):(c=D(h,b),$=c.state,d=c.data,y=c.error,c=!y)):(y=$,(!$||e)&&($="error",0>e&&(e=0))),_.status=e,_.statusText=(i||$)+"",c?m.resolveWith(p,[d,$,_]):m.rejectWith(p,[_,$,y]),_.statusCode(v),v=t,u&&f.trigger("ajax"+(c?"Success":"Error"),[_,h,c?d:y]),g.fireWith(p,[_,$]),u&&(f.trigger("ajaxComplete",[_,h]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var r,o,s,a,l,c,u,d,h=J.ajaxSetup({},i),p=h.context||h,f=p!==h&&(p.nodeType||p instanceof J)?J(p):J.event,m=J.Deferred(),g=J.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,x="canceled",_={readyState:0,setRequestHeader:function(e,t){if(!w){var i=e.toLowerCase();e=b[i]=b[i]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===w?o:null},getResponseHeader:function(e){var i;if(2===w){if(!s)for(s={};i=Si.exec(o);)s[i[1].toLowerCase()]=i[2];i=s[e.toLowerCase()]}return i===t?null:i},overrideMimeType:function(e){return w||(h.mimeType=e),this},abort:function(e){return e=e||x,a&&a.abort(e),n(0,e),this}};if(m.promise(_),_.success=_.done,_.error=_.fail,_.complete=g.add,_.statusCode=function(e){if(e){var t;if(2>w)for(t in e)v[t]=[v[t],e[t]];else t=e[_.status],_.always(t)}return this},h.url=((e||h.url)+"").replace(Ti,"").replace(Pi,Ci[1]+"//"),h.dataTypes=J.trim(h.dataType||"*").toLowerCase().split(tt),null==h.crossDomain&&(c=Li.exec(h.url.toLowerCase()),h.crossDomain=!(!c||c[1]===Ci[1]&&c[2]===Ci[2]&&(c[3]||("http:"===c[1]?80:443))==(Ci[3]||("http:"===Ci[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=J.param(h.data,h.traditional)),k(qi,h,i,_),2===w)return _;if(u=h.global,h.type=h.type.toUpperCase(),h.hasContent=!Ei.test(h.type),u&&0===J.active++&&J.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(Mi.test(h.url)?"&":"?")+h.data,delete h.data),r=h.url,h.cache===!1)){var $=J.now(),C=h.url.replace(Ai,"$1_="+$);h.url=C+(C===h.url?(Mi.test(h.url)?"&":"?")+"_="+$:"")}(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&_.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(r=r||h.url,J.lastModified[r]&&_.setRequestHeader("If-Modified-Since",J.lastModified[r]),J.etag[r]&&_.setRequestHeader("If-None-Match",J.etag[r])),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Fi+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)_.setRequestHeader(d,h.headers[d]);if(!h.beforeSend||h.beforeSend.call(p,_,h)!==!1&&2!==w){x="abort";for(d in{success:1,error:1,complete:1})_[d](h[d]);if(a=k(Ni,h,i,_)){_.readyState=1,u&&f.trigger("ajaxSend",[_,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},h.timeout));try{w=1,a.send(y,n)}catch(T){if(!(2>w))throw T;n(-1,T)}}else n(-1,"No Transport");return _}return _.abort()},active:0,lastModified:{},etag:{}});var Ri=[],Ui=/\?/,Hi=/(=)\?(?=&|$)|\?\?/,zi=J.now();J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ri.pop()||J.expando+"_"+zi++;return this[e]=!0,e}}),J.ajaxPrefilter("json jsonp",function(i,n,r){var o,s,a,l=i.data,c=i.url,u=i.jsonp!==!1,d=u&&Hi.test(c),h=u&&!d&&"string"==typeof l&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hi.test(l);return"jsonp"===i.dataTypes[0]||d||h?(o=i.jsonpCallback=J.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,s=e[o],d?i.url=c.replace(Hi,"$1"+o):h?i.data=l.replace(Hi,"$1"+o):u&&(i.url+=(Ui.test(c)?"&":"?")+i.jsonp+"="+o),i.converters["script json"]=function(){return a||J.error(o+" was not called"),a[0]},i.dataTypes[0]="json",e[o]=function(){a=arguments},r.always(function(){e[o]=s,i[o]&&(i.jsonpCallback=n.jsonpCallback,Ri.push(o)),a&&J.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return J.globalEval(e),e}}}),J.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),J.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=U.head||U.getElementsByTagName("head")[0]||U.documentElement;return{send:function(r,o){i=U.createElement("script"),i.async="async",e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,r){(r||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=t,r||o(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var Wi,Bi=e.ActiveXObject?function(){for(var e in Wi)Wi[e](0,1)}:!1,Vi=0;J.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&E()||P()}:E,function(e){J.extend(J.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(J.ajaxSettings.xhr()),J.support.ajax&&J.ajaxTransport(function(i){if(!i.crossDomain||J.support.cors){var n;return{send:function(r,o){var s,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),!i.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(e,r){var a,c,u,d,h;try{if(n&&(r||4===l.readyState))if(n=t,s&&(l.onreadystatechange=J.noop,Bi&&delete Wi[s]),r)4!==l.readyState&&l.abort();else{a=l.status,u=l.getAllResponseHeaders(),d={},h=l.responseXML,h&&h.documentElement&&(d.xml=h);try{d.text=l.responseText}catch(p){}try{c=l.statusText}catch(p){c=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(f){r||o(-1,f)}d&&o(a,c,d,u)},i.async?4===l.readyState?setTimeout(n,0):(s=++Vi,Bi&&(Wi||(Wi={},J(e).unload(Bi)),Wi[s]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var Yi,Gi,Xi=/^(?:toggle|show|hide)$/,Qi=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Ki=/queueHooks$/,Ji=[O],Zi={"*":[function(e,t){var i,n,r=this.createTween(e,t),o=Qi.exec(t),s=r.cur(),a=+s||0,l=1,c=20;if(o){if(i=+o[2],n=o[3]||(J.cssNumber[e]?"":"px"),"px"!==n&&a){a=J.css(r.elem,e,!0)||i||1;do l=l||".5",a/=l,J.style(r.elem,e,a+n);while(l!==(l=r.cur()/s)&&1!==l&&--c)}r.unit=n,r.start=a,r.end=o[1]?a+(o[1]+1)*i:i}return r}]};J.Animation=J.extend(A,{tweener:function(e,t){J.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;r>n;n++)i=e[n],Zi[i]=Zi[i]||[],Zi[i].unshift(t)},prefilter:function(e,t){t?Ji.unshift(e):Ji.push(e)}}),J.Tween=q,q.prototype={constructor:q,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(J.cssNumber[i]?"":"px")},cur:function(){var e=q.propHooks[this.prop];return e&&e.get?e.get(this):q.propHooks._default.get(this)},run:function(e){var t,i=q.propHooks[this.prop];return this.pos=t=this.options.duration?J.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=J.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){J.fx.step[e.prop]?J.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[J.cssProps[e.prop]]||J.cssHooks[e.prop])?J.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},J.each(["toggle","show","hide"],function(e,t){var i=J.fn[t];J.fn[t]=function(n,r,o){return null==n||"boolean"==typeof n||!e&&J.isFunction(n)&&J.isFunction(r)?i.apply(this,arguments):this.animate(N(t,!0),n,r,o)}}),J.fn.extend({fadeTo:function(e,t,i,n){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=J.isEmptyObject(e),o=J.speed(t,i,n),s=function(){var t=A(this,J.extend({},e),o);r&&t.stop(!0)};return r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,i,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=J.timers,s=J._data(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&Ki.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem===this&&(null==e||o[i].queue===e)&&(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&J.dequeue(this,e)})}}),J.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){J.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),J.speed=function(e,t,i){var n=e&&"object"==typeof e?J.extend({},e):{complete:i||!i&&t||J.isFunction(e)&&e,duration:e,easing:i&&t||t&&!J.isFunction(t)&&t};return n.duration=J.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in J.fx.speeds?J.fx.speeds[n.duration]:J.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){J.isFunction(n.old)&&n.old.call(this),n.queue&&J.dequeue(this,n.queue)},n},J.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},J.timers=[],J.fx=q.prototype.init,J.fx.tick=function(){var e,i=J.timers,n=0;for(Yi=J.now();n<i.length;n++)e=i[n],!e()&&i[n]===e&&i.splice(n--,1);i.length||J.fx.stop(),Yi=t},J.fx.timer=function(e){e()&&J.timers.push(e)&&!Gi&&(Gi=setInterval(J.fx.tick,J.fx.interval))},J.fx.interval=13,J.fx.stop=function(){clearInterval(Gi),Gi=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fx.step={},J.expr&&J.expr.filters&&(J.expr.filters.animated=function(e){return J.grep(J.timers,function(t){return e===t.elem}).length});var en=/^(?:body|html)$/i;J.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){J.offset.setOffset(this,e,t)});var i,n,r,o,s,a,l,c={top:0,left:0},u=this[0],d=u&&u.ownerDocument;if(d)return(n=d.body)===u?J.offset.bodyOffset(u):(i=d.documentElement,J.contains(i,u)?("undefined"!=typeof u.getBoundingClientRect&&(c=u.getBoundingClientRect()),r=F(d),o=i.clientTop||n.clientTop||0,s=i.clientLeft||n.clientLeft||0,a=r.pageYOffset||i.scrollTop,l=r.pageXOffset||i.scrollLeft,{top:c.top+a-o,left:c.left+l-s}):c)},J.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return J.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(J.css(e,"marginTop"))||0,i+=parseFloat(J.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var n=J.css(e,"position");"static"===n&&(e.style.position="relative");var r,o,s=J(e),a=s.offset(),l=J.css(e,"top"),c=J.css(e,"left"),u=("absolute"===n||"fixed"===n)&&J.inArray("auto",[l,c])>-1,d={},h={};u?(h=s.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),J.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):s.css(d)}},J.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),n=en.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(J.css(e,"marginTop"))||0,i.left-=parseFloat(J.css(e,"marginLeft"))||0,n.top+=parseFloat(J.css(t[0],"borderTopWidth"))||0,n.left+=parseFloat(J.css(t[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||U.body;e&&!en.test(e.nodeName)&&"static"===J.css(e,"position");)e=e.offsetParent;return e||U.body})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);J.fn[e]=function(r){return J.access(this,function(e,r,o){var s=F(e);return o===t?s?i in s?s[i]:s.document.documentElement[r]:e[r]:(s?s.scrollTo(n?J(s).scrollLeft():o,n?o:J(s).scrollTop()):e[r]=o,void 0)},e,r,arguments.length,null)}}),J.each({Height:"height",Width:"width"},function(e,i){J.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,r){J.fn[r]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return J.access(this,function(i,n,r){var o;return J.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(o=i.documentElement,Math.max(i.body["scroll"+e],o["scroll"+e],i.body["offset"+e],o["offset"+e],o["client"+e])):r===t?J.css(i,n,r,a):J.style(i,n,r,a)},i,s?r:t,s,null)}})}),e.jQuery=e.$=J,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return J})}(window),/*******************************************************************************
 * dPassword v0.1 - jQuery delayed password masking (iPhone style)
 *
 * licensed under MIT License
 *
 * Copyright (c) 2009 DECAF°, Stefan Ullrich (http://decaf.de)
 *
 * Permission is hereby granted, free of charge, to any person obtaining 
 * a copy of this software and associated documentation files (the "Software"), 
 * to deal in the Software without restriction, including without limitation 
 * the rights to use, copy, modify, merge, publish, distribute, sublicense, 
 * and/or sell copies of the Software, and to permit persons to whom the 
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be 
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES 
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. 
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, 
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR 
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR 
 * THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Known Issues: - delete marked text will not work
 *               - deleting a single chars will not work if char is 
 *                 not the last char
 *               - view will not follow cursor if textfield is too small
 *               - if id based styles are assigned, these styles will 
 *                 not be taken over
 *
 *******************************************************************************/
function(e){e.fn.dPassword=function(t){var n={interval:1,duration:1,replacement:"%u25CF",prefix:"password_",debug:!1},r=e.extend(n,t),o=new Array,s=new Array;e(this).each(function(){r.debug&&console.log("init ["+e(this).attr("id")+"]");var t=e(this).attr("name"),i=e(this).attr("id"),n=e(this).attr("class");e(this).attr("style"),e(this).attr("size"),e(this).attr("maxlength"),e(this).attr("disabled"),e(this).attr("tabindex");var a=e(this).attr("accesskey"),l=e(this).attr("value"),c=e(this).attr("prefixvalue");o.push(i),s.push(i),e(this).addClass("force-hide"),r.debug&&e(this).after('<span id="debug_'+r.prefix+t+'" style="color: #f00;"></span>'),e(this).after(' <input name="'+(r.prefix+t)+'" '+'id="'+(r.prefix+i)+'" '+'prefixvalue="'+c+'"'+'type="text" '+'value="'+l+'" '+(""!=n?'class="'+n+'"':"")+(void 0!=a?'accesskey="'+a+'"':"")+'autocomplete="off" autocapitalize="off"/>'),e("label[for="+i+"]").attr("for",r.prefix+i),e(this).attr("accesskey",""),e("#"+r.prefix+i).bind("keyup",function(){r.debug&&console.log("event: focus ["+getId(e(this).attr("id"))+"]"),check(getId(e(this).attr("id")),"",!0)}),e("#"+r.prefix+i).bind("blur",function(){r.debug&&console.log("event: blur ["+getId(e(this).attr("id"))+"]"),clearTimeout(o[getId(e(this).attr("id"))])})}),getId=function(t){r.prefix=e("#"+t).attr("prefixvalue"),r.prefix=r.prefix+"_";var i=r.prefix+"(.*)",n=new RegExp(i);return n.exec(t),t=RegExp.$1},setPassword=function(t,n){r.debug&&console.log("setPassword: ["+t+"]");var o="";for(i=0;i<n.length;i++)o+=n.charAt(i)==unescape(r.replacement)?e("#"+t).val().charAt(i):n.charAt(i);e("#"+t).val(o)},check=function(t,n,a){r.debug&&console.log("check: ["+t+"]");var l=e("#"+r.prefix+t).val();if(n!=l)if(setPassword(t,l),l.length>1){var c="";for(i=0;i<l.length-1;i++)c+=unescape(r.replacement);c+=l.charAt(l.length-1),e("#"+r.prefix+t).focus().val("").val(c),clearTimeout(s[t]),s[t]=setTimeout("convertLastChar('"+t+"')",r.duration);var u=e("#"+r.prefix+t);selectRange(u,c.length,c.length)}else clearTimeout(s[t]),s[t]=setTimeout("convertLastChar('"+t+"')",r.duration);r.debug&&e("#debug_"+r.prefix+t).text(e("#"+t).val()),a||(o[t]=setTimeout("check('"+t+"', '"+e("#"+r.prefix+t).val()+"', false)",r.interval))},selectRange=function(e,t,i){var n=e;return n.each(function(){if(n.setSelectionRange)n.focus(),n.setSelectionRange(t,i);else if(n.createTextRange){var e=n.createTextRange();e.collapse(!0),e.moveEnd("character",i),e.moveStart("character",t),e.select()}})},convertLastChar=function(t){if(""!=e("#"+r.prefix+t).val()){var n="";for(i=0;i<e("#"+r.prefix+t).val().length;i++)n+=unescape(r.replacement);e("#"+r.prefix+t).val(n)}}}}(jQuery);var Placeholders=function(){function e(e){var t;e.createTextRange?(t=e.createTextRange(),t.move("character",0),t.select()):e.selectionStart&&(e.focus(),e.setSelectionRange(0,0))}function t(){var t;this.value===this.getAttribute("placeholder")&&(f.hideOnFocus?(this.className=this.className.replace(g,""),this.value="",t=this.getAttribute("data-placeholdertype"),t&&(this.type=t)):e(this))}function i(){var e;""===this.value&&(this.className=this.className+" "+f.className,this.value=this.getAttribute("placeholder"),e=this.getAttribute("data-placeholdertype"),e&&(this.type="text"))}function n(){var e,t,i,n=this.getElementsByTagName("input"),r=this.getElementsByTagName("textarea"),o=n.length,s=o+r.length;for(i=0;s>i;i+=1)e=o>i?n[i]:r[i-o],t=e.getAttribute("placeholder"),e.value===t&&(e.value="")}function r(e){return h=this.value,!(h===this.getAttribute("placeholder")&&m.indexOf(e.keyCode)>-1)}function o(){var t;this.value!==h&&(this.className=this.className.replace(g,""),this.value=this.value.replace(this.getAttribute("placeholder"),""),t=this.getAttribute("data-placeholdertype"),t&&(this.type=t)),""===this.value&&(i.call(this),e(this))}function s(e,t,i){return e.addEventListener?e.addEventListener(t,i.bind(e),!1):e.attachEvent?e.attachEvent("on"+t,i.bind(e)):void 0}function a(e){f.hideOnFocus||(s(e,"keydown",r),s(e,"keyup",o)),s(e,"focus",t),s(e,"blur",i)}function l(){var e,t,i,r,o,l=document.getElementsByTagName("input"),c=document.getElementsByTagName("textarea"),u=l.length,d=u+c.length;for(e=0;d>e;e+=1)i=u>e?l[e]:c[e-u],o=i.getAttribute("placeholder"),p.indexOf(i.type)>-1&&o&&(r=i.getAttribute("data-currentplaceholder"),o!==r&&(i.value!==r&&i.value!==o&&i.value||(i.value=o,i.className=i.className+" "+f.className),r||(i.form&&(t=i.form,t.getAttribute("data-placeholdersubmit")||(s(t,"submit",n),t.setAttribute("data-placeholdersubmit","true"))),a(i)),i.setAttribute("data-currentplaceholder",o)))}function c(){var e,t,i,r,o=document.getElementsByTagName("input"),l=document.getElementsByTagName("textarea"),c=o.length,u=c+l.length;for(e=0;u>e;e+=1)if(t=c>e?o[e]:l[e-c],r=t.getAttribute("placeholder"),p.indexOf(t.type)>-1&&r){if("password"===t.type)try{t.type="text",t.setAttribute("data-placeholdertype","password")}catch(d){}t.setAttribute("data-currentplaceholder",r),(""===t.value||t.value===r)&&(t.className=t.className+" "+f.className,t.value=r),t.form&&(i=t.form,i.getAttribute("data-placeholdersubmit")||(s(i,"submit",n),i.setAttribute("data-placeholdersubmit","true"))),a(t)}}function u(e){var t,i,n,r,o,s=document.createElement("input");if("undefined"==typeof s.placeholder){for(t in e)e.hasOwnProperty(t)&&(f[t]=e[t]);i=document.createElement("style"),i.type="text/css";var a=f.styleImportant?"!important":"";return n=document.createTextNode("."+f.className+" { color:"+f.textColor+a+"; }"),i.styleSheet?i.styleSheet.cssText=n.nodeValue:i.appendChild(n),document.getElementsByTagName("head")[0].appendChild(i),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(r=t||0,o=this.length;o>r;r+=1)if(this[r]===e)return r;return-1}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r}),c(),f.live&&(d=setInterval(l,100)),!0}return!1}var d,h,p=["text","search","url","tel","email","password","number","textarea"],f={live:!1,hideOnFocus:!1,className:"placeholderspolyfill",textColor:"#999",styleImportant:!0},m=[37,38,39,40],g=new RegExp("\\b"+f.className+"\\b");return{init:u,refresh:l}}(),CryptoJS=CryptoJS||function(e,t){var i={},n=i.lib={},r=function(){},o=n.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=n.WordArray=o.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var r=0;e>r;r++)t[n+r>>>2]|=(255&i[r>>>2]>>>24-8*(r%4))<<24-8*((n+r)%4);else if(65535<i.length)for(r=0;e>r;r+=4)t[n+r>>>2]=i[r>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-8*(i%4),t.length=e.ceil(i/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;t>n;n+=4)i.push(0|4294967296*e.random());return new s.init(i,t)}}),a=i.enc={},l=a.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;e>n;n++){var r=255&t[n>>>2]>>>24-8*(n%4);i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;t>n;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-4*(n%8);return new s.init(i,t/2)}},c=a.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;e>n;n++)i.push(String.fromCharCode(255&t[n>>>2]>>>24-8*(n%4)));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;t>n;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-8*(n%4);return new s.init(i,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,r=i.sigBytes,o=this.blockSize,a=r/(4*o),a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0);if(t=a*o,r=e.min(4*t,r),t){for(var l=0;t>l;l+=o)this._doProcessBlock(n,l);l=n.splice(0,t),i.sigBytes-=r}return new s.init(l,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=i.algo={};return i}(Math);!function(){var e=CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp(),e=[];for(var r=0;i>r;r+=3)for(var o=(255&t[r>>>2]>>>24-8*(r%4))<<16|(255&t[r+1>>>2]>>>24-8*((r+1)%4))<<8|255&t[r+2>>>2]>>>24-8*((r+2)%4),s=0;4>s&&i>r+.75*s;s++)e.push(n.charAt(63&o>>>6*(3-s)));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var i=e.length,n=this._map,r=n.charAt(64);r&&(r=e.indexOf(r),-1!=r&&(i=r));for(var r=[],o=0,s=0;i>s;s++)if(s%4){var a=n.indexOf(e.charAt(s-1))<<2*(s%4),l=n.indexOf(e.charAt(s))>>>6-2*(s%4);r[o>>>2]|=(a|l)<<24-8*(o%4),o++}return t.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,i,n,r,o,s){return e=e+(t&i|~t&n)+r+s,(e<<o|e>>>32-o)+t}function i(e,t,i,n,r,o,s){return e=e+(t&n|i&~n)+r+s,(e<<o|e>>>32-o)+t}function n(e,t,i,n,r,o,s){return e=e+(t^i^n)+r+s,(e<<o|e>>>32-o)+t}function r(e,t,i,n,r,o,s){return e=e+(i^(t|~n))+r+s,(e<<o|e>>>32-o)+t}for(var o=CryptoJS,s=o.lib,a=s.WordArray,l=s.Hasher,s=o.algo,c=[],u=0;64>u;u++)c[u]=0|4294967296*e.abs(e.sin(u+1));s=s.MD5=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var s=0;16>s;s++){var a=o+s,l=e[a];e[a]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var s=this._hash.words,a=e[o+0],l=e[o+1],u=e[o+2],d=e[o+3],h=e[o+4],p=e[o+5],f=e[o+6],m=e[o+7],g=e[o+8],v=e[o+9],y=e[o+10],b=e[o+11],w=e[o+12],x=e[o+13],_=e[o+14],$=e[o+15],C=s[0],k=s[1],T=s[2],S=s[3],C=t(C,k,T,S,a,7,c[0]),S=t(S,C,k,T,l,12,c[1]),T=t(T,S,C,k,u,17,c[2]),k=t(k,T,S,C,d,22,c[3]),C=t(C,k,T,S,h,7,c[4]),S=t(S,C,k,T,p,12,c[5]),T=t(T,S,C,k,f,17,c[6]),k=t(k,T,S,C,m,22,c[7]),C=t(C,k,T,S,g,7,c[8]),S=t(S,C,k,T,v,12,c[9]),T=t(T,S,C,k,y,17,c[10]),k=t(k,T,S,C,b,22,c[11]),C=t(C,k,T,S,w,7,c[12]),S=t(S,C,k,T,x,12,c[13]),T=t(T,S,C,k,_,17,c[14]),k=t(k,T,S,C,$,22,c[15]),C=i(C,k,T,S,l,5,c[16]),S=i(S,C,k,T,f,9,c[17]),T=i(T,S,C,k,b,14,c[18]),k=i(k,T,S,C,a,20,c[19]),C=i(C,k,T,S,p,5,c[20]),S=i(S,C,k,T,y,9,c[21]),T=i(T,S,C,k,$,14,c[22]),k=i(k,T,S,C,h,20,c[23]),C=i(C,k,T,S,v,5,c[24]),S=i(S,C,k,T,_,9,c[25]),T=i(T,S,C,k,d,14,c[26]),k=i(k,T,S,C,g,20,c[27]),C=i(C,k,T,S,x,5,c[28]),S=i(S,C,k,T,u,9,c[29]),T=i(T,S,C,k,m,14,c[30]),k=i(k,T,S,C,w,20,c[31]),C=n(C,k,T,S,p,4,c[32]),S=n(S,C,k,T,g,11,c[33]),T=n(T,S,C,k,b,16,c[34]),k=n(k,T,S,C,_,23,c[35]),C=n(C,k,T,S,l,4,c[36]),S=n(S,C,k,T,h,11,c[37]),T=n(T,S,C,k,m,16,c[38]),k=n(k,T,S,C,y,23,c[39]),C=n(C,k,T,S,x,4,c[40]),S=n(S,C,k,T,a,11,c[41]),T=n(T,S,C,k,d,16,c[42]),k=n(k,T,S,C,f,23,c[43]),C=n(C,k,T,S,v,4,c[44]),S=n(S,C,k,T,w,11,c[45]),T=n(T,S,C,k,$,16,c[46]),k=n(k,T,S,C,u,23,c[47]),C=r(C,k,T,S,a,6,c[48]),S=r(S,C,k,T,m,10,c[49]),T=r(T,S,C,k,_,15,c[50]),k=r(k,T,S,C,p,21,c[51]),C=r(C,k,T,S,w,6,c[52]),S=r(S,C,k,T,d,10,c[53]),T=r(T,S,C,k,y,15,c[54]),k=r(k,T,S,C,l,21,c[55]),C=r(C,k,T,S,g,6,c[56]),S=r(S,C,k,T,$,10,c[57]),T=r(T,S,C,k,f,15,c[58]),k=r(k,T,S,C,x,21,c[59]),C=r(C,k,T,S,h,6,c[60]),S=r(S,C,k,T,b,10,c[61]),T=r(T,S,C,k,u,15,c[62]),k=r(k,T,S,C,v,21,c[63]);s[0]=0|s[0]+C,s[1]=0|s[1]+k,s[2]=0|s[2]+T,s[3]=0|s[3]+S},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;i[r>>>5]|=128<<24-r%32;var o=e.floor(n/4294967296);for(i[(r+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[(r+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process(),t=this._hash,i=t.words,n=0;4>n;n++)r=i[n],i[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=l.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=l._createHelper(s),o.HmacMD5=l._createHmacHelper(s)}(Math),function(){var e=CryptoJS,t=e.lib,i=t.Base,n=t.WordArray,t=e.algo,r=t.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=this.cfg,r=i.hasher.create(),o=n.create(),s=o.words,a=i.keySize,i=i.iterations;s.length<a;){l&&r.update(l);var l=r.update(e).finalize(t);r.reset();for(var c=1;i>c;c++)l=r.finalize(l),r.reset();o.concat(l)}return o.sigBytes=4*a,o}});e.EvpKDF=function(e,t,i){return r.create(i).compute(e,t)}}(),CryptoJS.lib.Cipher||function(e){var t=CryptoJS,i=t.lib,n=i.Base,r=i.WordArray,o=i.BufferedBlockAlgorithm,s=t.enc.Base64,a=t.algo.EvpKDF,l=i.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,i,n){return("string"==typeof i?f:p).encrypt(e,t,i,n)},decrypt:function(t,i,n){return("string"==typeof i?f:p).decrypt(e,t,i,n)}}}});i.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=t.mode={},u=function(t,i,n){var r=this._iv;r?this._iv=e:r=this._prevBlock;for(var o=0;n>o;o++)t[i+o]^=r[o]},d=(i.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();d.Encryptor=d.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize;u.call(this,e,t,n),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),d.Decryptor=d.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,r=e.slice(t,t+n);i.decryptBlock(e,t),u.call(this,e,t,n),this._prevBlock=r}}),c=c.CBC=d,d=(t.pad={}).Pkcs7={pad:function(e,t){for(var i=4*t,i=i-e.sigBytes%i,n=i<<24|i<<16|i<<8|i,o=[],s=0;i>s;s+=4)o.push(n);i=r.create(o,i),e.concat(i)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},i.BlockCipher=l.extend({cfg:l.cfg.extend({mode:c,padding:d}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=e.createEncryptor;else i=e.createDecryptor,this._minBufferSize=1;this._mode=i.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=i.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),c=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?r.create([1398893684,1701076831]).concat(e).concat(t):t).toString(s)},parse:function(e){e=s.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var i=r.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:i})}},p=i.SerializableCipher=n.extend({cfg:n.extend({format:c}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var r=e.createEncryptor(i,n);return t=r.finalize(t),r=r.cfg,h.create({ciphertext:t,key:i,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),t=(t.kdf={}).OpenSSL={execute:function(e,t,i,n){return n||(n=r.random(8)),e=a.create({keySize:t+i}).compute(e,n),i=r.create(e.words.slice(t),4*i),e.sigBytes=4*t,h.create({key:e,iv:i,salt:n})}},f=i.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:t}),encrypt:function(e,t,i,n){return n=this.cfg.extend(n),i=n.kdf.execute(i,e.keySize,e.ivSize),n.iv=i.iv,e=p.encrypt.call(this,e,t,i.key,n),e.mixIn(i),e},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),i=n.kdf.execute(i,e.keySize,e.ivSize,t.salt),n.iv=i.iv,p.decrypt.call(this,e,t,i.key,n)}})}(),function(){for(var e=CryptoJS,t=e.lib.BlockCipher,i=e.algo,n=[],r=[],o=[],s=[],a=[],l=[],c=[],u=[],d=[],h=[],p=[],f=0;256>f;f++)p[f]=128>f?f<<1:283^f<<1;for(var m=0,g=0,f=0;256>f;f++){var v=g^g<<1^g<<2^g<<3^g<<4,v=99^(v>>>8^255&v);n[m]=v,r[v]=m;var y=p[m],b=p[y],w=p[b],x=257*p[v]^16843008*v;o[m]=x<<24|x>>>8,s[m]=x<<16|x>>>16,a[m]=x<<8|x>>>24,l[m]=x,x=16843009*w^65537*b^257*y^16843008*m,c[v]=x<<24|x>>>8,u[v]=x<<16|x>>>16,d[v]=x<<8|x>>>24,h[v]=x,m?(m=y^p[p[p[w^y]]],g^=p[p[g]]):m=g=1}var _=[0,1,2,4,8,16,32,64,128,27,54],i=i.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,i=e.sigBytes/4,e=4*((this._nRounds=i+6)+1),r=this._keySchedule=[],o=0;e>o;o++)if(i>o)r[o]=t[o];else{var s=r[o-1];o%i?i>6&&4==o%i&&(s=n[s>>>24]<<24|n[255&s>>>16]<<16|n[255&s>>>8]<<8|n[255&s]):(s=s<<8|s>>>24,s=n[s>>>24]<<24|n[255&s>>>16]<<16|n[255&s>>>8]<<8|n[255&s],s^=_[0|o/i]<<24),r[o]=r[o-i]^s}for(t=this._invKeySchedule=[],i=0;e>i;i++)o=e-i,s=i%4?r[o]:r[o-4],t[i]=4>i||4>=o?s:c[n[s>>>24]]^u[n[255&s>>>16]]^d[n[255&s>>>8]]^h[n[255&s]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,a,l,n)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,c,u,d,h,r),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,r,o,s,a){for(var l=this._nRounds,c=e[t]^i[0],u=e[t+1]^i[1],d=e[t+2]^i[2],h=e[t+3]^i[3],p=4,f=1;l>f;f++)var m=n[c>>>24]^r[255&u>>>16]^o[255&d>>>8]^s[255&h]^i[p++],g=n[u>>>24]^r[255&d>>>16]^o[255&h>>>8]^s[255&c]^i[p++],v=n[d>>>24]^r[255&h>>>16]^o[255&c>>>8]^s[255&u]^i[p++],h=n[h>>>24]^r[255&c>>>16]^o[255&u>>>8]^s[255&d]^i[p++],c=m,u=g,d=v;m=(a[c>>>24]<<24|a[255&u>>>16]<<16|a[255&d>>>8]<<8|a[255&h])^i[p++],g=(a[u>>>24]<<24|a[255&d>>>16]<<16|a[255&h>>>8]<<8|a[255&c])^i[p++],v=(a[d>>>24]<<24|a[255&h>>>16]<<16|a[255&c>>>8]<<8|a[255&u])^i[p++],h=(a[h>>>24]<<24|a[255&c>>>16]<<16|a[255&u>>>8]<<8|a[255&d])^i[p++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=h},keySize:8});e.AES=t._createHelper(i)}(),function(e,t,i){"use strict";function n(e,t,i){var r;if(e)if(_(e))for(r in e)"prototype"!=r&&"length"!=r&&"name"!=r&&e.hasOwnProperty(r)&&t.call(i,e[r],r);else if(e.forEach&&e.forEach!==n)e.forEach(t,i);else if(e&&"number"==typeof e.length?"function"!=typeof e.hasOwnProperty&&"function"!=typeof e.constructor||e instanceof Q||ki&&e instanceof ki||"[object Object]"!==Ai.call(e)||"function"==typeof e.callee:0)for(r=0;r<e.length;r++)t.call(i,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(i,e[r],r);return e}function r(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i.sort()}function o(e,t,i){for(var n=r(e),o=0;o<n.length;o++)t.call(i,e[n[o]],n[o]);return n}function s(e){return function(t,i){e(i,t)}}function a(){for(var e,t=Oi.length;t;){if(t--,e=Oi[t].charCodeAt(0),57==e)return Oi[t]="A",Oi.join("");if(90!=e)return Oi[t]=String.fromCharCode(e+1),Oi.join("");Oi[t]="0"}return Oi.unshift("0"),Oi.join("")}function l(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e){var t=e.$$hashKey;return n(arguments,function(t){t!==e&&n(t,function(t,i){e[i]=t})}),l(e,t),e}function u(e){return parseInt(e,10)}function d(e,t){return c(new(c(function(){},{prototype:e})),t)}function h(){}function p(e){return e}function f(e){return function(){return e}}function m(e){return"undefined"==typeof e}function g(e){return"undefined"!=typeof e}function v(e){return null!=e&&"object"==typeof e}function y(e){return"string"==typeof e}function b(e){return"number"==typeof e}function w(e){return"[object Date]"==Ai.apply(e)}function x(e){return"[object Array]"==Ai.apply(e)}function _(e){return"function"==typeof e}function $(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function C(e){return y(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}function k(e){return e&&(e.nodeName||e.bind&&e.find)}function T(e,t,i){var r=[];return n(e,function(e,n,o){r.push(t.call(i,e,n,o))}),r}function S(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(t===e[i])return i;return-1}function D(e,t){var i=S(e,t);return i>=0&&e.splice(i,1),t}function E(e,t){if($(e)||e&&e.$evalAsync&&e.$watch)throw Error("Can't copy Window or Scope");if(t){if(e===t)throw Error("Can't copy equivalent objects or arrays");if(x(e))for(var i=t.length=0;i<e.length;i++)t.push(E(e[i]));else{i=t.$$hashKey,n(t,function(e,i){delete t[i]});for(var r in e)t[r]=E(e[r]);l(t,i)}}else(t=e)&&(x(e)?t=E(e,[]):w(e)?t=new Date(e.getTime()):v(e)&&(t=E(e,{})));return t}function P(e,t){var i,t=t||{};for(i in e)e.hasOwnProperty(i)&&"$$"!==i.substr(0,2)&&(t[i]=e[i]);return t}function M(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r=typeof e;if(r==typeof t&&"object"==r){if(!x(e)){if(w(e))return w(t)&&e.getTime()==t.getTime();if(e&&e.$evalAsync&&e.$watch||t&&t.$evalAsync&&t.$watch||$(e)||$(t))return!1;r={};for(n in e)if("$"!==n.charAt(0)&&!_(e[n])){if(!M(e[n],t[n]))return!1;r[n]=!0}for(n in t)if(!r[n]&&"$"!==n.charAt(0)&&t[n]!==i&&!_(t[n]))return!1;return!0}if((r=e.length)==t.length){for(n=0;r>n;n++)if(!M(e[n],t[n]))return!1;return!0}}return!1}function I(e,t){var i=arguments.length>2?Mi.call(arguments,2):[];return!_(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(e,i.concat(Mi.call(arguments,0))):t.apply(e,i)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function A(e,n){var r=n;return/^\$+/.test(e)?r=i:$(n)?r="$WINDOW":n&&t===n?r="$DOCUMENT":n&&n.$evalAsync&&n.$watch&&(r="$SCOPE"),r}function L(e,t){return JSON.stringify(e,A,t?"  ":null)}function O(e){return y(e)?JSON.parse(e):e}function q(e){return e&&0!==e.length?(e=Di(""+e),e=!("f"==e||"0"==e||"false"==e||"no"==e||"n"==e||"[]"==e)):e=!1,e}function N(e){e=Ci(e).clone();try{e.html("")}catch(t){}var i=Ci("<div>").append(e).html();try{return 3===e[0].nodeType?Di(i):i.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Di(t)})}catch(n){return Di(i)}}function F(e){var t,i,r={};return n((e||"").split("&"),function(e){e&&(t=e.split("="),i=decodeURIComponent(t[0]),r[i]=g(t[1])?decodeURIComponent(t[1]):!0)}),r}function j(e){var t=[];return n(e,function(e,i){t.push(U(i,!0)+(e===!0?"":"="+U(e,!0)))}),t.length?t.join("&"):""}function R(e){return U(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function U(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function H(e,i){function r(e){e&&a.push(e)}var o,s,a=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;n(l,function(i){l[i]=!0,r(t.getElementById(i)),i=i.replace(":","\\:"),e.querySelectorAll&&(n(e.querySelectorAll("."+i),r),n(e.querySelectorAll("."+i+"\\:"),r),n(e.querySelectorAll("["+i+"]"),r))}),n(a,function(e){if(!o){var t=c.exec(" "+e.className+" ");t?(o=e,s=(t[2]||"").replace(/\s+/g,",")):n(e.attributes,function(t){!o&&l[t.name]&&(o=e,s=t.value)})}}),o&&i(o,s?[s]:[])}function z(t,i){var r=function(){t=Ci(t),i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.unshift("ng");var e=mt(i);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,i,n){e.$apply(function(){t.data("$injector",n),i(t)(e)})}]),e},o=/^NG_DEFER_BOOTSTRAP!/;return e&&!o.test(e.name)?r():(e.name=e.name.replace(o,""),Li.resumeBootstrap=function(e){n(e,function(e){i.push(e)}),r()},void 0)}function W(e,t){return t=t||"_",e.replace(qi,function(e,i){return(i?t:"")+e.toLowerCase()})}function B(e,t,i){if(!e)throw Error("Argument '"+(t||"?")+"' is "+(i||"required"));return e}function V(e,t,i){return i&&x(e)&&(e=e[e.length-1]),B(_(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Y(e){function t(e,t,i){return e[t]||(e[t]=i())}return t(t(e,"angular",Object),"module",function(){var e={};return function(i,n,r){return n&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,i,n){return function(){return t[n||"push"]([e,i,arguments]),a}}if(!n)throw Error("No module: "+i);var t=[],o=[],s=e("$injector","invoke"),a={_invokeQueue:t,_runBlocks:o,requires:n,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return o.push(e),this}};return r&&s(r),a})}})}function G(e){return e.replace(zi,function(e,t,i,n){return n?i.toUpperCase():i}).replace(Wi,"Moz$1")}function X(e,t){function i(){for(var e,i,r,o,s,a,l,c=[this],u=t;c.length;)for(i=c.shift(),r=0,o=i.length;o>r;r++)for(s=Ci(i[r]),u?s.triggerHandler("$destroy"):u=!u,a=0,e=(l=s.children()).length,s=e;s>a;a++)c.push(ki(l[a]));return n.apply(this,arguments)}var n=ki.fn[e],n=n.$original||n;i.$original=n,ki.fn[e]=i}function Q(e){if(e instanceof Q)return e;if(!(this instanceof Q)){if(y(e)&&"<"!=e.charAt(0))throw Error("selectors not implemented");return new Q(e)}if(y(e)){var i=t.createElement("div");i.innerHTML="<div>&#160;</div>"+e,i.removeChild(i.firstChild),st(this,i.childNodes),this.remove()}else st(this,e)}function K(e){return e.cloneNode(!0)}function J(e){et(e);for(var t=0,e=e.childNodes||[];t<e.length;t++)J(e[t])}function Z(e,t,i){var r=tt(e,"events");tt(e,"handle")&&(m(t)?n(r,function(t,i){Hi(e,i,t),delete r[i]}):m(i)?(Hi(e,t,r[t]),delete r[t]):D(r[t],i))}function et(e){var t=e[ji],n=Fi[t];n&&(n.handle&&(n.events.$destroy&&n.handle({},"$destroy"),Z(e)),delete Fi[t],e[ji]=i)}function tt(e,t,i){var n=e[ji],n=Fi[n||-1];return g(i)?(n||(e[ji]=n=++Ri,n=Fi[n]={}),n[t]=i,void 0):n&&n[t]}function it(e,t,i){var n=tt(e,"data"),r=g(i),o=!r&&g(t),s=o&&!v(t);if(!n&&!s&&tt(e,"data",n={}),r)n[t]=i;else{if(!o)return n;if(s)return n&&n[t];c(n,t)}}function nt(e,t){return(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function rt(e,t){t&&n(t.split(" "),function(t){e.className=C((" "+e.className+" ").replace(/[\n\t]/g," ").replace(" "+C(t)+" "," "))})}function ot(e,t){t&&n(t.split(" "),function(t){nt(e,t)||(e.className=C(e.className+" "+C(t)))})}function st(e,t){if(t)for(var t=t.nodeName||!g(t.length)||$(t)?[t]:t,i=0;i<t.length;i++)e.push(t[i])}function at(e,t){return lt(e,"$"+(t||"ngController")+"Controller")}function lt(e,t,i){for(e=Ci(e),9==e[0].nodeType&&(e=e.find("html"));e.length;){if(i=e.data(t))return i;e=e.parent()}}function ct(e,t){var i=Vi[t.toLowerCase()];return i&&Yi[e.nodeName]&&i}function ut(e,i){var r=function(r,o){if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||t),m(r.defaultPrevented)){var s=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,s.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented},n(i[o||r.type],function(t){t.call(e,r)}),8>=Pi?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=e,r}function dt(e){var t,n=typeof e;return"object"==n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():t===i&&(t=e.$$hashKey=a()):t=e,n+":"+t}function ht(e){n(e,this.put,this)}function pt(){}function ft(e){var t,i;return"function"==typeof e?(t=e.$inject)||(t=[],i=e.toString().replace(Ki,""),i=i.match(Gi),n(i[1].split(Xi),function(e){e.replace(Qi,function(e,i,n){t.push(n)})}),e.$inject=t):x(e)?(i=e.length-1,V(e[i],"fn"),t=e.slice(0,i)):V(e,"fn",!0),t}function mt(e){function t(e){return function(t,i){return v(t)?(n(t,s(e)),void 0):e(t,i)}}function i(e,t){if((_(t)||x(t))&&(t=m.instantiate(t)),!t.$get)throw Error("Provider "+e+" must define $get factory method.");return p[e+c]=t}function r(e,t){return i(e,{$get:t})}function o(e){var t=[];return n(e,function(e){if(!d.get(e))if(d.put(e,!0),y(e)){var i=Ti(e);t=t.concat(o(i.requires)).concat(i._runBlocks);try{for(var n=i._invokeQueue,i=0,r=n.length;r>i;i++){var s=n[i],a="$injector"==s[0]?m:m.get(s[0]);a[s[1]].apply(a,s[2])}}catch(l){throw l.message&&(l.message+=" from "+e),l}}else if(_(e))try{t.push(m.invoke(e))}catch(c){throw c.message&&(c.message+=" from "+e),c}else if(x(e))try{t.push(m.invoke(e))}catch(u){throw u.message&&(u.message+=" from "+String(e[e.length-1])),u}else V(e,"module")}),t}function a(e,t){function i(i){if("string"!=typeof i)throw Error("Service name expected");if(e.hasOwnProperty(i)){if(e[i]===l)throw Error("Circular dependency: "+u.join(" <- "));return e[i]}try{return u.unshift(i),e[i]=l,e[i]=t(i)}finally{u.shift()}}function n(e,t,n){var r,o,s,a=[],l=ft(e);for(o=0,r=l.length;r>o;o++)s=l[o],a.push(n&&n.hasOwnProperty(s)?n[s]:i(s));switch(e.$inject||(e=e[r]),t?-1:a.length){case 0:return e();case 1:return e(a[0]);case 2:return e(a[0],a[1]);case 3:return e(a[0],a[1],a[2]);case 4:return e(a[0],a[1],a[2],a[3]);case 5:return e(a[0],a[1],a[2],a[3],a[4]);case 6:return e(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return e(a[0],a[1],a[2],a[3],a[4],a[5],a[6]);case 8:return e(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);case 9:return e(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]);case 10:return e(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]);default:return e.apply(t,a)}}return{invoke:n,instantiate:function(e,t){var i,r=function(){};return r.prototype=(x(e)?e[e.length-1]:e).prototype,r=new r,i=n(e,r,t),v(i)?i:r},get:i,annotate:ft}}var l={},c="Provider",u=[],d=new ht,p={$provide:{provider:t(i),factory:t(r),service:t(function(e,t){return r(e,["$injector",function(e){return e.instantiate(t)}])}),value:t(function(e,t){return r(e,f(t))}),constant:t(function(e,t){p[e]=t,g[e]=t}),decorator:function(e,t){var i=m.get(e+c),n=i.$get;i.$get=function(){var e=b.invoke(n,i);return b.invoke(t,null,{$delegate:e})}}}},m=a(p,function(){throw Error("Unknown provider: "+u.join(" <- "))}),g={},b=g.$injector=a(g,function(e){return e=m.get(e+c),b.invoke(e.$get,e)});return n(o(e),function(e){b.invoke(e||h)}),b}function gt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,i,r){function o(e){var t=null;return n(e,function(e){!t&&"a"===Di(e.nodeName)&&(t=e)}),t}function s(){var e,n=i.hash();n?(e=a.getElementById(n))?e.scrollIntoView():(e=o(a.getElementsByName(n)))?e.scrollIntoView():"top"===n&&t.scrollTo(0,0):t.scrollTo(0,0)}var a=t.document;return e&&r.$watch(function(){return i.hash()},function(){r.$evalAsync(s)}),s}]}function vt(e,t,r,o){function s(e){try{e.apply(null,Mi.call(arguments,1))}finally{if(b--,0===b)for(;w.length;)try{w.pop()()}catch(t){r.error(t)}}}function a(e,t){!function i(){n(_,function(e){e()}),x=t(i,e)}()}function l(){$!=c.url()&&($=c.url(),n(k,function(e){e(c.url())}))}var c=this,u=t[0],d=e.location,p=e.history,f=e.setTimeout,g=e.clearTimeout,v={};c.isMock=!1;var b=0,w=[];c.$$completeOutstandingRequest=s,c.$$incOutstandingRequestCount=function(){b++},c.notifyWhenNoOutstandingRequests=function(e){n(_,function(e){e()}),0===b?e():w.push(e)};var x,_=[];c.addPollFn=function(e){return m(x)&&a(100,f),_.push(e),e};var $=d.href,C=t.find("base");
c.url=function(e,t){return e?$!=e?($=e,o.history?t?p.replaceState(null,"",e):(p.pushState(null,"",e),C.attr("href",C.attr("href"))):t?d.replace(e):d.href=e,c):void 0:d.href.replace(/%27/g,"'")};var k=[],T=!1;c.onUrlChange=function(t){return T||(o.history&&Ci(e).bind("popstate",l),o.hashchange?Ci(e).bind("hashchange",l):c.addPollFn(l),T=!0),k.push(t),t},c.baseHref=function(){var e=C.attr("href");return e?e.replace(/^https?\:\/\/[^\/]*/,""):""};var S={},D="",E=c.baseHref();c.cookies=function(e,t){var n,o,s,a;if(!e){if(u.cookie!==D)for(D=u.cookie,n=D.split("; "),S={},s=0;s<n.length;s++)o=n[s],a=o.indexOf("="),a>0&&(e=unescape(o.substring(0,a)),S[e]===i&&(S[e]=unescape(o.substring(a+1))));return S}t===i?u.cookie=escape(e)+"=;path="+E+";expires=Thu, 01 Jan 1970 00:00:00 GMT":y(t)&&(n=(u.cookie=escape(e)+"="+escape(t)+";path="+E).length+1,n>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!"))},c.defer=function(e,t){var i;return b++,i=f(function(){delete v[i],s(e)},t||0),v[i]=!0,i},c.defer.cancel=function(e){return v[e]?(delete v[e],g(e),s(h),!0):!1}}function yt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,i,n){return new vt(e,n,t,i)}]}function bt(){this.$get=function(){function e(e,i){function n(e){e!=d&&(h?h==e&&(h=e.n):h=e,r(e.n,e.p),r(e,d),d=e,d.n=null)}function r(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw Error("cacheId "+e+" taken");var o=0,s=c({},i,{id:e}),a={},l=i&&i.capacity||Number.MAX_VALUE,u={},d=null,h=null;return t[e]={put:function(e,t){var i=u[e]||(u[e]={key:e});n(i),m(t)||(e in a||o++,a[e]=t,o>l&&this.remove(h.key))},get:function(e){var t=u[e];return t?(n(t),a[e]):void 0},remove:function(e){var t=u[e];t&&(t==d&&(d=t.p),t==h&&(h=t.n),r(t.n,t.p),delete u[e],delete a[e],o--)},removeAll:function(){a={},o=0,u={},d=h=null},destroy:function(){u=s=a=null,delete t[e]},info:function(){return c({},s,{size:o})}}}var t={};return e.info=function(){var e={};return n(t,function(t,i){e[i]=t.info()}),e},e.get=function(e){return t[e]},e}}function wt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function xt(e){var r={},o="Directive",a=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,l=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,u="Template must have exactly one root element. was: ",d=/^\s*(https?|ftp|mailto|file):/;this.directive=function h(t,i){return y(t)?(B(i,"directive"),r.hasOwnProperty(t)||(r[t]=[],e.factory(t+o,["$injector","$exceptionHandler",function(e,i){var o=[];return n(r[t],function(n){try{var r=e.invoke(n);_(r)?r={compile:f(r)}:!r.compile&&r.link&&(r.compile=f(r.link)),r.priority=r.priority||0,r.name=r.name||t,r.require=r.require||r.controller&&r.name,r.restrict=r.restrict||"A",o.push(r)}catch(s){i(s)}}),o}])),r[t].push(i)):n(t,s(h)),this},this.urlSanitizationWhitelist=function(e){return g(e)?(d=e,this):d},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document",function(e,s,h,m,g,b,w,$,k){function T(e,t,i){e instanceof Ci||(e=Ci(e)),n(e,function(t,i){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[i]=Ci(t).wrap("<span></span>").parent()[0])});var r=D(e,t,e,i);return function(t,i){B(t,"scope");for(var n=i?Bi.clone.call(e):e,o=0,s=n.length;s>o;o++){var a=n[o];(1==a.nodeType||9==a.nodeType)&&n.eq(o).data("$scope",t)}return S(n,"ng-scope"),i&&i(n,t),r&&r(t,n,n),n}}function S(e,t){try{e.addClass(t)}catch(i){}}function D(e,t,n,r){function o(e,n,r,o){var s,a,l,u,d,h,p,f=[];for(d=0,h=n.length;h>d;d++)f.push(n[d]);for(p=d=0,h=c.length;h>d;p++)a=f[p],n=c[d++],s=c[d++],n?(n.scope?(l=e.$new(v(n.scope)),Ci(a).data("$scope",l)):l=e,(u=n.transclude)||!o&&t?n(s,l,a,r,function(t){return function(i){var n=e.$new();return n.$$transcluded=!0,t(n,i).bind("$destroy",I(n,n.$destroy))}}(u||t)):n(s,l,a,i,o)):s&&s(e,a.childNodes,i,o)}for(var s,a,l,c=[],u=0;u<e.length;u++)a=new H,s=E(e[u],[],a,r),a=(s=s.length?M(s,e[u],a,t,n):null)&&s.terminal||!e[u].childNodes||!e[u].childNodes.length?null:D(e[u].childNodes,s?s.transclude:t),c.push(s),c.push(a),l=l||s||a;return l?o:null}function E(e,t,i,n){var r,o=i.$attr;switch(e.nodeType){case 1:A(t,_t(Si(e).toLowerCase()),"E",n);var s,c,u;r=e.attributes;for(var d=0,h=r&&r.length;h>d;d++)s=r[d],s.specified&&(c=s.name,u=_t(c.toLowerCase()),o[u]=c,i[u]=s=C(Pi&&"href"==c?decodeURIComponent(e.getAttribute(c,2)):s.value),ct(e,u)&&(i[u]=!0),R(e,t,s,u),A(t,u,"A",n));if(e=e.className,y(e)&&""!==e)for(;r=l.exec(e);)u=_t(r[2]),A(t,u,"C",n)&&(i[u]=C(r[3])),e=e.substr(r.index+r[0].length);break;case 3:j(t,e.nodeValue);break;case 8:try{(r=a.exec(e.nodeValue))&&(u=_t(r[1]),A(t,u,"M",n)&&(i[u]=C(r[2])))}catch(p){}}return t.sort(q),t}function M(e,r,o,s,a){function l(e,t){e&&(e.require=p.require,I.push(e)),t&&(t.require=p.require,A.push(t))}function c(e,t){var i,r="data",o=!1;if(y(e)){for(;"^"==(i=e.charAt(0))||"?"==i;)e=e.substr(1),"^"==i&&(r="inheritedData"),o=o||"?"==i;if(i=t[r]("$"+e+"Controller"),!i&&!o)throw Error("No controller: "+e)}else x(e)&&(i=[],n(e,function(e){i.push(c(e,t))}));return i}function d(e,t,s,a,l){var u,d,p,f,m;if(u=r===s?o:P(o,new H(Ci(s),o.$attr)),d=u.$$element,j){var g=/^\s*([@=&])\s*(\w*)\s*$/,v=t.$parent||t;n(j.scope,function(e,i){var n,r,o,s=e.match(g)||[],a=s[2]||i,s=s[1];switch(t.$$isolateBindings[i]=s+a,s){case"@":u.$observe(a,function(e){t[i]=e}),u.$$observers[a].$$scope=v;break;case"=":r=b(u[a]),o=r.assign||function(){throw n=t[i]=r(v),Error(Ji+u[a]+" (directive: "+j.name+")")},n=t[i]=r(v),t.$watch(function(){var e=r(v);return e!==t[i]&&(e!==n?n=t[i]=e:o(v,e=n=t[i])),e});break;case"&":r=b(u[a]),t[i]=function(e){return r(v,e)};break;default:throw Error("Invalid isolate scope definition for directive "+j.name+": "+e)}})}for($&&n($,function(e){var i={$scope:t,$element:d,$attrs:u,$transclude:l};m=e.controller,"@"==m&&(m=u[e.name]),d.data("$"+e.name+"Controller",w(m,i))}),a=0,p=I.length;p>a;a++)try{f=I[a],f(t,d,u,f.require&&c(f.require,d))}catch(y){h(y,N(d))}for(e&&e(t,s.childNodes,i,l),a=0,p=A.length;p>a;a++)try{f=A[a],f(t,d,u,f.require&&c(f.require,d))}catch(x){h(x,N(d))}}for(var p,f,m,g,$,k,D,M=-Number.MAX_VALUE,I=[],A=[],q=null,j=null,R=null,z=o.$$element=Ci(r),W=s,B=0,V=e.length;V>B&&(p=e[B],m=i,!(M>p.priority));B++){if((D=p.scope)&&(F("isolated scope",j,p,z),v(D)&&(S(z,"ng-isolate-scope"),j=p),S(z,"ng-scope"),q=q||p),f=p.name,(D=p.controller)&&($=$||{},F("'"+f+"' controller",$[f],p,z),$[f]=p),(D=p.transclude)&&(F("transclusion",g,p,z),g=p,M=p.priority,"element"==D?(m=Ci(r),z=o.$$element=Ci(t.createComment(" "+f+": "+o[f]+" ")),r=z[0],U(a,Ci(m[0]),r),W=T(m,s,M)):(m=Ci(K(r)).contents(),z.html(""),W=T(m,s))),D=p.template)if(F("template",R,p,z),R=p,D=G(D),p.replace){if(m=Ci("<div>"+C(D)+"</div>").contents(),r=m[0],1!=m.length||1!==r.nodeType)throw Error(u+D);U(a,z,r),f={$attr:{}},e=e.concat(E(r,e.splice(B+1,e.length-(B+1)),f)),L(o,f),V=e.length}else z.html(D);if(p.templateUrl)F("template",R,p,z),R=p,d=O(e.splice(B,e.length-B),d,z,o,a,p.replace,W),V=e.length;else if(p.compile)try{k=p.compile(z,o,W),_(k)?l(null,k):k&&l(k.pre,k.post)}catch(Y){h(Y,N(z))}p.terminal&&(d.terminal=!0,M=Math.max(M,p.priority))}return d.scope=q&&q.scope,d.transclude=g&&W,d}function A(t,n,s,a){var l=!1;if(r.hasOwnProperty(n))for(var c,n=e.get(n+o),u=0,d=n.length;d>u;u++)try{c=n[u],(a===i||a>c.priority)&&-1!=c.restrict.indexOf(s)&&(t.push(c),l=!0)}catch(p){h(p)}return l}function L(e,t){var i=t.$attr,r=e.$attr,o=e.$$element;n(e,function(n,r){"$"!=r.charAt(0)&&(t[r]&&(n+=("style"===r?";":" ")+t[r]),e.$set(r,n,!0,i[r]))}),n(t,function(t,n){"class"==n?(S(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==n?o.attr("style",o.attr("style")+";"+t):"$"!=n.charAt(0)&&!e.hasOwnProperty(n)&&(e[n]=t,r[n]=i[n])})}function O(e,t,i,n,r,o,s){var a,l,d=[],h=i[0],p=e.shift(),f=c({},p,{controller:null,templateUrl:null,transclude:null,scope:null});return i.html(""),m.get(p.templateUrl,{cache:g}).success(function(c){var p,m,c=G(c);if(o){if(m=Ci("<div>"+C(c)+"</div>").contents(),p=m[0],1!=m.length||1!==p.nodeType)throw Error(u+c);c={$attr:{}},U(r,i,p),E(p,e,c),L(n,c)}else p=h,i.html(c);for(e.unshift(f),a=M(e,p,n,s),l=D(i[0].childNodes,s);d.length;){var g=d.pop(),c=d.pop();m=d.pop();var v=d.pop(),y=p;m!==h&&(y=K(p),U(c,Ci(m),y)),a(function(){t(l,v,y,r,g)},v,y,r,g)}d=null}).error(function(e,t,i,n){throw Error("Failed to load template: "+n.url)}),function(e,i,n,r,o){d?(d.push(i),d.push(n),d.push(r),d.push(o)):a(function(){t(l,i,n,r,o)},i,n,r,o)}}function q(e,t){return t.priority-e.priority}function F(e,t,i,n){if(t)throw Error("Multiple directives ["+t.name+", "+i.name+"] asking for "+e+" on: "+N(n))}function j(e,t){var i=s(t,!0);i&&e.push({priority:0,compile:f(function(e,t){var n=t.parent(),r=n.data("$binding")||[];r.push(i),S(n.data("$binding",r),"ng-binding"),e.$watch(i,function(e){t[0].nodeValue=e})})})}function R(e,t,n,r){var o=s(n,!0);o&&t.push({priority:100,compile:f(function(e,t,n){t=n.$$observers||(n.$$observers={}),"class"===r&&(o=s(n[r],!0)),n[r]=i,(t[r]||(t[r]=[])).$$inter=!0,(n.$$observers&&n.$$observers[r].$$scope||e).$watch(o,function(e){n.$set(r,e)})})})}function U(e,t,i){var n,r,o=t[0],s=o.parentNode;if(e)for(n=0,r=e.length;r>n;n++)if(e[n]==o){e[n]=i;break}s&&s.replaceChild(i,o),i[Ci.expando]=o[Ci.expando],t[0]=i}var H=function(e,t){this.$$element=e,this.$attr=t||{}};H.prototype={$normalize:_t,$set:function(e,t,r,o){var s=ct(this.$$element[0],e),a=this.$$observers;s&&(this.$$element.prop(e,t),o=s),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e])||(this.$attr[e]=o=W(e,"-")),"A"===Si(this.$$element[0])&&"href"===e&&(z.setAttribute("href",t),s=z.href,s.match(d)||(this[e]=t="unsafe:"+s)),r!==!1&&(null===t||t===i?this.$$element.removeAttr(o):this.$$element.attr(o,t)),a&&n(a[e],function(e){try{e(t)}catch(i){h(i)}})},$observe:function(e,t){var i=this,n=i.$$observers||(i.$$observers={}),r=n[e]||(n[e]=[]);return r.push(t),$.$evalAsync(function(){r.$$inter||t(i[e])}),t}};var z=k[0].createElement("a"),V=s.startSymbol(),Y=s.endSymbol(),G="{{"==V||"}}"==Y?p:function(e){return e.replace(/\{\{/g,V).replace(/}}/g,Y)};return T}]}function _t(e){return G(e.replace(Zi,""))}function $t(){var e={};this.register=function(t,i){v(t)?c(e,t):e[t]=i},this.$get=["$injector","$window",function(t,i){return function(n,r){if(y(n)){var o=n,n=e.hasOwnProperty(o)?e[o]:Ht(r.$scope,o,!0)||Ht(i,o,!0);V(n,o,!0)}return t.instantiate(n,r)}}]}function Ct(){this.$get=["$window",function(e){return Ci(e.document)}]}function kt(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Tt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse",function(n){function r(r,a){for(var l,c,u=0,d=[],h=r.length,p=!1,f=[];h>u;)-1!=(l=r.indexOf(e,u))&&-1!=(c=r.indexOf(t,l+o))?(u!=l&&d.push(r.substring(u,l)),d.push(u=n(p=r.substring(l+o,c))),u.exp=p,u=c+s,p=!0):(u!=h&&d.push(r.substring(u)),u=h);return(h=d.length)||(d.push(""),h=1),!a||p?(f.length=h,u=function(e){for(var t,n=0,r=h;r>n;n++)"function"==typeof(t=d[n])&&(t=t(e),null==t||t==i?t="":"string"!=typeof t&&(t=L(t))),f[n]=t;return f.join("")},u.exp=r,u.parts=d,u):void 0}var o=e.length,s=t.length;return r.startSymbol=function(){return e},r.endSymbol=function(){return t},r}]}function St(e){for(var e=e.split("/"),t=e.length;t--;)e[t]=R(e[t]);return e.join("/")}function Dt(e,t){var i=en.exec(e),i={protocol:i[1],host:i[3],port:u(i[5])||rn[i[1]]||null,path:i[6]||"/",search:i[8],hash:i[10]};return t&&(t.$$protocol=i.protocol,t.$$host=i.host,t.$$port=i.port),i}function Et(e,t,i){return e+"://"+t+(i==rn[e]?"":":"+i)}function Pt(e,t,i){var n=Dt(e);return decodeURIComponent(n.path)!=t||m(n.hash)||0!==n.hash.indexOf(i)?e:Et(n.protocol,n.host,n.port)+t.substr(0,t.lastIndexOf("/"))+n.hash.substr(i.length)}function Mt(e,t,i){var n=Dt(e);if(decodeURIComponent(n.path)!=t||m(n.hash)||0!==n.hash.indexOf(i)){var r=n.search&&"?"+n.search||"",o=n.hash&&"#"+n.hash||"",s=t.substr(0,t.lastIndexOf("/")),a=n.path.substr(s.length);if(0!==n.path.indexOf(s))throw Error('Invalid url "'+e+'", missing path prefix "'+s+'" !');return Et(n.protocol,n.host,n.port)+t+"#"+i+a+r+o}return e}function It(e,t,i){t=t||"",this.$$parse=function(e){var i=Dt(e,this);if(0!==i.path.indexOf(t))throw Error('Invalid url "'+e+'", missing path prefix "'+t+'" !');this.$$path=decodeURIComponent(i.path.substr(t.length)),this.$$search=F(i.search),this.$$hash=i.hash&&decodeURIComponent(i.hash)||"",this.$$compose()},this.$$compose=function(){var e=j(this.$$search),i=this.$$hash?"#"+R(this.$$hash):"";this.$$url=St(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=Et(this.$$protocol,this.$$host,this.$$port)+t+this.$$url},this.$$rewriteAppUrl=function(e){return 0==e.indexOf(i)?e:void 0},this.$$parse(e)}function At(e,t,i){var n;this.$$parse=function(e){var i=Dt(e,this);if(i.hash&&0!==i.hash.indexOf(t))throw Error('Invalid url "'+e+'", missing hash prefix "'+t+'" !');n=i.path+(i.search?"?"+i.search:""),i=nn.exec((i.hash||"").substr(t.length)),this.$$path=i[1]?("/"==i[1].charAt(0)?"":"/")+decodeURIComponent(i[1]):"",this.$$search=F(i[3]),this.$$hash=i[5]&&decodeURIComponent(i[5])||"",this.$$compose()},this.$$compose=function(){var e=j(this.$$search),i=this.$$hash?"#"+R(this.$$hash):"";this.$$url=St(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=Et(this.$$protocol,this.$$host,this.$$port)+n+(this.$$url?"#"+t+this.$$url:"")},this.$$rewriteAppUrl=function(e){return 0==e.indexOf(i)?e:void 0},this.$$parse(e)}function Lt(e,t,i,n){At.apply(this,arguments),this.$$rewriteAppUrl=function(e){return 0==e.indexOf(i)?i+n+"#"+t+e.substr(i.length):void 0}}function Ot(e){return function(){return this[e]}}function qt(e,t){return function(i){return m(i)?this[e]:(this[e]=t(i),this.$$compose(),this)}}function Nt(){var t="",i=!1;this.hashPrefix=function(e){return g(e)?(t=e,this):t},this.html5Mode=function(e){return g(e)?(i=e,this):i},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(n,r,o,s){function a(e){n.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,c,u,d=r.url(),h=Dt(d);i?(c=r.baseHref()||"/",u=c.substr(0,c.lastIndexOf("/")),h=Et(h.protocol,h.host,h.port)+u+"/",l=o.history?new It(Pt(d,c,t),u,h):new Lt(Mt(d,c,t),t,h,c.substr(u.length+1))):(h=Et(h.protocol,h.host,h.port)+(h.path||"")+(h.search?"?"+h.search:"")+"#"+t+"/",l=new At(d,t,h)),s.bind("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var i=Ci(t.target);"a"!==Di(i[0].nodeName);)if(i[0]===s[0]||!(i=i.parent())[0])return;var r=i.prop("href"),o=l.$$rewriteAppUrl(r);r&&!i.attr("target")&&o&&(l.$$parse(o),n.$apply(),t.preventDefault(),e.angular["ff-684208-preventDefault"]=!0)}}),l.absUrl()!=d&&r.url(l.absUrl(),!0),r.onUrlChange(function(e){l.absUrl()!=e&&(n.$broadcast("$locationChangeStart",e,l.absUrl()).defaultPrevented?r.url(l.absUrl()):(n.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),a(t)}),n.$$phase||n.$digest()))});var p=0;return n.$watch(function(){var e=r.url(),t=l.$$replace;return p&&e==l.absUrl()||(p++,n.$evalAsync(function(){n.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(r.url(l.absUrl(),t),a(e))})),l.$$replace=!1,p}),l}]}function Ft(){this.$get=["$window",function(e){function t(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(i){var r=e.console||{},o=r[i]||r.log||h;return o.apply?function(){var e=[];return n(arguments,function(i){e.push(t(i))}),o.apply(r,e)}:function(e,t){o(e,t)}}return{log:i("log"),warn:i("warn"),info:i("info"),error:i("error")}}]}function jt(e,t){function i(e){return-1!=e.indexOf(f)}function n(){return v+1<e.length?e.charAt(v+1):!1}function r(e){return e>="0"&&"9">=e}function o(e){return" "==e||"\r"==e||"	"==e||"\n"==e||""==e||" "==e}function s(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"==e||"$"==e}function a(e){return"-"==e||"+"==e||r(e)}function l(t,i,n){throw n=n||v,Error("Lexer Error: "+t+" at column"+(g(i)?"s "+i+"-"+v+" ["+e.substring(i,n)+"]":" "+n)+" in expression ["+e+"].")}function u(){for(var t="",i=v;v<e.length;){var o=Di(e.charAt(v));if("."==o||r(o))t+=o;else{var s=n();if("e"==o&&a(s))t+=o;else if(a(o)&&s&&r(s)&&"e"==t.charAt(t.length-1))t+=o;else{if(!a(o)||s&&r(s)||"e"!=t.charAt(t.length-1))break;l("Invalid exponent")}}v++}t*=1,m.push({index:i,text:t,json:!0,fn:function(){return t}})}function d(){for(var i,n,a,l,u="",d=v;v<e.length&&(l=e.charAt(v),"."==l||s(l)||r(l));)"."==l&&(i=v),u+=l,v++;if(i)for(n=v;n<e.length;){if(l=e.charAt(n),"("==l){a=u.substr(i-d+1),u=u.substr(0,i-d),v=n;break}if(!o(l))break;n++}if(d={index:d,text:u},on.hasOwnProperty(u))d.fn=d.json=on[u];else{var h=Wt(u,t);d.fn=c(function(e,t){return h(e,t)},{assign:function(e,t){return Ut(e,u,t)}})}m.push(d),a&&(m.push({index:i,text:".",json:!1}),m.push({index:i+1,text:a,json:!1}))}function h(t){var i=v;v++;for(var n="",r=t,o=!1;v<e.length;){var s=e.charAt(v);if(r+=s,o)"u"==s?(s=e.substring(v+1,v+5),s.match(/[\da-f]{4}/i)||l("Invalid unicode escape [\\u"+s+"]"),v+=4,n+=String.fromCharCode(parseInt(s,16))):(o=sn[s],n+=o?o:s),o=!1;else if("\\"==s)o=!0;else{if(s==t)return v++,m.push({index:i,text:r,string:n,json:!0,fn:function(){return n}}),void 0;n+=s}v++}l("Unterminated quote",i)}for(var p,f,m=[],v=0,y=[],b=":";v<e.length;){if(f=e.charAt(v),i("\"'"))h(f);else if(r(f)||i(".")&&r(n()))u();else if(s(f))d(),-1!="{,".indexOf(b)&&"{"==y[0]&&(p=m[m.length-1])&&(p.json=-1==p.text.indexOf("."));else if(i("(){}[].,;:"))m.push({index:v,text:f,json:-1!=":[,".indexOf(b)&&i("{[")||i("}]:,")}),i("{[")&&y.unshift(f),i("}]")&&y.shift(),v++;else{if(o(f)){v++;continue}var w=f+n(),x=on[f],_=on[w];_?(m.push({index:v,text:w,fn:_}),v+=2):x?(m.push({index:v,text:f,fn:x,json:-1!="[,:".indexOf(b)&&i("+-")}),v+=1):l("Unexpected next character ",v,v+1)}b=f}return m}function Rt(e,t,n,r){function o(t,i){throw Error("Syntax Error: Token '"+i.text+"' "+t+" at column "+(i.index+1)+" of the expression ["+e+"] starting at ["+e.substring(i.index)+"].")}function s(){if(0===D.length)throw Error("Unexpected end of expression: "+e);return D[0]}function a(e,t,i,n){if(D.length>0){var r=D[0],o=r.text;if(o==e||o==t||o==i||o==n||!e&&!t&&!i&&!n)return r}return!1}function l(e,i,n,r){return(e=a(e,i,n,r))?(t&&!e.json&&o("is not valid json",e),D.shift(),e):!1}function u(e){l(e)||o("is unexpected, expecting ["+e+"]",a())}function d(e,t){return function(i,n){return e(i,n,t)}}function p(e,t,i){return function(n,r){return t(n,r,e,i)}}function m(){for(var e=[];;)if(D.length>0&&!a("}",")",";","]")&&e.push(A()),!l(";"))return 1==e.length?e[0]:function(t,i){for(var n,r=0;r<e.length;r++){var o=e[r];o&&(n=o(t,i))}return n}}function g(){for(var e=l(),t=n(e.text),i=[];;){if(!(e=l(":"))){var r=function(e,n,r){for(var r=[r],o=0;o<i.length;o++)r.push(i[o](e,n));return t.apply(e,r)};return function(){return r}}i.push(E())}}function v(){for(var e,t=y();;){if(!(e=l("||")))return t;t=p(t,e.fn,y())}}function y(){var e,t=b();return(e=l("&&"))&&(t=p(t,e.fn,y())),t}function b(){var e,t=w();return(e=l("==","!="))&&(t=p(t,e.fn,b())),t}function w(){var e;e=x();for(var t;t=l("+","-");)e=p(e,t.fn,x());return(t=l("<",">","<=",">="))&&(e=p(e,t.fn,w())),e}function x(){for(var e,t=_();e=l("*","/","%");)t=p(t,e.fn,_());return t}function _(){var e;return l("+")?$():(e=l("-"))?p(S,e.fn,_()):(e=l("!"))?d(e.fn,_()):$()}function $(){var e;if(l("("))e=A(),u(")");else if(l("["))e=C();else if(l("{"))e=k();else{var t=l();(e=t.fn)||o("not a primary expression",t)}for(var i;t=l("(","[",".");)"("===t.text?(e=P(e,i),i=null):"["===t.text?(i=e,e=I(e)):"."===t.text?(i=e,e=M(e)):o("IMPOSSIBLE");return e}function C(){var e=[];if("]"!=s().text)do e.push(E());while(l(","));return u("]"),function(t,i){for(var n=[],r=0;r<e.length;r++)n.push(e[r](t,i));return n}}function k(){var e=[];if("}"!=s().text)do{var t=l(),t=t.string||t.text;u(":");var i=E();e.push({key:t,value:i})}while(l(","));return u("}"),function(t,i){for(var n={},r=0;r<e.length;r++){var o=e[r];n[o.key]=o.value(t,i)}return n}}var T,S=f(0),D=jt(e,r),E=function(){var t,i,n=v();return(i=l("="))?(n.assign||o("implies assignment but ["+e.substring(0,i.index)+"] can not be assigned to",i),t=v(),function(e,i){return n.assign(e,t(e,i),i)}):n},P=function(e,t){var i=[];if(")"!=s().text)do i.push(E());while(l(","));return u(")"),function(n,r){for(var o=[],s=t?t(n,r):n,a=0;a<i.length;a++)o.push(i[a](n,r));return a=e(n,r,s)||h,a.apply?a.apply(s,o):a(o[0],o[1],o[2],o[3],o[4])}},M=function(e){var t=l().text,i=Wt(t,r);return c(function(t,n,r){return i(r||e(t,n),n)},{assign:function(i,n,r){return Ut(e(i,r),t,n)}})},I=function(e){var t=E();return u("]"),c(function(n,r){var o,s=e(n,r),a=t(n,r);return s?((s=s[a])&&s.then&&(o=s,"$$v"in s||(o.$$v=i,o.then(function(e){o.$$v=e})),s=s.$$v),s):i},{assign:function(i,n,r){return e(i,r)[t(i,r)]=n}})},A=function(){for(var e,t=E();;){if(!(e=l("|")))return t;t=p(t,e.fn,g())}};return t?(E=v,P=M=I=A=function(){o("is not valid json",{text:e,index:0})},T=$()):T=m(),0!==D.length&&o("is an unexpected token",D[0]),T}function Ut(e,t,i){for(var t=t.split("."),n=0;t.length>1;n++){var r=t.shift(),o=e[r];o||(o={},e[r]=o),e=o}return e[t.shift()]=i}function Ht(e,t,i){if(!t)return e;for(var n,t=t.split("."),r=e,o=t.length,s=0;o>s;s++)n=t[s],e&&(e=(r=e)[n]);return!i&&_(e)?I(r,e):e}function zt(e,t,n,r,o){return function(s,a){var l,c=a&&a.hasOwnProperty(e)?a:s;return null===c||c===i?c:((c=c[e])&&c.then&&("$$v"in c||(l=c,l.$$v=i,l.then(function(e){l.$$v=e})),c=c.$$v),t&&null!==c&&c!==i?((c=c[t])&&c.then&&("$$v"in c||(l=c,l.$$v=i,l.then(function(e){l.$$v=e})),c=c.$$v),n&&null!==c&&c!==i?((c=c[n])&&c.then&&("$$v"in c||(l=c,l.$$v=i,l.then(function(e){l.$$v=e})),c=c.$$v),r&&null!==c&&c!==i?((c=c[r])&&c.then&&("$$v"in c||(l=c,l.$$v=i,l.then(function(e){l.$$v=e})),c=c.$$v),o&&null!==c&&c!==i?((c=c[o])&&c.then&&("$$v"in c||(l=c,l.$$v=i,l.then(function(e){l.$$v=e})),c=c.$$v),c):c):c):c):c)}}function Wt(e,t){if(an.hasOwnProperty(e))return an[e];var r,o=e.split("."),s=o.length;if(t)r=6>s?zt(o[0],o[1],o[2],o[3],o[4]):function(e,t){var n,r=0;do n=zt(o[r++],o[r++],o[r++],o[r++],o[r++])(e,t),t=i,e=n;while(s>r);return n};else{var a="var l, fn, p;\n";n(o,function(e,t){a+="if(s === null || s === undefined) return s;\nl=s;\ns="+(t?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"];\nif (s && s.then) {\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n'}),a+="return s;",r=Function("s","k",a),r.toString=function(){return a}}return an[e]=r}function Bt(){var e={};this.$get=["$filter","$sniffer",function(t,i){return function(n){switch(typeof n){case"string":return e.hasOwnProperty(n)?e[n]:e[n]=Rt(n,!1,t,i.csp);case"function":return n;default:return h}}}]}function Vt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Yt(function(t){e.$evalAsync(t)},t)}]}function Yt(e,t){function r(e){return e}function o(e){return l(e)}var s=function(){var n,c,u=[];return c={resolve:function(t){if(u){var r=u;u=i,n=a(t),r.length&&e(function(){for(var e,t=0,i=r.length;i>t;t++)e=r[t],n.then(e[0],e[1])})}},reject:function(e){c.resolve(l(e))},promise:{then:function(e,i){var a=s(),l=function(i){try{a.resolve((e||r)(i))}catch(n){t(n),a.reject(n)}},c=function(e){try{a.resolve((i||o)(e))}catch(n){t(n),a.reject(n)}};return u?u.push([l,c]):n.then(l,c),a.promise}}}},a=function(t){return t&&t.then?t:{then:function(i){var n=s();return e(function(){n.resolve(i(t))}),n.promise}}},l=function(t){return{then:function(i,n){var r=s();return e(function(){r.resolve((n||o)(t))}),r.promise}}};return{defer:s,reject:l,when:function(i,n,c){var u,d=s(),h=function(e){try{return(n||r)(e)}catch(i){return t(i),l(i)}},p=function(e){try{return(c||o)(e)}catch(i){return t(i),l(i)}};return e(function(){a(i).then(function(e){u||(u=!0,d.resolve(a(e).then(h,p)))},function(e){u||(u=!0,d.resolve(p(e)))})}),d.promise},all:function(e){var t=s(),i=e.length,r=[];return i?n(e,function(e,n){a(e).then(function(e){n in r||(r[n]=e,--i||t.resolve(r))},function(e){n in r||t.reject(e)})}):t.resolve(r),t.promise}}}function Gt(){var e={};this.when=function(t,i){if(e[t]=c({reloadOnSearch:!0},i),t){var n="/"==t[t.length-1]?t.substr(0,t.length-1):t+"/";e[n]={redirectTo:t}}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache",function(t,i,r,o,s,a,l){function u(e,t){for(var i,t="^"+t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"$",r="",o=[],s={},a=/:(\w+)/g,l=0;null!==(i=a.exec(t));)r+=t.slice(l,i.index),r+="([^\\/]*)",o.push(i[1]),l=a.lastIndex;r+=t.substr(l);var c=e.match(RegExp(r));return c&&n(o,function(e,t){s[e]=c[t+1]}),c?s:null}function h(){var e=p(),c=v.current;e&&c&&e.$$route===c.$$route&&M(e.pathParams,c.pathParams)&&!e.reloadOnSearch&&!m?(c.params=e.params,E(c.params,r),t.$broadcast("$routeUpdate",c)):(e||c)&&(m=!1,t.$broadcast("$routeChangeStart",e,c),(v.current=e)&&e.redirectTo&&(y(e.redirectTo)?i.path(f(e.redirectTo,e.params)).search(e.params).replace():i.url(e.redirectTo(e.pathParams,i.path(),i.search())).replace()),o.when(e).then(function(){if(e){var t,i=[],r=[];return n(e.resolve||{},function(e,t){i.push(t),r.push(y(e)?s.get(e):s.invoke(e))}),g(t=e.template)||g(t=e.templateUrl)&&(t=a.get(t,{cache:l}).then(function(e){return e.data})),g(t)&&(i.push("$template"),r.push(t)),o.all(r).then(function(e){var t={};return n(e,function(e,n){t[i[n]]=e}),t})}}).then(function(i){e==v.current&&(e&&(e.locals=i,E(e.params,r)),t.$broadcast("$routeChangeSuccess",e,c))},function(i){e==v.current&&t.$broadcast("$routeChangeError",e,c,i)}))}function p(){var t,r;return n(e,function(e,n){!r&&(t=u(i.path(),n))&&(r=d(e,{params:c({},i.search(),t),pathParams:t}),r.$$route=e)}),r||e[null]&&d(e[null],{params:{},pathParams:{}})}function f(e,t){var i=[];return n((e||"").split(":"),function(e,n){if(0==n)i.push(e);else{var r=e.match(/(\w+)(.*)/),o=r[1];i.push(t[o]),i.push(r[2]||""),delete t[o]}}),i.join("")}var m=!1,v={routes:e,reload:function(){m=!0,t.$evalAsync(h)}};return t.$on("$locationChangeSuccess",h),v}]}function Xt(){this.$get=f({})}function Qt(){var e=10;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse",function(t,i,n){function r(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$listeners={},this.$$isolateBindings={}}function o(e){if(c.$$phase)throw Error(c.$$phase+" already in progress");c.$$phase=e}function s(e,t){var i=n(e);return V(i,t),i}function l(){}r.prototype={$new:function(e){if(_(e))throw Error("API-CHANGE: Use $controller to instantiate controllers.");return e?(e=new r,e.$root=this.$root):(e=function(){},e.prototype=this,e=new e,e.$id=a()),e["this"]=e,e.$$listeners={},e.$parent=this,e.$$asyncQueue=[],e.$$watchers=e.$$nextSibling=e.$$childHead=e.$$childTail=null,e.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=e:this.$$childHead=this.$$childTail=e,e},$watch:function(e,t,i){var n=s(e,"watch"),r=this.$$watchers,o={fn:t,last:l,get:n,exp:e,eq:!!i};if(!_(t)){var a=s(t||h,"listener");o.fn=function(e,t,i){a(i)}}return r||(r=this.$$watchers=[]),r.unshift(o),function(){D(r,o)}},$digest:function(){var t,n,r,s,a,u,d,h,p,f,m=e,g=[];o("$digest");do{d=!1,h=this;do{for(a=h.$$asyncQueue;a.length;)try{h.$eval(a.shift())}catch(v){i(v)}if(s=h.$$watchers)for(u=s.length;u--;)try{t=s[u],(n=t.get(h))===(r=t.last)||(t.eq?M(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))||(d=!0,t.last=t.eq?E(n):n,t.fn(n,r===l?n:r,h),5>m&&(p=4-m,g[p]||(g[p]=[]),f=_(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,f+="; newVal: "+L(n)+"; oldVal: "+L(r),g[p].push(f)))}catch(y){i(y)}if(!(s=h.$$childHead||h!==this&&h.$$nextSibling))for(;h!==this&&!(s=h.$$nextSibling);)h=h.$parent}while(h=s);if(d&&!m--)throw c.$$phase=null,Error(e+" $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: "+L(g))}while(d||a.length);c.$$phase=null},$destroy:function(){if(c!=this&&!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(e,t){return n(e)(this,t)},$evalAsync:function(e){this.$$asyncQueue.push(e)},$apply:function(e){try{return o("$apply"),this.$eval(e)}catch(t){i(t)}finally{c.$$phase=null;try{c.$digest()}catch(n){throw i(n),n}}},$on:function(e,t){var i=this.$$listeners[e];return i||(this.$$listeners[e]=i=[]),i.push(t),function(){i[S(i,t)]=null}},$emit:function(e){var t,n,r,o=[],s=this,a=!1,l={name:e,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=[l].concat(Mi.call(arguments,1));do{for(t=s.$$listeners[e]||o,l.currentScope=s,n=0,r=t.length;r>n;n++)if(t[n])try{if(t[n].apply(null,c),a)return l}catch(u){i(u)}else t.splice(n,1),n--,r--;s=s.$parent}while(s);return l},$broadcast:function(e){var t,n,r=this,o=this,s={name:e,targetScope:this,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},a=[s].concat(Mi.call(arguments,1));do{for(r=o,s.currentScope=r,o=r.$$listeners[e]||[],t=0,n=o.length;n>t;t++)if(o[t])try{o[t].apply(null,a)}catch(l){i(l)}else o.splice(t,1),t--,n--;if(!(o=r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(o=r.$$nextSibling);)r=r.$parent}while(r=o);return s}};var c=new r;return c}]}function Kt(){this.$get=["$window",function(e){var t={},i=u((/android (\d+)/.exec(Di(e.navigator.userAgent))||[])[1]);return{history:!(!e.history||!e.history.pushState||4>i),hashchange:"onhashchange"in e&&(!e.document.documentMode||e.document.documentMode>7),hasEvent:function(i){if("input"==i&&9==Pi)return!1;if(m(t[i])){var n=e.document.createElement("div");t[i]="on"+i in n}return t[i]},csp:!1}}]}function Jt(){this.$get=f(e)}function Zt(e){var t,i,r,o={};return e?(n(e.split("\n"),function(e){r=e.indexOf(":"),t=Di(C(e.substr(0,r))),i=C(e.substr(r+1)),t&&(o[t]?o[t]+=", "+i:o[t]=i)}),o):o}function ei(e){var t=v(e)?e:i;return function(i){return t||(t=Zt(e)),i?t[Di(i)]||null:t}}function ti(e,t,i){return _(i)?i(e,t):(n(i,function(i){e=i(e,t)}),e)}function ii(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,s=this.defaults={transformResponse:[function(i){return y(i)&&(i=i.replace(r,""),e.test(i)&&t.test(i)&&(i=O(i,!0))),i}],transformRequest:[function(e){return v(e)&&"[object File]"!==Ai.apply(e)?L(e):e}],headers:{common:{Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"},post:{"Content-Type":"application/json;charset=utf-8"},put:{"Content-Type":"application/json;charset=utf-8"}}},a=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,l,u,d){function h(e){function i(e){var t=c({},e,{data:ti(e.data,e.headers,a)});return 200<=e.status&&e.status<300?t:u.reject(t)}e.method=Ei(e.method);var r,o=e.transformRequest||s.transformRequest,a=e.transformResponse||s.transformResponse,l=s.headers,l=c({"X-XSRF-TOKEN":t.cookies()["XSRF-TOKEN"]},l.common,l[Di(e.method)],e.headers),o=ti(e.data,ei(l),o);return m(e.data)&&delete l["Content-Type"],r=p(e,o,l),r=r.then(i,i),n(b,function(e){r=e(r)}),r.success=function(t){return r.then(function(i){t(i.data,i.status,i.headers,e)}),r},r.error=function(t){return r.then(null,function(i){t(i.data,i.status,i.headers,e)}),r},r}function p(t,i,n){function r(e,t,i){a&&(e>=200&&300>e?a.put(m,[e,t,Zt(i)]):a.remove(m)),o(t,e,i),l.$apply()}function o(e,i,n){i=Math.max(i,0),(i>=200&&300>i?d.resolve:d.reject)({data:e,status:i,headers:ei(n),config:t})}function s(){var e=S(h.pendingRequests,t);-1!==e&&h.pendingRequests.splice(e,1)}var a,c,d=u.defer(),p=d.promise,m=f(t.url,t.params);if(h.pendingRequests.push(t),p.then(s,s),t.cache&&"GET"==t.method&&(a=v(t.cache)?t.cache:g),a)if(c=a.get(m)){if(c.then)return c.then(s,s),c;x(c)?o(c[1],c[0],E(c[2])):o(c,200,{})}else a.put(m,p);return c||e(t.method,m,i,r,n,t.timeout,t.withCredentials),p}function f(e,t){if(!t)return e;var n=[];return o(t,function(e,t){null==e||e==i||(v(e)&&(e=L(e)),n.push(encodeURIComponent(t)+"="+encodeURIComponent(e)))}),e+(-1==e.indexOf("?")?"?":"&")+n.join("&")}var g=r("$http"),b=[];return n(a,function(e){b.push(y(e)?d.get(e):d.invoke(e))}),h.pendingRequests=[],function(){n(arguments,function(e){h[e]=function(t,i){return h(c(i||{},{method:e,url:t}))}})
}("get","delete","head","jsonp"),function(){n(arguments,function(e){h[e]=function(t,i,n){return h(c(n||{},{method:e,url:t,data:i}))}})}("post","put"),h.defaults=s,h}]}function ni(){this.$get=["$browser","$window","$document",function(e,t,i){return ri(e,ln,e.defer,t.angular.callbacks,i[0],t.location.protocol.replace(":",""))}]}function ri(e,t,i,r,o,s){function a(e,t){var i=o.createElement("script"),n=function(){o.body.removeChild(i),t&&t()};i.type="text/javascript",i.src=e,Pi?i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&n()}:i.onload=i.onerror=n,o.body.appendChild(i)}return function(o,l,c,u,d,p,f){function m(t,i,n,r){i="file"==(l.match(en)||["",s])[1]?n?200:404:i,t(1223==i?204:i,n,r),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==Di(o)){var g="_"+(r.counter++).toString(36);r[g]=function(e){r[g].data=e},a(l.replace("JSON_CALLBACK","angular.callbacks."+g),function(){r[g].data?m(u,200,r[g].data):m(u,-2),delete r[g]})}else{var v=new t;v.open(o,l,!0),n(d,function(e,t){e&&v.setRequestHeader(t,e)});var y;v.onreadystatechange=function(){if(4==v.readyState){var e=v.getAllResponseHeaders(),t=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified","Pragma"];e||(e="",n(t,function(t){var i=v.getResponseHeader(t);i&&(e+=t+": "+i+"\n")})),m(u,y||v.status,v.responseText,e)}},f&&(v.withCredentials=!0),v.send(c||""),p>0&&i(function(){y=-1,v.abort()},p)}}}function oi(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function si(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,i,n){function r(r,s,a){var l=i.defer(),c=l.promise,u=g(a)&&!a,s=t.defer(function(){try{l.resolve(r())}catch(t){l.reject(t),n(t)}u||e.$apply()},s),a=function(){delete o[c.$$timeoutId]};return c.$$timeoutId=s,o[s]=l,c.then(a,a),c}var o={};return r.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),t.defer.cancel(e.$$timeoutId)):!1},r}]}function ai(e){function t(t,n){return e.factory(t+i,n)}var i="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+i)}}],t("currency",ci),t("date",mi),t("filter",li),t("json",gi),t("limitTo",vi),t("lowercase",pn),t("number",ui),t("orderBy",yi),t("uppercase",fn)}function li(){return function(e,t){if(!x(e))return e;var i=[];i.check=function(e){for(var t=0;t<i.length;t++)if(!i[t](e))return!1;return!0};var n=function(e,t){if("!"===t.charAt(0))return!n(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return(""+e).toLowerCase().indexOf(t)>-1;case"object":for(var i in e)if("$"!==i.charAt(0)&&n(e[i],t))return!0;return!1;case"array":for(i=0;i<e.length;i++)if(n(e[i],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var r in t)"$"==r?function(){var e=(""+t[r]).toLowerCase();e&&i.push(function(t){return n(t,e)})}():function(){var e=r,o=(""+t[r]).toLowerCase();o&&i.push(function(t){return n(Ht(t,e),o)})}();break;case"function":i.push(t);break;default:return e}for(var o=[],s=0;s<e.length;s++){var a=e[s];i.check(a)&&o.push(a)}return o}}function ci(e){var t=e.NUMBER_FORMATS;return function(e,i){return m(i)&&(i=t.CURRENCY_SYM),di(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,i)}}function ui(e){var t=e.NUMBER_FORMATS;return function(e,i){return di(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function di(e,t,i,n,r){if(isNaN(e)||!isFinite(e))return"";var o=0>e,e=Math.abs(e),s=e+"",a="",l=[],c=!1;if(-1!==s.indexOf("e")){var u=s.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?s="0":(a=s,c=!0)}if(!c){s=(s.split(cn)[1]||"").length,m(r)&&(r=Math.min(Math.max(t.minFrac,s),t.maxFrac));var s=Math.pow(10,r),e=Math.round(e*s)/s,e=(""+e).split(cn),s=e[0],e=e[1]||"",c=0,u=t.lgSize,d=t.gSize;if(s.length>=u+d)for(var c=s.length-u,h=0;c>h;h++)0===(c-h)%d&&0!==h&&(a+=i),a+=s.charAt(h);for(h=c;h<s.length;h++)0===(s.length-h)%u&&0!==h&&(a+=i),a+=s.charAt(h);for(;e.length<r;)e+="0";r&&"0"!==r&&(a+=n+e.substr(0,r))}return l.push(o?t.negPre:t.posPre),l.push(a),l.push(o?t.negSuf:t.posSuf),l.join("")}function hi(e,t,i){var n="";for(0>e&&(n="-",e=-e),e=""+e;e.length<t;)e="0"+e;return i&&(e=e.substr(e.length-t)),n+e}function pi(e,t,i,n){return i=i||0,function(r){return r=r["get"+e](),(i>0||r>-i)&&(r+=i),0===r&&-12==i&&(r=12),hi(r,t,n)}}function fi(e,t){return function(i,n){var r=i["get"+e](),o=Ei(t?"SHORT"+e:e);return n[o][r]}}function mi(e){function t(e){var t;if(t=e.match(i)){var e=new Date(0),n=0,r=0;t[9]&&(n=u(t[9]+t[10]),r=u(t[9]+t[11])),e.setUTCFullYear(u(t[1]),u(t[2])-1,u(t[3])),e.setUTCHours(u(t[4]||0)-n,u(t[5]||0)-r,u(t[6]||0),u(t[7]||0))}return e}var i=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,r){var o,s,a="",l=[],r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r;if(y(i)&&(i=hn.test(i)?u(i):t(i)),b(i)&&(i=new Date(i)),!w(i))return i;for(;r;)(s=dn.exec(r))?(l=l.concat(Mi.call(s,1)),r=l.pop()):(l.push(r),r=null);return n(l,function(t){o=un[t],a+=o?o(i,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function gi(){return function(e){return L(e,!0)}}function vi(){return function(e,t){if(!(e instanceof Array))return e;var i,n,t=u(t),r=[];if(!(e&&e instanceof Array))return r;for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(i=0,n=t):(i=e.length+t,n=e.length);n>i;i++)r.push(e[i]);return r}}function yi(e){return function(t,i,n){function r(e,t){return q(t)?function(t,i){return e(i,t)}:e}if(!x(t))return t;if(!i)return t;for(var i=x(i)?i:[i],i=T(i,function(t){var i=!1,n=t||p;return y(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(i="-"==t.charAt(0),t=t.substring(1)),n=e(t)),r(function(e,t){var i;i=n(e);var r=n(t),o=typeof i,s=typeof r;return o==s?("string"==o&&(i=i.toLowerCase()),"string"==o&&(r=r.toLowerCase()),i=i===r?0:r>i?-1:1):i=s>o?-1:1,i},i)}),o=[],s=0;s<t.length;s++)o.push(t[s]);return o.sort(r(function(e,t){for(var n=0;n<i.length;n++){var r=i[n](e,t);if(0!==r)return r}return 0},n))}}function bi(e){return _(e)&&(e={link:e}),e.restrict=e.restrict||"AC",f(e)}function wi(e,t){function i(t,i){i=i?"-"+W(i,"-"):"",e.removeClass((t?Tn:kn)+i).addClass((t?kn:Tn)+i)}var r=this,o=e.parent().controller("form")||vn,s=0,a=r.$error={};r.$name=t.name,r.$dirty=!1,r.$pristine=!0,r.$valid=!0,r.$invalid=!1,o.$addControl(r),e.addClass(Sn),i(!0),r.$addControl=function(e){e.$name&&!r.hasOwnProperty(e.$name)&&(r[e.$name]=e)},r.$removeControl=function(e){e.$name&&r[e.$name]===e&&delete r[e.$name],n(a,function(t,i){r.$setValidity(i,!0,e)})},r.$setValidity=function(e,t,n){var l=a[e];if(t)l&&(D(l,n),!l.length)&&(s--,s||(i(t),r.$valid=!0,r.$invalid=!1),a[e]=!1,i(!0,e),o.$setValidity(e,!0,r));else{if(s||i(t),l){if(-1!=S(l,n))return}else a[e]=l=[],s++,i(!1,e),o.$setValidity(e,!1,r);l.push(n),r.$valid=!1,r.$invalid=!0}},r.$setDirty=function(){e.removeClass(Sn).addClass(Dn),r.$dirty=!0,r.$pristine=!1,o.$setDirty()}}function xi(e){return m(e)||""===e||null===e||e!==e}function _i(e,t,n,r,o,s){var a=function(){var i=C(t.val());r.$viewValue!==i&&e.$apply(function(){r.$setViewValue(i)})};if(o.hasEvent("input"))t.bind("input",a);else{var l,c=function(){l||(l=s.defer(function(){a(),l=null}))};t.bind("keydown",function(e){e=e.keyCode,91===e||e>15&&19>e||e>=37&&40>=e||c()}),t.bind("change",a),o.hasEvent("paste")&&t.bind("paste cut",c)}r.$render=function(){t.val(xi(r.$viewValue)?"":r.$viewValue)};var d=n.ngPattern,h=function(e,t){return xi(t)||e.test(t)?(r.$setValidity("pattern",!0),t):(r.$setValidity("pattern",!1),i)};if(d&&(d.match(/^\/(.*)\/$/)?(d=RegExp(d.substr(1,d.length-2)),o=function(e){return h(d,e)}):o=function(t){var i=e.$eval(d);if(!i||!i.test)throw Error("Expected "+d+" to be a RegExp but was "+i);return h(i,t)},r.$formatters.push(o),r.$parsers.push(o)),n.ngMinlength){var p=u(n.ngMinlength),o=function(e){return!xi(e)&&e.length<p?(r.$setValidity("minlength",!1),i):(r.$setValidity("minlength",!0),e)};r.$parsers.push(o),r.$formatters.push(o)}if(n.ngMaxlength){var f=u(n.ngMaxlength),n=function(e){return!xi(e)&&e.length>f?(r.$setValidity("maxlength",!1),i):(r.$setValidity("maxlength",!0),e)};r.$parsers.push(n),r.$formatters.push(n)}}function $i(e,t){return e="ngClass"+e,bi(function(n,r,o){function s(e){(t===!0||n.$index%2===t)&&(c&&!M(e,c)&&a(c),l(e)),c=E(e)}function a(e){v(e)&&!x(e)&&(e=T(e,function(e,t){return e?t:void 0})),r.removeClass(x(e)?e.join(" "):e)}function l(e){v(e)&&!x(e)&&(e=T(e,function(e,t){return e?t:void 0})),e&&r.addClass(x(e)?e.join(" "):e)}var c=i;n.$watch(o[e],s,!0),o.$observe("class",function(){var t=n.$eval(o[e]);s(t,t)}),"ngClass"!==e&&n.$watch("$index",function(i,r){var s=1&i;1&s!==r&&(s===t?l(n.$eval(o[e])):a(n.$eval(o[e])))})})}var Ci,ki,Ti,Si,Di=function(e){return y(e)?e.toLowerCase():e},Ei=function(e){return y(e)?e.toUpperCase():e},Pi=u((/msie (\d+)/.exec(Di(navigator.userAgent))||[])[1]),Mi=[].slice,Ii=[].push,Ai=Object.prototype.toString,Li=e.angular||(e.angular={}),Oi=["0","0","0"];h.$inject=[],p.$inject=[],Si=9>Pi?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?Ei(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var qi=/[A-Z]/g,Ni={full:"1.0.7",major:1,minor:0,dot:7,codeName:"monochromatic-rainbow"},Fi=Q.cache={},ji=Q.expando="ng-"+(new Date).getTime(),Ri=1,Ui=e.document.addEventListener?function(e,t,i){e.addEventListener(t,i,!1)}:function(e,t,i){e.attachEvent("on"+t,i)},Hi=e.document.removeEventListener?function(e,t,i){e.removeEventListener(t,i,!1)}:function(e,t,i){e.detachEvent("on"+t,i)},zi=/([\:\-\_]+(.))/g,Wi=/^moz([A-Z])/,Bi=Q.prototype={ready:function(t){function i(){n||(n=!0,t())}var n=!1;this.bind("DOMContentLoaded",i),Q(e).bind("load",i)},toString:function(){var e=[];return n(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?Ci(this[e]):Ci(this[this.length+e])},length:0,push:Ii,sort:[].sort,splice:[].splice},Vi={};n("multiple,selected,checked,disabled,readOnly,required".split(","),function(e){Vi[Di(e)]=e});var Yi={};n("input,select,option,textarea,button,form".split(","),function(e){Yi[Ei(e)]=!0}),n({data:it,inheritedData:lt,scope:function(e){return lt(e,"$scope")},controller:at,injector:function(e){return lt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:nt,css:function(e,t,n){if(t=G(t),!g(n)){var r;return 8>=Pi&&(r=e.currentStyle&&e.currentStyle[t],""===r&&(r="auto")),r=r||e.style[t],8>=Pi&&(r=""===r?i:r),r}e.style[t]=n},attr:function(e,t,n){var r=Di(t);if(Vi[r]){if(!g(n))return e[t]||(e.attributes.getNamedItem(t)||h).specified?r:i;n?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(g(n))e.setAttribute(t,n);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?i:e},prop:function(e,t,i){return g(i)?(e[t]=i,void 0):e[t]},text:c(9>Pi?function(e,t){if(1==e.nodeType){if(m(t))return e.innerText;e.innerText=t}else{if(m(t))return e.nodeValue;e.nodeValue=t}}:function(e,t){return m(t)?e.textContent:(e.textContent=t,void 0)},{$dv:""}),val:function(e,t){return m(t)?e.value:(e.value=t,void 0)},html:function(e,t){if(m(t))return e.innerHTML;for(var i=0,n=e.childNodes;i<n.length;i++)J(n[i]);e.innerHTML=t}},function(e,t){Q.prototype[t]=function(t,n){var r,o;if((2==e.length&&e!==nt&&e!==at?t:n)!==i){for(r=0;r<this.length;r++)e(this[r],t,n);return this}if(v(t)){for(r=0;r<this.length;r++)if(e===it)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}return this.length?e(this[0],t,n):e.$dv}}),n({removeData:et,dealoc:J,bind:function dr(e,i,r){var o=tt(e,"events"),s=tt(e,"handle");o||tt(e,"events",o={}),s||tt(e,"handle",s=ut(e,o)),n(i.split(" "),function(i){var n=o[i];if(!n){if("mouseenter"==i||"mouseleave"==i){var a=t.body.contains||t.body.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};o[i]=[],dr(e,{mouseleave:"mouseout",mouseenter:"mouseover"}[i],function(e){var t=e.relatedTarget;(!t||t!==this&&!a(this,t))&&s(e,i)})}else Ui(e,i,s),o[i]=[];n=o[i]}n.push(r)})},unbind:Z,replaceWith:function(e,t){var i,r=e.parentNode;J(e),n(new Q(t),function(t){i?r.insertBefore(t,i.nextSibling):r.replaceChild(t,e),i=t})},children:function(e){var t=[];return n(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.childNodes||[]},append:function(e,t){n(new Q(t),function(t){1===e.nodeType&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var i=e.firstChild;n(new Q(t),function(t){i?e.insertBefore(t,i):(e.appendChild(t),i=t)})}},wrap:function(e,t){var t=Ci(t)[0],i=e.parentNode;i&&i.replaceChild(t,e),t.appendChild(e)},remove:function(e){J(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var i=e,r=e.parentNode;n(new Q(t),function(e){r.insertBefore(e,i.nextSibling),i=e})},addClass:ot,removeClass:rt,toggleClass:function(e,t,i){m(i)&&(i=!nt(e,t)),(i?ot:rt)(e,t)},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(e=e.nextSibling;null!=e&&1!==e.nodeType;)e=e.nextSibling;return e},find:function(e,t){return e.getElementsByTagName(t)},clone:K,triggerHandler:function(e,t){var i=(tt(e,"events")||{})[t];n(i,function(t){t.call(e,null)})}},function(e,t){Q.prototype[t]=function(t,n){for(var r,o=0;o<this.length;o++)r==i?(r=e(this[o],t,n),r!==i&&(r=Ci(r))):st(r,e(this[o],t,n));return r==i?this:r}}),ht.prototype={put:function(e,t){this[dt(e)]=t},get:function(e){return this[dt(e)]},remove:function(e){var t=this[e=dt(e)];return delete this[e],t}},pt.prototype={push:function(e,t){var i=this[e=dt(e)];i?i.push(t):this[e]=[t]},shift:function(e){var t=this[e=dt(e)];return t?1==t.length?(delete this[e],t[0]):t.shift():void 0},peek:function(e){return(e=this[dt(e)])?e[0]:void 0}};var Gi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Xi=/,/,Qi=/^\s*(_?)(\S+?)\1\s*$/,Ki=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ji="Non-assignable model expression: ";xt.$inject=["$provide"];var Zi=/^(x[\:\-_]|data[\:\-_])/i,en=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,tn=/^([^\?#]*)?(\?([^#]*))?(#(.*))?$/,nn=tn,rn={http:80,https:443,ftp:21};It.prototype={$$replace:!1,absUrl:Ot("$$absUrl"),url:function(e,t){if(m(e))return this.$$url;var i=tn.exec(e);return i[1]&&this.path(decodeURIComponent(i[1])),(i[2]||i[1])&&this.search(i[3]||""),this.hash(i[5]||"",t),this},protocol:Ot("$$protocol"),host:Ot("$$host"),port:Ot("$$port"),path:qt("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){return m(e)?this.$$search:(g(t)?null===t?delete this.$$search[e]:this.$$search[e]=t:this.$$search=y(e)?F(e):e,this.$$compose(),this)},hash:qt("$$hash",p),replace:function(){return this.$$replace=!0,this}},At.prototype=d(It.prototype),Lt.prototype=d(At.prototype);var on={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:h,"+":function(e,t,n,r){return n=n(e,t),r=r(e,t),g(n)?g(r)?n+r:n:g(r)?r:i},"-":function(e,t,i,n){return i=i(e,t),n=n(e,t),(g(i)?i:0)-(g(n)?n:0)},"*":function(e,t,i,n){return i(e,t)*n(e,t)},"/":function(e,t,i,n){return i(e,t)/n(e,t)},"%":function(e,t,i,n){return i(e,t)%n(e,t)},"^":function(e,t,i,n){return i(e,t)^n(e,t)},"=":h,"==":function(e,t,i,n){return i(e,t)==n(e,t)},"!=":function(e,t,i,n){return i(e,t)!=n(e,t)},"<":function(e,t,i,n){return i(e,t)<n(e,t)},">":function(e,t,i,n){return i(e,t)>n(e,t)},"<=":function(e,t,i,n){return i(e,t)<=n(e,t)},">=":function(e,t,i,n){return i(e,t)>=n(e,t)},"&&":function(e,t,i,n){return i(e,t)&&n(e,t)},"||":function(e,t,i,n){return i(e,t)||n(e,t)},"&":function(e,t,i,n){return i(e,t)&n(e,t)},"|":function(e,t,i,n){return n(e,t)(e,t,i(e,t))},"!":function(e,t,i){return!i(e,t)}},sn={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},an={},ln=e.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(i){}throw Error("This browser does not support XMLHttpRequest.")};ai.$inject=["$provide"],ci.$inject=["$locale"],ui.$inject=["$locale"];var cn=".",un={yyyy:pi("FullYear",4),yy:pi("FullYear",2,0,!0),y:pi("FullYear",1),MMMM:fi("Month"),MMM:fi("Month",!0),MM:pi("Month",2,1),M:pi("Month",1,1),dd:pi("Date",2),d:pi("Date",1),HH:pi("Hours",2),H:pi("Hours",1),hh:pi("Hours",2,-12),h:pi("Hours",1,-12),mm:pi("Minutes",2),m:pi("Minutes",1),ss:pi("Seconds",2),s:pi("Seconds",1),EEEE:fi("Day"),EEE:fi("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e){var e=-1*e.getTimezoneOffset(),t=e>=0?"+":"";return t+=hi(Math[e>0?"floor":"ceil"](e/60),2)+hi(Math.abs(e%60),2)}},dn=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,hn=/^\d+$/;mi.$inject=["$locale"];var pn=f(Di),fn=f(Ei);yi.$inject=["$parse"];var mn=f({restrict:"E",compile:function(e,i){return 8>=Pi&&(!i.href&&!i.name&&i.$set("href",""),e.append(t.createComment("IE fix"))),function(e,t){t.bind("click",function(e){t.attr("href")||e.preventDefault()})}}}),gn={};n(Vi,function(e,t){var i=_t("ng-"+t);gn[i]=function(){return{priority:100,compile:function(){return function(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}}}}}),n(["src","href"],function(e){var t=_t("ng-"+e);gn[t]=function(){return{priority:99,link:function(i,n,r){r.$observe(t,function(t){t&&(r.$set(e,t),Pi&&n.prop(e,r[e]))})}}}});var vn={$addControl:h,$removeControl:h,$setValidity:h,$setDirty:h};wi.$inject=["$element","$attrs","$scope"];var Ii=function(e){return["$timeout",function(t){var n={name:"form",restrict:"E",controller:wi,compile:function(){return{pre:function(e,n,r,o){if(!r.action){var s=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};Ui(n[0],"submit",s),n.bind("$destroy",function(){t(function(){Hi(n[0],"submit",s)},0,!1)})}var a=n.parent().controller("form"),l=r.name||r.ngForm;l&&(e[l]=o),a&&n.bind("$destroy",function(){a.$removeControl(o),l&&(e[l]=i),c(o,vn)})}}}};return e?c(E(n),{restrict:"EAC"}):n}]},yn=Ii(),bn=Ii(!0),wn=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,xn=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/,_n=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,$n={text:_i,number:function(e,t,n,r,o,s){if(_i(e,t,n,r,o,s),r.$parsers.push(function(e){var t=xi(e);return t||_n.test(e)?(r.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(r.$setValidity("number",!1),i)}),r.$formatters.push(function(e){return xi(e)?"":""+e}),n.min){var a=parseFloat(n.min),e=function(e){return!xi(e)&&a>e?(r.$setValidity("min",!1),i):(r.$setValidity("min",!0),e)};r.$parsers.push(e),r.$formatters.push(e)}if(n.max){var l=parseFloat(n.max),n=function(e){return!xi(e)&&e>l?(r.$setValidity("max",!1),i):(r.$setValidity("max",!0),e)};r.$parsers.push(n),r.$formatters.push(n)}r.$formatters.push(function(e){return xi(e)||b(e)?(r.$setValidity("number",!0),e):(r.$setValidity("number",!1),i)})},url:function(e,t,n,r,o,s){_i(e,t,n,r,o,s),e=function(e){return xi(e)||wn.test(e)?(r.$setValidity("url",!0),e):(r.$setValidity("url",!1),i)},r.$formatters.push(e),r.$parsers.push(e)},email:function(e,t,n,r,o,s){_i(e,t,n,r,o,s),e=function(e){return xi(e)||xn.test(e)?(r.$setValidity("email",!0),e):(r.$setValidity("email",!1),i)},r.$formatters.push(e),r.$parsers.push(e)},radio:function(e,t,i,n){m(i.name)&&t.attr("name",a()),t.bind("click",function(){t[0].checked&&e.$apply(function(){n.$setViewValue(i.value)})}),n.$render=function(){t[0].checked=i.value==n.$viewValue},i.$observe("value",n.$render)},checkbox:function(e,t,i,n){var r=i.ngTrueValue,o=i.ngFalseValue;y(r)||(r=!0),y(o)||(o=!1),t.bind("click",function(){e.$apply(function(){n.$setViewValue(t[0].checked)})}),n.$render=function(){t[0].checked=n.$viewValue},n.$formatters.push(function(e){return e===r}),n.$parsers.push(function(e){return e?r:o})},hidden:h,button:h,submit:h,reset:h},Cn=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(i,n,r,o){o&&($n[Di(r.type)]||$n.text)(i,n,r,o,t,e)}}}],kn="ng-valid",Tn="ng-invalid",Sn="ng-pristine",Dn="ng-dirty",En=["$scope","$exceptionHandler","$attrs","$element","$parse",function(e,t,i,r,o){function s(e,t){t=t?"-"+W(t,"-"):"",r.removeClass((e?Tn:kn)+t).addClass((e?kn:Tn)+t)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=i.name;var a=o(i.ngModel),l=a.assign;if(!l)throw Error(Ji+i.ngModel+" ("+N(r)+")");this.$render=h;var c=r.inheritedData("$formController")||vn,u=0,d=this.$error={};r.addClass(Sn),s(!0),this.$setValidity=function(e,t){d[e]!==!t&&(t?(d[e]&&u--,u||(s(!0),this.$valid=!0,this.$invalid=!1)):(s(!1),this.$invalid=!0,this.$valid=!1,u++),d[e]=!t,s(t,e),c.$setValidity(e,t,this))},this.$setViewValue=function(i){this.$viewValue=i,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,r.removeClass(Sn).addClass(Dn),c.$setDirty()),n(this.$parsers,function(e){i=e(i)}),this.$modelValue!==i&&(this.$modelValue=i,l(e,i),n(this.$viewChangeListeners,function(e){try{e()}catch(i){t(i)}}))};var p=this;e.$watch(function(){var t=a(e);if(p.$modelValue!==t){var i=p.$formatters,n=i.length;for(p.$modelValue=t;n--;)t=i[n](t);p.$viewValue!==t&&(p.$viewValue=t,p.$render())}})}],Pn=function(){return{require:["ngModel","^?form"],controller:En,link:function(e,t,i,n){var r=n[0],o=n[1]||vn;o.$addControl(r),t.bind("$destroy",function(){o.$removeControl(r)})}}},Mn=f({require:"ngModel",link:function(e,t,i,n){n.$viewChangeListeners.push(function(){e.$eval(i.ngChange)})}}),In=function(){return{require:"?ngModel",link:function(e,t,i,n){if(n){i.required=!0;var r=function(e){return!i.required||!xi(e)&&e!==!1?(n.$setValidity("required",!0),e):(n.$setValidity("required",!1),void 0)};n.$formatters.push(r),n.$parsers.unshift(r),i.$observe("required",function(){r(n.$viewValue)})}}}},An=function(){return{require:"ngModel",link:function(e,t,r,o){var s=(e=/\/(.*)\//.exec(r.ngList))&&RegExp(e[1])||r.ngList||",";o.$parsers.push(function(e){var t=[];return e&&n(e.split(s),function(e){e&&t.push(C(e))}),t}),o.$formatters.push(function(e){return x(e)?e.join(", "):i})}}},Ln=/^(true|false|\d+)$/,On=function(){return{priority:100,compile:function(e,t){return Ln.test(t.ngValue)?function(e,t,i){i.$set("value",e.$eval(i.ngValue))}:function(e,t,i){e.$watch(i.ngValue,function(e){i.$set("value",e,!1)})}}}},qn=bi(function(e,t,n){t.addClass("ng-binding").data("$binding",n.ngBind),e.$watch(n.ngBind,function(e){t.text(e==i?"":e)})}),Nn=["$interpolate",function(e){return function(t,i,n){t=e(i.attr(n.$attr.ngBindTemplate)),i.addClass("ng-binding").data("$binding",t),n.$observe("ngBindTemplate",function(e){i.text(e)})}}],Fn=[function(){return function(e,t,i){t.addClass("ng-binding").data("$binding",i.ngBindHtmlUnsafe),e.$watch(i.ngBindHtmlUnsafe,function(e){t.html(e||"")})}}],jn=$i("",!0),Rn=$i("Odd",0),Un=$i("Even",1),Hn=bi({compile:function(e,t){t.$set("ngCloak",i),e.removeClass("ng-cloak")}}),zn=[function(){return{scope:!0,controller:"@"}}],Wn=["$sniffer",function(e){return{priority:1e3,compile:function(){e.csp=!0}}}],Bn={};n("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave".split(" "),function(e){var t=_t("ng-"+e);Bn[t]=["$parse",function(i){return function(n,r,o){var s=i(o[t]);r.bind(Di(e),function(e){n.$apply(function(){s(n,{$event:e})})})}}]});var Vn=bi(function(e,t,i){t.bind("submit",function(){e.$apply(i.ngSubmit)})}),Yn=["$http","$templateCache","$anchorScroll","$compile",function(e,t,i,n){return{restrict:"ECA",terminal:!0,compile:function(r,o){var s=o.ngInclude||o.src,a=o.onload||"",l=o.autoscroll;return function(r,o){var c,u=0,d=function(){c&&(c.$destroy(),c=null),o.html("")};r.$watch(s,function(s){var h=++u;s?e.get(s,{cache:t}).success(function(e){h===u&&(c&&c.$destroy(),c=r.$new(),o.html(e),n(o.contents())(c),g(l)&&(!l||r.$eval(l))&&i(),c.$emit("$includeContentLoaded"),r.$eval(a))}).error(function(){h===u&&d()}):d()})}}}}],Gn=bi({compile:function(){return{pre:function(e,t,i){e.$eval(i.ngInit)}}}}),Xn=bi({terminal:!0,priority:1e3}),Qn=["$locale","$interpolate",function(e,t){var i=/{}/g;return{restrict:"EA",link:function(r,o,s){var a=s.count,l=o.attr(s.$attr.when),c=s.offset||0,u=r.$eval(l),d={},h=t.startSymbol(),p=t.endSymbol();n(u,function(e,n){d[n]=t(e.replace(i,h+a+"-"+c+p))}),r.$watch(function(){var t=parseFloat(r.$eval(a));return isNaN(t)?"":(t in u||(t=e.pluralCat(t-c)),d[t](r,o,!0))},function(e){o.text(e)})}}}],Kn=bi({transclude:"element",priority:1e3,terminal:!0,compile:function(e,t,i){return function(e,t,n){var r,o,s,a=n.ngRepeat,n=a.match(/^\s*(.+)\s+in\s+(.*)\s*$/);if(!n)throw Error("Expected ngRepeat in form of '_item_ in _collection_' but got '"+a+"'.");if(a=n[1],r=n[2],n=a.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!n)throw Error("'item' in 'item in collection' should be identifier or (key, value) but got '"+a+"'.");o=n[3]||n[1],s=n[2];var l=new pt;e.$watch(function(e){var n,a,c,u,d,h,p,f,m=e.$eval(r),g=t,v=new pt;if(x(m))p=m||[];else{p=[];for(d in m)m.hasOwnProperty(d)&&"$"!=d.charAt(0)&&p.push(d);p.sort()}for(c=p.length-1,n=0,a=p.length;a>n;n++)d=m===p?n:p[n],h=m[d],(f=l.shift(h))?(u=f.scope,v.push(h,f),n!==f.index&&(f.index=n,g.after(f.element)),g=f.element):u=e.$new(),u[o]=h,s&&(u[s]=d),u.$index=n,u.$first=0===n,u.$last=n===c,u.$middle=!(u.$first||u.$last),f||i(u,function(e){g.after(e),f={scope:u,element:g=e,index:n},v.push(h,f)});for(d in l)if(l.hasOwnProperty(d))for(p=l[d];p.length;)h=p.pop(),h.element.remove(),h.scope.$destroy();l=v})}}}),Jn=bi(function(e,t,i){e.$watch(i.ngShow,function(e){t.css("display",q(e)?"":"none")})}),Zn=bi(function(e,t,i){e.$watch(i.ngHide,function(e){t.css("display",q(e)?"none":"")})}),er=bi(function(e,t,i){e.$watch(i.ngStyle,function(e,i){i&&e!==i&&n(i,function(e,i){t.css(i,"")}),e&&t.css(e)},!0)}),tr=f({restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,t,i,n){var r,o,s;e.$watch(i.ngSwitch||i.on,function(a){o&&(s.$destroy(),o.remove(),o=s=null),(r=n.cases["!"+a]||n.cases["?"])&&(e.$eval(i.change),s=e.$new(),r(s,function(e){o=e,t.append(e)}))})}}),ir=bi({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,i){return function(e,n,r,o){o.cases["!"+t.ngSwitchWhen]=i}}}),nr=bi({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,i){return function(e,t,n,r){r.cases["?"]=i}}}),rr=bi({controller:["$transclude","$element",function(e,t){e(function(e){t.append(e)})}]}),or=["$http","$templateCache","$route","$anchorScroll","$compile","$controller",function(e,t,i,n,r,o){return{restrict:"ECA",terminal:!0,link:function(e,t,s){function a(){var s=i.current&&i.current.locals,a=s&&s.$template;if(a){t.html(a),l&&(l.$destroy(),l=null);var a=r(t.contents()),u=i.current;l=u.scope=e.$new(),u.controller&&(s.$scope=l,s=o(u.controller,s),t.children().data("$ngControllerController",s)),a(l),l.$emit("$viewContentLoaded"),l.$eval(c),n()}else t.html(""),l&&(l.$destroy(),l=null)}var l,c=s.onload||"";e.$on("$routeChangeSuccess",a),a()}}}],sr=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,i){"text/ng-template"==i.type&&e.put(i.id,t[0].text)}}}],ar=f({terminal:!0}),lr=["$compile","$parse",function(e,o){var s=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,a={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,i){var n,r=this,o={},s=a;r.databound=i.ngModel,r.init=function(e,t,i){s=e,n=i},r.addOption=function(t){o[t]=!0,s.$viewValue==t&&(e.val(t),n.parent()&&n.remove())},r.removeOption=function(e){this.hasOption(e)&&(delete o[e],s.$viewValue==e&&this.renderUnknownOption(e))},r.renderUnknownOption=function(t){t="? "+dt(t)+" ?",n.val(t),e.prepend(n),e.val(t),n.prop("selected",!0)},r.hasOption=function(e){return o.hasOwnProperty(e)},t.$on("$destroy",function(){r.renderUnknownOption=h})}],link:function(a,l,c,u){function d(e,t,i,n){i.$render=function(){var e=i.$viewValue;n.hasOption(e)?(C.parent()&&C.remove(),t.val(e),""===e&&f.prop("selected",!0)):m(e)&&f?t.val(""):n.renderUnknownOption(e)},t.bind("change",function(){e.$apply(function(){C.parent()&&C.remove(),i.$setViewValue(t.val())})})}function h(e,t,i){var r;i.$render=function(){var e=new ht(i.$viewValue);n(t.find("option"),function(t){t.selected=g(e.get(t.value))})},e.$watch(function(){M(r,i.$viewValue)||(r=E(i.$viewValue),i.$render())}),t.bind("change",function(){e.$apply(function(){var e=[];n(t.find("option"),function(t){t.selected&&e.push(t.value)}),i.$setViewValue(e)})})}function p(t,n,a){function l(){var e,o,s,l,c,v={"":[]},y=[""];s=a.$modelValue,l=m(t)||[];var w,C,k,T=h?r(l):l;C={},c=!1;var S,D;for(b&&(c=new ht(s)),k=0;w=T.length,w>k;k++)C[d]=l[h?C[h]=T[k]:k],e=p(t,C)||"",(o=v[e])||(o=v[e]=[],y.push(e)),b?e=c.remove(f(t,C))!=i:(e=s===f(t,C),c=c||e),S=u(t,C),S=S===i?"":S,o.push({id:h?T[k]:k,label:S,selected:e});for(b||(x||null===s?v[""].unshift({id:"",label:"",selected:!c}):c||v[""].unshift({id:"?",label:"",selected:!0})),C=0,T=y.length;T>C;C++){for(e=y[C],o=v[e],g.length<=C?(s={element:$.clone().attr("label",e),label:o.label},l=[s],g.push(l),n.append(s.element)):(l=g[C],s=l[0],s.label!=e&&s.element.attr("label",s.label=e)),S=null,k=0,w=o.length;w>k;k++)e=o[k],(c=l[k+1])?(S=c.element,c.label!==e.label&&S.text(c.label=e.label),c.id!==e.id&&S.val(c.id=e.id),S[0].selected!==e.selected&&S.prop("selected",c.selected=e.selected)):(""===e.id&&x?D=x:(D=_.clone()).val(e.id).attr("selected",e.selected).text(e.label),l.push({element:D,label:e.label,id:e.id,selected:e.selected}),S?S.after(D):s.element.append(D),S=D);for(k++;l.length>k;)l.pop().element.remove()}for(;g.length>C;)g.pop()[0].element.remove()}var c;if(!(c=w.match(s)))throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+w+"'.");var u=o(c[2]||c[1]),d=c[4]||c[6],h=c[5],p=o(c[3]||""),f=o(c[2]?c[1]:d),m=o(c[7]),g=[[{element:n,label:""}]];x&&(e(x)(t),x.removeClass("ng-scope"),x.remove()),n.html(""),n.bind("change",function(){t.$apply(function(){var e,r,o,s,l,c,u,p=m(t)||[],v={};if(b)for(o=[],l=0,u=g.length;u>l;l++)for(e=g[l],s=1,c=e.length;c>s;s++)(r=e[s].element)[0].selected&&(r=r.val(),h&&(v[h]=r),v[d]=p[r],o.push(f(t,v)));else r=n.val(),"?"==r?o=i:""==r?o=null:(v[d]=p[r],h&&(v[h]=r),o=f(t,v));a.$setViewValue(o)})}),a.$render=l,t.$watch(l)}if(u[1]){for(var f,v=u[0],y=u[1],b=c.multiple,w=c.ngOptions,x=!1,_=Ci(t.createElement("option")),$=Ci(t.createElement("optgroup")),C=_.clone(),u=0,k=l.children(),T=k.length;T>u;u++)if(""==k[u].value){f=x=k.eq(u);break}if(v.init(y,x,C),b&&(c.required||c.ngRequired)){var S=function(e){return y.$setValidity("required",!c.required||e&&e.length),e};y.$parsers.push(S),y.$formatters.unshift(S),c.$observe("required",function(){S(y.$viewValue)})}w?p(a,l,y):b?h(a,l,y):d(a,l,y,v)}}}}],cr=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(i,n){if(m(n.value)){var r=e(i.text(),!0);r||n.$set("value",i.text())}return function(e,i,n){var o=i.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.databound?i.prop("selected",!1):s=t,r?e.$watch(r,function(e,t){n.$set("value",e),e!==t&&s.removeOption(t),s.addOption(e)}):s.addOption(n.value),i.bind("$destroy",function(){s.removeOption(n.value)})}}}}],ur=f({restrict:"E",terminal:!0});(ki=e.jQuery)?(Ci=ki,c(ki.fn,{scope:Bi.scope,controller:Bi.controller,injector:Bi.injector,inheritedData:Bi.inheritedData}),X("remove",!0),X("empty"),X("html")):Ci=Q,Li.element=Ci,function(t){c(t,{bootstrap:z,copy:E,extend:c,equals:M,element:Ci,forEach:n,injector:mt,noop:h,bind:I,toJson:L,fromJson:O,identity:p,isUndefined:m,isDefined:g,isString:y,isFunction:_,isObject:v,isNumber:b,isElement:k,isArray:x,version:Ni,isDate:w,lowercase:Di,uppercase:Ei,callbacks:{counter:0}}),Ti=Y(e);
try{Ti("ngLocale")}catch(i){Ti("ngLocale",[]).provider("$locale",oi)}Ti("ng",["ngLocale"],["$provide",function(e){e.provider("$compile",xt).directive({a:mn,input:Cn,textarea:Cn,form:yn,script:sr,select:lr,style:ur,option:cr,ngBind:qn,ngBindHtmlUnsafe:Fn,ngBindTemplate:Nn,ngClass:jn,ngClassEven:Un,ngClassOdd:Rn,ngCsp:Wn,ngCloak:Hn,ngController:zn,ngForm:bn,ngHide:Zn,ngInclude:Yn,ngInit:Gn,ngNonBindable:Xn,ngPluralize:Qn,ngRepeat:Kn,ngShow:Jn,ngSubmit:Vn,ngStyle:er,ngSwitch:tr,ngSwitchWhen:ir,ngSwitchDefault:nr,ngOptions:ar,ngView:or,ngTransclude:rr,ngModel:Pn,ngList:An,ngChange:Mn,required:In,ngRequired:In,ngValue:On}).directive(gn).directive(Bn),e.provider({$anchorScroll:gt,$browser:yt,$cacheFactory:bt,$controller:$t,$document:Ct,$exceptionHandler:kt,$filter:ai,$interpolate:Tt,$http:ii,$httpBackend:ni,$location:Nt,$log:Ft,$parse:Bt,$route:Gt,$routeParams:Xt,$rootScope:Qt,$q:Vt,$sniffer:Kt,$templateCache:wt,$timeout:si,$window:Jt})}])}(Li),Ci(t).ready(function(){H(t,z)})}(window,document),angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak{display:none;}ng\\:form{display:block;}</style>'),function(e,t,i){"use strict";t.module("ngResource",["ng"]).factory("$resource",["$http","$parse",function(e,n){function r(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function o(e,t){this.template=e+="#",this.defaults=t||{};var i=this.urlParams={};c(e.split(/\W/),function(t){t&&RegExp("(^|[^\\\\]):"+t+"\\W").test(e)&&(i[t]=!0)}),this.template=e.replace(/\\:/g,":")}function s(r,p,f){function m(e,t){var i={},t=u({},p,t);return c(t,function(t,r){var o;t.charAt&&"@"==t.charAt(0)?(o=t.substr(1),o=n(o)(e)):o=t,i[r]=o}),i}function g(e){d(e||{},this)}var v=new o(r),f=u({},a,f);return c(f,function(n,r){n.method=t.uppercase(n.method);var o="POST"==n.method||"PUT"==n.method||"PATCH"==n.method;g[r]=function(t,i,r,s){var a,p={},f=l,y=null;switch(arguments.length){case 4:y=s,f=r;case 3:case 2:if(!h(i)){p=t,a=i,f=r;break}if(h(t)){f=t,y=i;break}f=i,y=r;case 1:h(t)?f=t:o?a=t:p=t;break;case 0:break;default:throw"Expected between 0-4 arguments [params, data, success, error], got "+arguments.length+" arguments."}var b=this instanceof g?this:n.isArray?[]:new g(a);return e({method:n.method,url:v.url(u({},m(a,n.params||{}),p)),data:a}).then(function(e){var t=e.data;t&&(n.isArray?(b.length=0,c(t,function(e){b.push(new g(e))})):d(t,b)),(f||l)(b,e.headers)},y),b},g.prototype["$"+r]=function(e,t,n){var s,a=m(this),c=l;switch(arguments.length){case 3:a=e,c=t,s=n;break;case 2:case 1:h(e)?(c=e,s=t):(a=e,c=t||l);case 0:break;default:throw"Expected between 1-3 arguments [params, success, error], got "+arguments.length+" arguments."}g[r].call(this,a,o?this:i,c,s)}}),g.bind=function(e){return s(r,u({},p,e),f)},g}var a={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},l=t.noop,c=t.forEach,u=t.extend,d=t.copy,h=t.isFunction;return o.prototype={url:function(e){var i,n,o=this,s=this.template,e=e||{};c(this.urlParams,function(a,l){i=e.hasOwnProperty(l)?e[l]:o.defaults[l],t.isDefined(i)&&null!==i?(n=r(i,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),s=s.replace(RegExp(":"+l+"(\\W)","g"),n+"$1")):s=s.replace(RegExp("(/?):"+l+"(\\W)","g"),function(e,t,i){return"/"==i.charAt(0)?i:t+i})});var s=s.replace(/\/?#$/,""),a=[];return c(e,function(e,t){o.urlParams[t]||a.push(r(t)+"="+r(e))}),a.sort(),s=s.replace(/\/*$/,""),s+(a.length?"?"+a.join("&"):"")}},s}])}(window,window.angular),StringBuffer.prototype.append=function(e){return this.buffer.push(e),this},StringBuffer.prototype.toString=function(){return this.buffer.join("")};var Base64={codex:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){for(var t=new StringBuffer,i=new Utf8EncodeEnumerator(e);i.moveNext();){var n=i.current;i.moveNext();var r=i.current;i.moveNext();var o=i.current,s=n>>2,a=(3&n)<<4|r>>4,l=(15&r)<<2|o>>6,c=63&o;isNaN(r)?l=c=64:isNaN(o)&&(c=64),t.append(this.codex.charAt(s)+this.codex.charAt(a)+this.codex.charAt(l)+this.codex.charAt(c))}return t.toString()},decode:function(e){for(var t=new StringBuffer,i=new Base64DecodeEnumerator(e);i.moveNext();){var n=i.current;if(128>n)t.append(String.fromCharCode(n));else if(n>191&&224>n){i.moveNext();var r=i.current;t.append(String.fromCharCode((31&n)<<6|63&r))}else{i.moveNext();var r=i.current;i.moveNext();var o=i.current;t.append(String.fromCharCode((15&n)<<12|(63&r)<<6|63&o))}}return t.toString()}};Utf8EncodeEnumerator.prototype={current:Number.NaN,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=Number.NaN,!1;var e=this._input.charCodeAt(++this._index);return 13==e&&10==this._input.charCodeAt(this._index+1)&&(e=10,this._index+=2),128>e?this.current=e:e>127&&2048>e?(this.current=192|e>>6,this._buffer.push(128|63&e)):(this.current=224|e>>12,this._buffer.push(128|63&e>>6),this._buffer.push(128|63&e)),!0}},Base64DecodeEnumerator.prototype={current:64,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=64,!1;var e=Base64.codex.indexOf(this._input.charAt(++this._index)),t=Base64.codex.indexOf(this._input.charAt(++this._index)),i=Base64.codex.indexOf(this._input.charAt(++this._index)),n=Base64.codex.indexOf(this._input.charAt(++this._index)),r=e<<2|t>>4,o=(15&t)<<4|i>>2,s=(3&i)<<6|n;return this.current=r,64!=i&&this._buffer.push(o),64!=n&&this._buffer.push(s),!0}},/* ===================================================
 * bootstrap-transition.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in i)if(void 0!==t.style[e])return i[e]}();return e&&{end:e}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.prototype.close=function(t){function i(){n.trigger("closed").remove()}var n,r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),n=e(o),t&&t.preventDefault(),n.length||(n=r.hasClass("alert")?r:r.parent()),n.trigger(t=e.Event("close")),t.isDefaultPrevented()||(n.removeClass("in"),e.support.transition&&n.hasClass("fade")?n.on(e.support.transition.end,i):i())};var n=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var n=e(this),r=n.data("alert");r||n.data("alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})},e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.alert.data-api",t,i.prototype.close)}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,i)};t.prototype.setState=function(e){var t="disabled",i=this.$element,n=i.data(),r=i.is("input")?"val":"html";e+="Text",n.resetText||i.data("resetText",i[r]()),i[r](n[e]||this.options[e]),setTimeout(function(){"loadingText"==e?i.addClass(t).attr(t,t):i.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=function(i){return this.each(function(){var n=e(this),r=n.data("button"),o="object"==typeof i&&i;r||n.data("button",r=new t(this,o)),"toggle"==i?r.toggle():i&&r.setState(i)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var i=e(t.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var i=this.getActiveIndex(),n=this;if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid",function(){n.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,i){var n,r=this.$element.find(".item.active"),o=i||r[t](),s=this.interval,a="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,s&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),n=e.Event("slide",{relatedTarget:o[0],direction:a}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(n),n.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,r.addClass(a),o.addClass(a),this.$element.one(e.support.transition.end,function(){o.removeClass([t,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(n),n.isDefaultPrevented())return;r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var i=e.fn.carousel;e.fn.carousel=function(i){return this.each(function(){var n=e(this),r=n.data("carousel"),o=e.extend({},e.fn.carousel.defaults,"object"==typeof i&&i),s="string"==typeof i?i:o.slide;r||n.data("carousel",r=new t(this,o)),"number"==typeof i?r.to(i):s?r[s]():o.interval&&r.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var i,n,r=e(this),o=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},o.data(),r.data());o.carousel(s),(n=r.attr("data-slide-to"))&&o.data("carousel").pause().to(n).cycle(),t.preventDefault()})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,i),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,i,n,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),i=e.camelCase(["scroll",t].join("-")),n=this.$parent&&this.$parent.find("> .accordion-group > .in"),n&&n.length){if(r=n.data("collapse"),r&&r.transitioning)return;n.collapse("hide"),r||n.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][i])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,i,n){var r=this,o=function(){"show"==i.type&&r.reset(),r.transitioning=0,r.$element.trigger(n)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=e.fn.collapse;e.fn.collapse=function(i){return this.each(function(){var n=e(this),r=n.data("collapse"),o=e.extend({},e.fn.collapse.defaults,n.data(),"object"==typeof i&&i);r||n.data("collapse",r=new t(this,o)),"string"==typeof i&&r[i]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var i,n=e(this),r=n.attr("data-target")||t.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=e(r).data("collapse")?"toggle":n.data();n[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(r).collapse(o)})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";function t(){e(n).each(function(){i(e(this)).removeClass("open")})}function i(t){var i,n=t.attr("data-target");return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),i=n&&e(n),i&&i.length||(i=t.parent()),i}var n="[data-toggle=dropdown]",r=function(t){var i=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var n,r,o=e(this);if(!o.is(".disabled, :disabled"))return n=i(o),r=n.hasClass("open"),t(),r||n.toggleClass("open"),o.focus(),!1},keydown:function(t){var r,o,s,a,l;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(s=i(r),a=s.hasClass("open"),!a||a&&27==t.keyCode)return 27==t.which&&s.find(n).focus(),r.click();o=e("[role=menu] li:not(.divider):visible a",s),o.length&&(l=o.index(o.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var i=e(this),n=i.data("dropdown");n||i.data("dropdown",n=new r(this)),"string"==typeof t&&n[t].call(i)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",n,r.prototype.toggle).on("keydown.dropdown.data-api",n+", [role=menu]",r.prototype.keydown)}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){"use strict";var t=function(t,i){this.options=i,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,i=e.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var i=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),i&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),i?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,i=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(i),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var i=e.fn.modal;e.fn.modal=function(i){return this.each(function(){var n=e(this),r=n.data("modal"),o=e.extend({},e.fn.modal.defaults,n.data(),"object"==typeof i&&i);r||n.data("modal",r=new t(this,o)),"string"==typeof i?r[i]():o.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),n=i.attr("href"),r=e(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":e.extend({remote:!/#/.test(n)&&n},r.data(),i.data());t.preventDefault(),r.modal(o).one("hide",function(){i.focus()})})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,i,n){var r,o,s,a,l;for(this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.enabled=!0,s=this.options.trigger.split(" "),l=s.length;l--;)a=s[l],"click"==a?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=a&&(r="hover"==a?"mouseenter":"focus",o="hover"==a?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var i,n=e.fn[this.type].defaults,r={};return this._options&&e.each(this._options,function(e,t){n[e]!=t&&(r[e]=t)},this),i=e(t.currentTarget)[this.type](r).data(this.type),i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},leave:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},show:function(){var t,i,n,r,o,s,a=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),i=this.getPosition(),n=t[0].offsetWidth,r=t[0].offsetHeight,o){case"bottom":s={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":s={top:i.top-r,left:i.left+i.width/2-n/2};break;case"left":s={top:i.top+i.height/2-r/2,left:i.left-n};break;case"right":s={top:i.top+i.height/2-r/2,left:i.left+i.width}}this.applyPlacement(s,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var i,n,r,o,s=this.tip(),a=s[0].offsetWidth,l=s[0].offsetHeight;s.offset(e).addClass(t).addClass("in"),i=s[0].offsetWidth,n=s[0].offsetHeight,"top"==t&&n!=l&&(e.top=e.top+l-n,o=!0),"bottom"==t||"top"==t?(r=0,e.left<0&&(r=-2*e.left,e.left=0,s.offset(e),i=s[0].offsetWidth,n=s[0].offsetHeight),this.replaceArrow(r-a+i,i,"left")):this.replaceArrow(n-l,n,"top"),o&&s.offset(e)},replaceArrow:function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){i.off(e.support.transition.end).detach()},500);i.one(e.support.transition.end,function(){clearTimeout(t),i.detach()})}var i=this.tip(),n=e.Event("hide");return this.$element.trigger(n),n.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():i.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var i=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var n=e(this),r=n.data("tooltip"),o="object"==typeof i&&i;r||n.data("tooltip",r=new t(this,o)),"string"==typeof i&&r[i]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](i),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,i=this.options;return e=("function"==typeof i.content?i.content.call(t[0]):i.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var n=e(this),r=n.data("popover"),o="object"==typeof i&&i;r||n.data("popover",r=new t(this,o)),"string"==typeof i&&r[i]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(e){"use strict";function t(t,i){var n,r=e.proxy(this.process,this),o=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,i),this.$scrollElement=o.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(n=e(t).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,i=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top+(!e.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(t>=n)return s!=(e=o.last()[0])&&this.activate(e);for(e=r.length;e--;)s!=o[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(o[e])},activate:function(t){var i,n;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}};var i=e.fn.scrollspy;e.fn.scrollspy=function(i){return this.each(function(){var n=e(this),r=n.data("scrollspy"),o="object"==typeof i&&i;r||n.data("scrollspy",r=new t(this,o)),"string"==typeof i&&r[i]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,i,n,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],n=e.Event("show",{relatedTarget:t}),r.trigger(n),n.isDefaultPrevented()||(i=e(s),this.activate(r.parent("li"),o),this.activate(i,i.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,i,n){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),s=n&&e.support.transition&&o.hasClass("fade");s?o.one(e.support.transition.end,r):r(),o.removeClass("in")}};var i=e.fn.tab;e.fn.tab=function(i){return this.each(function(){var n=e(this),r=n.data("tab");r||n.data("tab",r=new t(this)),"string"==typeof i&&r[i]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e(document).height(),i=this.$element.position().top;this.$element.is("#searchBoxBottom")&&(i=this.$element.closest(".search").get(0).offsetTop);var n=400>t-i;i-e(window).height();var r=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return n?this.$menu.css({bottom:0,left:r.left,top:""}):this.$menu.css({top:r.top+r.height,left:r.left,bottom:""}),this.$menu.insertAfter(this.$element).show(),this.shown=!0,this},hide:function(){return this.$menu.children(".active.hovered"),this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var i=this;return t=e.grep(t,function(e){return i.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,i=[],n=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?n.push(t):r.push(t):i.push(t);return i.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var i=this;return t=e(t).map(function(t,n){return t=e(i.options.item).attr("data-value",n),t.find("a").html(i.highlighter(n)),t[0]}),t.first(),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active hovered"),i=t.next();if(i.length||(i=e(this.$menu.find("li")[0])),i.addClass("active"),i){var n=i.position().top+16+this.$menu.scrollTop(),r=this.$menu.height()+this.$menu.scrollTop();n>r?this.$menu.queue("fx",[]).animate({scrollTop:r},200):n<this.$menu.scrollTop()&&this.$menu.queue("fx",[]).animate({scrollTop:0},0)}},prev:function(){var e=this.$menu.find(".active").removeClass("active hovered"),t=e.prev();if(t.length||(t=this.$menu.find("li").last()),t.addClass("active"),t){var i=t.position().top+16+this.$menu.scrollTop(),n=this.$menu.height()+this.$menu.scrollTop();i<this.$menu.scrollTop()?this.$menu.queue("fx",[]).animate({scrollTop:this.$menu.scrollTop()-this.$menu.height()},200):i>n&&this.$menu.queue("fx",[]).animate({scrollTop:9999999},0)}},listen:function(){var t=this.$element;this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseenter",e.proxy(this.setactive,this)).on("touchstart","li",e.proxy(this.mouseenter,this)).on("mouseleave",e.proxy(this.mouseleave,this)).on("mouseup","li",function(){t.removeClass("active")})},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused=!0},blur:function(){var e=this,t=this.$menu.children(".active.hovered");e.focused=!1,!t.length&&e.shown?setTimeout(function(){e.hide()},150):this.$element.addClass("active")},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active hovered"),e(t.currentTarget).addClass("active hovered")},setactive:function(){this.$menu.find(".active").addClass("hovered")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide(),this.$menu.find(".active").removeClass("hovered"),this.$element.focus()}};var i=e.fn.typeahead;e.fn.typeahead=function(i){return this.each(function(){var n=e(this),r=n.data("typeahead"),o="object"==typeof i&&i;r||n.data("typeahead",r=new t(this,o)),"string"==typeof i&&r[i]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=i,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery),/* ==========================================================
 * bootstrap-affix.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,i){this.options=e.extend({},e.fn.affix.defaults,i),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,i=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,s=o.bottom,a=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top()),"function"==typeof s&&(s=o.bottom()),t=null!=this.unpin&&n+this.unpin<=r.top?!1:null!=s&&r.top+this.$element.height()>=i-s?"bottom":null!=a&&a>=n?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?r.top-n:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}};var i=e.fn.affix;e.fn.affix=function(i){return this.each(function(){var n=e(this),r=n.data("affix"),o="object"==typeof i&&i;r||n.data("affix",r=new t(this,o)),"string"==typeof i&&r[i]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),i=t.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),t.affix(i)})})}(window.jQuery);var CryptoJS=CryptoJS||function(e,t){var i={},n=i.lib={},r=function(){},o=n.Base={extend:function(e){r.prototype=this;var t=new r;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=n.WordArray=o.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var r=0;e>r;r++)t[n+r>>>2]|=(255&i[r>>>2]>>>24-8*(r%4))<<24-8*((n+r)%4);else if(65535<i.length)for(r=0;e>r;r+=4)t[n+r>>>2]=i[r>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-8*(i%4),t.length=e.ceil(i/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;t>n;n+=4)i.push(0|4294967296*e.random());return new s.init(i,t)}}),a=i.enc={},l=a.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;e>n;n++){var r=255&t[n>>>2]>>>24-8*(n%4);i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;t>n;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-4*(n%8);return new s.init(i,t/2)}},c=a.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;e>n;n++)i.push(String.fromCharCode(255&t[n>>>2]>>>24-8*(n%4)));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;t>n;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-8*(n%4);return new s.init(i,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,r=i.sigBytes,o=this.blockSize,a=r/(4*o),a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0);if(t=a*o,r=e.min(4*t,r),t){for(var l=0;t>l;l+=o)this._doProcessBlock(n,l);l=n.splice(0,t),i.sigBytes-=r}return new s.init(l,r)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new h.HMAC.init(e,i).finalize(t)}}});var h=i.algo={};return i}(Math);css_browser_selector(navigator.userAgent);var dateFormat=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,n=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(r,o,s){var a=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(r)||/\d/.test(r)||(o=r,r=void 0),r=r?new Date(r):new Date,isNaN(r))throw SyntaxError("invalid date");o=String(a.masks[o]||o||a.masks["default"]),"UTC:"==o.slice(0,4)&&(o=o.slice(4),s=!0);var l=s?"getUTC":"get",c=r[l+"Date"](),u=r[l+"Day"](),d=r[l+"Month"](),h=r[l+"FullYear"](),p=r[l+"Hours"](),f=r[l+"Minutes"](),m=r[l+"Seconds"](),g=r[l+"Milliseconds"](),v=s?0:r.getTimezoneOffset(),y={d:c,dd:n(c),ddd:a.i18n.dayNames[u],dddd:a.i18n.dayNames[u+7],m:d+1,mm:n(d+1),mmm:a.i18n.monthNames[d],mmmm:a.i18n.monthNames[d+12],yy:String(h).slice(2),yyyy:h,h:p%12||12,hh:n(p%12||12),H:p,HH:n(p),M:f,MM:n(f),s:m,ss:n(m),l:n(g,3),L:n(g>99?Math.round(g/10):g),t:12>p?"a":"p",tt:12>p?"am":"pm",T:12>p?"A":"P",TT:12>p?"AM":"PM",Z:s?"UTC":(String(r).match(t)||[""]).pop().replace(i,""),o:(v>0?"-":"+")+n(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][c%10>3?0:(10!=c%100-c%10)*c%10]};return o.replace(e,function(e){return e in y?y[e]:e.slice(1,e.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(e,t){return dateFormat(this,e,t)},function(e){e.fn.dragscrollable=function(t){var i=e.extend({dragSelector:">:first",acceptPropagatedEvent:!0,orientation:"auto",onDrag:function(){},onMouseUp:function(){},preventDefault:!0},t||{}),n=e(this).find(i.dragSelector),r={mouseDownHandler:function(t){return 1!=t.which||!t.data.acceptPropagatedEvent&&t.target!=this?!1:(t.data.lastCoord={left:t.clientX,top:t.clientY},e.event.add(document,"mouseup",r.mouseUpHandler,t.data),e.event.add(document,"mousemove",r.mouseMoveHandler,t.data),t.data.preventDefault?(t.preventDefault(),!1):void 0)},mouseMoveHandler:function(e){i.onDrag();var t={left:e.clientX-e.data.lastCoord.left,top:e.clientY-e.data.lastCoord.top};return"x"==i.orientation?n.css("left",n.position().left+t.left+"px"):"y"==i.orientation?e.data.scrollable.scrollTop(e.data.scrollable.scrollTop()-t.top):(e.data.scrollable.scrollLeft(e.data.scrollable.scrollLeft()-t.left),e.data.scrollable.scrollTop(e.data.scrollable.scrollTop()-t.top)),e.data.lastCoord={left:e.clientX,top:e.clientY},e.data.preventDefault?(e.preventDefault(),!1):void 0},mouseUpHandler:function(t){return i.onMouseUp(),e.event.remove(document,"mousemove",r.mouseMoveHandler),e.event.remove(document,"mouseup",r.mouseUpHandler),t.data.preventDefault?(t.preventDefault(),!1):void 0}};this.each(function(){var t={scrollable:e(this),acceptPropagatedEvent:i.acceptPropagatedEvent,preventDefault:i.preventDefault};e(this).find(i.dragSelector).bind("mousedown",t,r.mouseDownHandler)})}}(jQuery),function(){var e=CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp(),e=[];for(var r=0;i>r;r+=3)for(var o=(255&t[r>>>2]>>>24-8*(r%4))<<16|(255&t[r+1>>>2]>>>24-8*((r+1)%4))<<8|255&t[r+2>>>2]>>>24-8*((r+2)%4),s=0;4>s&&i>r+.75*s;s++)e.push(n.charAt(63&o>>>6*(3-s)));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var i=e.length,n=this._map,r=n.charAt(64);r&&(r=e.indexOf(r),-1!=r&&(i=r));for(var r=[],o=0,s=0;i>s;s++)if(s%4){var a=n.indexOf(e.charAt(s-1))<<2*(s%4),l=n.indexOf(e.charAt(s))>>>6-2*(s%4);r[o>>>2]|=(a|l)<<24-8*(o%4),o++}return t.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),/*
  jquery.fbjlike.js - http://socialmediaautomat.com/jquery-fbjlike-js.php
  based on: jQuery OneFBLike v1.1 - http://onerutter.com/open-source/jquery-facebook-like-plugin.html
  Copyright (c) 2010 Jake Rutter modified 2011 by Stephan Helbig
  This plugin available for use in all personal or commercial projects under both MIT and GPL licenses.
*/
function(e){e.fn.fbjlike=function(t){var i={appID:"",userID:"",siteTitle:"",siteName:"",siteImage:"",href:!1,mode:"insert",buttonWidth:450,buttonHeight:60,showfaces:!1,font:"lucida grande",layout:"button_count",action:"like",send:!1,comments:!1,numPosts:10,colorscheme:"light",lang:"en_US",hideafterlike:!1,googleanalytics:!1,googleanalytics_obj:"pageTracker",onlike:function(){return!0},onunlike:function(){return!0}},t=e.extend(i,t);return this.each(function(){var i=t,n=e(this);if(i.href)var r=i.href;else var r=document.location;var o=document.title;""!=i.appID&&e("head").append('<meta property="fb:app_id" content="'+i.appID+'"/>'),""!=i.userID&&e("head").append('<meta property="fb:admins" content="'+i.userID+'"/>'),""!=i.siteTitle&&e("head").append('<meta property="og:title" content="'+i.siteTitle+'"/>'),""!=i.siteName&&e("head").append('<meta property="og:site_name" content="'+i.siteName+'"/>'),""!=i.siteImage&&e("head").append('<meta property="og:image" content="'+i.siteImage+'"/>'),e("body").append('<div id="fb-root"></div>'),e("#fb-like iframe").css("height","35px !important"),function(){var t=document.createElement("script");t.async=!0,t.src=document.location.protocol+"//connect.facebook.net/"+i.lang+"/all.js",e("#fb-root").append(t)}(),window.fbAsyncInit=function(){FB.init({appId:i.appID,status:!0,cookie:!0,xfbml:!0}),FB.Event.subscribe("edge.create",function(t){i.hideafterlike&&e(n).hide(),i.googleanalytics&&("_gaq"!=i.googleanalytics_obj?pageTracker._trackEvent("facebook","liked",o):_gaq.push(["_trackEvent","facebook","liked",o])),i.onlike.call(t)}),FB.Event.subscribe("edge.remove",function(e){i.googleanalytics&&("_gaq"!=i.googleanalytics_obj?pageTracker._trackEvent("facebook","unliked",o):_gaq.push(["_trackEvent","facebook","unliked",o])),i.onunlike.call(e)})};var s="";i.send&&(s=' send="true"');var a='<fb:like href="'+r+'" width="'+i.buttonWidth+'" height="'+i.buttonHeight+'" show_faces="'+i.showfaces+'" font="'+i.font+'" layout="'+i.layout+'" action="'+i.action+'" colorscheme="'+i.colorscheme+'"'+s+"/>";i.comments&&(a+='<div style="clear:both;"></div><fb:comments href="'+r+'" num_posts="'+i.numPosts+'" width="'+i.buttonWidth+'"></fb:comments>'),"append"==i.mode?e(n).append(a):e(n).html(a)})}}(jQuery),FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){"use strict";var i,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},FastClick.prototype.focus=function(e){"use strict";var t;this.deviceIsIOS&&e.setSelectionRange?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){"use strict";var t,i;if(t=e.fastClickScrollParent,!t||!t.contains(e)){i=e;do{if(i.scrollHeight>i.offsetHeight){t=i,e.fastClickScrollParent=i;break}i=i.parentElement}while(i)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){"use strict";var t,i,n;if(t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],this.deviceIsIOS){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!this.deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0];return Math.abs(t.pageX-this.touchStartX)>10||Math.abs(t.pageY-this.touchStartY)>10?!0:!1},FastClick.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){"use strict";var t,i,n,r,o,s=this.targetElement;if(this.touchHasMoved(e)&&(this.trackingClick=!1,this.targetElement=null),!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(o=e.changedTouches[0],s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)),n=s.tagName.toLowerCase(),"label"===n){if(t=this.findControl(s)){if(this.focus(s),this.deviceIsAndroid)return!1;s=t}}else if(this.needsFocus(s))return e.timeStamp-i>100||this.deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(s),this.deviceIsIOS4&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(r=s.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(s)||(e.preventDefault(),this.sendClick(s,e)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){"use strict";var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(){"use strict";var e;if("undefined"==typeof window.ontouchstart)return!0;if(/Chrome\/[0-9]+/.test(navigator.userAgent)){if(!FastClick.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]"),e&&-1!==e.content.indexOf("user-scalable=no"))return!0}return!1},FastClick.attach=function(e){"use strict";return new FastClick(e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,/*! Hammer.JS - v1.0.5 - 2013-04-07
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
function(e,t){"use strict";function i(){if(!n.READY){n.event.determineEventTypes();for(var e in n.gestures)n.gestures.hasOwnProperty(e)&&n.detection.register(n.gestures[e]);n.event.onTouch(n.DOCUMENT,n.EVENT_MOVE,n.detection.detect),n.event.onTouch(n.DOCUMENT,n.EVENT_END,n.detection.detect),n.READY=!0}}var n=function(e,t){return new n.Instance(e,t||{})};n.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in e,n.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,n.NO_MOUSEEVENTS=n.HAS_TOUCHEVENTS&&navigator.userAgent.match(n.MOBILE_REGEX),n.EVENT_TYPES={},n.DIRECTION_DOWN="down",n.DIRECTION_LEFT="left",n.DIRECTION_UP="up",n.DIRECTION_RIGHT="right",n.POINTER_MOUSE="mouse",n.POINTER_TOUCH="touch",n.POINTER_PEN="pen",n.EVENT_START="start",n.EVENT_MOVE="move",n.EVENT_END="end",n.DOCUMENT=document,n.plugins={},n.READY=!1,n.Instance=function(e,t){var r=this;return i(),this.element=e,this.enabled=!0,this.options=n.utils.extend(n.utils.extend({},n.defaults),t||{}),this.options.stop_browser_behavior&&n.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),n.event.onTouch(e,n.EVENT_START,function(e){r.enabled&&n.detection.startDetect(r,e)}),this},n.Instance.prototype={on:function(e,t){for(var i=e.split(" "),n=0;i.length>n;n++)this.element.addEventListener(i[n],t,!1);return this},off:function(e,t){for(var i=e.split(" "),n=0;i.length>n;n++)this.element.removeEventListener(i[n],t,!1);return this},trigger:function(e,t){var i=n.DOCUMENT.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t;var r=this.element;return n.utils.hasParent(t.target,r)&&(r=t.target),r.dispatchEvent(i),this},enable:function(e){return this.enabled=e,this}};var r=null,o=!1,s=!1;n.event={bindDom:function(e,t,i){for(var n=t.split(" "),r=0;n.length>r;r++)e.addEventListener(n[r],i,!1)},onTouch:function(e,t,i){var a=this;this.bindDom(e,n.EVENT_TYPES[t],function(l){var c=l.type.toLowerCase();if(!c.match(/mouse/)||!s){(c.match(/touch/)||c.match(/pointerdown/)||c.match(/mouse/)&&1===l.which)&&(o=!0),c.match(/touch|pointer/)&&(s=!0);var u=0;o&&(n.HAS_POINTEREVENTS&&t!=n.EVENT_END?u=n.PointerEvent.updatePointer(t,l):c.match(/touch/)?u=l.touches.length:s||(u=c.match(/up/)?0:1),u>0&&t==n.EVENT_END?t=n.EVENT_MOVE:u||(t=n.EVENT_END),u||null===r?r=l:l=r,i.call(n.detection,a.collectEventData(e,t,l)),n.HAS_POINTEREVENTS&&t==n.EVENT_END&&(u=n.PointerEvent.updatePointer(t,l))),u||(r=null,o=!1,s=!1,n.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=n.HAS_POINTEREVENTS?n.PointerEvent.getEvents():n.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],n.EVENT_TYPES[n.EVENT_START]=e[0],n.EVENT_TYPES[n.EVENT_MOVE]=e[1],n.EVENT_TYPES[n.EVENT_END]=e[2]},getTouchList:function(e){return n.HAS_POINTEREVENTS?n.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,i){var r=this.getTouchList(i,t),o=n.POINTER_TOUCH;return(i.type.match(/mouse/)||n.PointerEvent.matchType(n.POINTER_MOUSE,i))&&(o=n.POINTER_MOUSE),{center:n.utils.getCenter(r),timeStamp:(new Date).getTime(),target:i.target,touches:r,eventType:t,pointerType:o,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return n.detection.stopDetect()}}}},n.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(i){t.push(e.pointers[i])}),t},updatePointer:function(e,t){return e==n.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var i={};return i[n.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==n.POINTER_MOUSE,i[n.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==n.POINTER_TOUCH,i[n.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==n.POINTER_PEN,i[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},n.utils={extend:function(e,i,n){for(var r in i)e[r]!==t&&n||(e[r]=i[r]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],i=[],n=0,r=e.length;r>n;n++)t.push(e[n].pageX),i.push(e[n].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,i)+Math.max.apply(Math,i))/2}},getVelocity:function(e,t,i){return{x:Math.abs(t/e)||0,y:Math.abs(i/e)||0}},getAngle:function(e,t){var i=t.pageY-e.pageY,n=t.pageX-e.pageX;return 180*Math.atan2(i,n)/Math.PI},getDirection:function(e,t){var i=Math.abs(e.pageX-t.pageX),r=Math.abs(e.pageY-t.pageY);return i>=r?e.pageX-t.pageX>0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT:e.pageY-t.pageY>0?n.DIRECTION_UP:n.DIRECTION_DOWN},getDistance:function(e,t){var i=t.pageX-e.pageX,n=t.pageY-e.pageY;return Math.sqrt(i*i+n*n)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==n.DIRECTION_UP||e==n.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var i,n=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var r=0;n.length>r;r++)for(var o in t)t.hasOwnProperty(o)&&(i=o,n[r]&&(i=n[r]+i.substring(0,1).toUpperCase()+i.substring(1)),e.style[i]=t[o]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:n.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,i=0,r=this.gestures.length;r>i;i++){var o=this.gestures[i];if(!this.stopped&&t[o.name]!==!1&&o.handler.call(o,e,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==n.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=n.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var i=0,r=e.touches.length;r>i;i++)t.touches.push(n.utils.extend({},e.touches[i]))}var o=e.timeStamp-t.timeStamp,s=e.center.pageX-t.center.pageX,a=e.center.pageY-t.center.pageY,l=n.utils.getVelocity(o,s,a);return n.utils.extend(e,{deltaTime:o,deltaX:s,deltaY:a,velocityX:l.x,velocityY:l.y,distance:n.utils.getDistance(t.center,e.center),angle:n.utils.getAngle(t.center,e.center),direction:n.utils.getDirection(t.center,e.center),scale:n.utils.getScale(t.touches,e.touches),rotation:n.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var i=e.defaults||{};return i[e.name]===t&&(i[e.name]=!0),n.utils.extend(n.defaults,i,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},n.gestures=n.gestures||{},n.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case n.EVENT_START:clearTimeout(this.timer),n.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==n.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case n.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case n.EVENT_END:clearTimeout(this.timer)}}},n.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==n.EVENT_END){var i=n.detection.previous,r=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;i&&"tap"==i.name&&e.timeStamp-i.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),r=!0),(!r||t.options.tap_always)&&(n.detection.current.name="tap",t.trigger(n.detection.current.name,e))}}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==n.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},n.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,i){if(n.detection.current.name!=this.name&&this.triggered)return i.trigger(this.name+"end",e),this.triggered=!1,t;if(!(i.options.drag_max_touches>0&&e.touches.length>i.options.drag_max_touches))switch(e.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:if(e.distance<i.options.drag_min_distance&&n.detection.current.name!=this.name)return;n.detection.current.name=this.name,(n.detection.current.lastEvent.drag_locked_to_axis||i.options.drag_lock_to_axis&&i.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var r=n.detection.current.lastEvent.direction;e.drag_locked_to_axis&&r!==e.direction&&(e.direction=n.utils.isVertical(r)?0>e.deltaY?n.DIRECTION_UP:n.DIRECTION_DOWN:0>e.deltaX?n.DIRECTION_LEFT:n.DIRECTION_RIGHT),this.triggered||(i.trigger(this.name+"start",e),this.triggered=!0),i.trigger(this.name,e),i.trigger(this.name+e.direction,e),(i.options.drag_block_vertical&&n.utils.isVertical(e.direction)||i.options.drag_block_horizontal&&!n.utils.isVertical(e.direction))&&e.preventDefault();break;case n.EVENT_END:this.triggered&&i.trigger(this.name+"end",e),this.triggered=!1}}},n.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,i){if(n.detection.current.name!=this.name&&this.triggered)return i.trigger(this.name+"end",e),this.triggered=!1,t;if(!(2>e.touches.length))switch(i.options.transform_always_block&&e.preventDefault(),e.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:var r=Math.abs(1-e.scale),o=Math.abs(e.rotation);if(i.options.transform_min_scale>r&&i.options.transform_min_rotation>o)return;n.detection.current.name=this.name,this.triggered||(i.trigger(this.name+"start",e),this.triggered=!0),i.trigger(this.name,e),o>i.options.transform_min_rotation&&i.trigger("rotate",e),r>i.options.transform_min_scale&&(i.trigger("pinch",e),i.trigger("pinch"+(1>e.scale?"in":"out"),e));break;case n.EVENT_END:this.triggered&&i.trigger(this.name+"end",e),this.triggered=!1}}},n.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,i){return i.options.prevent_mouseevents&&e.pointerType==n.POINTER_MOUSE?(e.stopDetect(),t):(i.options.prevent_default&&e.preventDefault(),e.eventType==n.EVENT_START&&i.trigger(this.name,e),t)}},n.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==n.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=n:(e.Hammer=n,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return n}))}(this),function(e,t){"use strict";e!==t&&(Hammer.event.bindDom=function(i,n,r){e(i).on(n,function(e){var i=e.originalEvent||e;i.pageX===t&&(i.pageX=e.pageX,i.pageY=e.pageY),i.target||(i.target=e.target),i.which===t&&(i.which=i.button),i.preventDefault||(i.preventDefault=e.preventDefault),i.stopPropagation||(i.stopPropagation=e.stopPropagation),r.call(this,i)})},Hammer.Instance.prototype.on=function(t,i){return e(this.element).on(t,i)},Hammer.Instance.prototype.off=function(t,i){return e(this.element).off(t,i)},Hammer.Instance.prototype.trigger=function(t,i){var n=e(this.element);return n.has(i.target).length&&(n=e(i.target)),n.trigger({type:t,gesture:i})},e.fn.hammer=function(t){return this.each(function(){var i=e(this),n=i.data("hammer");n?n&&t&&Hammer.utils.extend(n.options,t):i.data("hammer",new Hammer(this,t||{}))})})}(window.jQuery||window.Zepto),/*
 * Swiper 1.8 - Mobile Touch Slider
 * http://www.idangero.us/sliders/swiper/
 *
 * Copyright 2012, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under GPL & MIT
 *
 * Updated on: January 21, 2013
*/
Swiper=function(e,t){function i(e){return document.querySelectorAll(e)}function n(){var e=m-p*t.slidesPerSlide;return t.loop&&(e-=y),t.scrollContainer&&(e=p-y,0>e&&(e=0)),e}function r(e){u.allowLinks||e.preventDefault()}function o(e){if(u.isTouched||t.onlyExternal)return!1;if(u.isTouched=!0,!u.support.touch||1==e.targetTouches.length){u.callPlugins("onTouchStartBegin"),t.loop&&u.fixLoop(),u.support.touch||(e.preventDefault?e.preventDefault():e.returnValue=!1);var i=u.support.touch?e.targetTouches[0].pageX:e.pageX||e.clientX;if(e=u.support.touch?e.targetTouches[0].pageY:e.pageY||e.clientY,u.touches.startX=u.touches.currentX=i,u.touches.startY=u.touches.currentY=e,u.touches.start=u.touches.current=h?u.touches.startX:u.touches.startY,u.setTransition(0),u.positions.start=u.positions.current=h?u.getTranslate("x"):u.getTranslate("y"),h?u.setTransform(u.positions.start,0,0):u.setTransform(0,u.positions.start,0),u.times.start=(new Date).getTime(),v=void 0,t.onSlideClick||t.onSlideTouch){var n=u.container,r=n.getBoundingClientRect(),o=document.body;clientTop=n.clientTop||o.clientTop||0,clientLeft=n.clientLeft||o.clientLeft||0,scrollTop=window.pageYOffset||n.scrollTop,scrollLeft=window.pageXOffset||n.scrollLeft,i=i-r.left+clientLeft-scrollLeft,e=e-r.top-clientTop-scrollTop,i=h?i:e,e=-Math.round(u.positions.current/p),i=Math.floor(i/p)+e,t.loop&&(i-=t.slidesPerSlide,0>i&&(i=u.slides.length+i-2*t.slidesPerSlide)),u.clickedSlideIndex=i,u.clickedSlide=u.getSlide(i),t.onSlideTouch&&(t.onSlideTouch(u),u.callPlugins("onSlideTouch"))}t.onTouchStart&&t.onTouchStart(u),u.callPlugins("onTouchStartEnd")}}function s(e){if(u.isTouched&&!t.onlyExternal){var i=u.support.touch?e.targetTouches[0].pageX:e.pageX||e.clientX,r=u.support.touch?e.targetTouches[0].pageY:e.pageY||e.clientY;if("undefined"==typeof v&&h&&(v=!!(v||Math.abs(r-u.touches.startY)>Math.abs(i-u.touches.startX))),"undefined"==typeof v&&!h&&(v=!!(v||Math.abs(r-u.touches.startY)<Math.abs(i-u.touches.startX))),!v)if(e.assignedToSwiper)u.isTouched=!1;else if(e.assignedToSwiper=!0,t.preventLinks&&(u.allowLinks=!1),t.autoPlay&&u.stopAutoPlay(),(!u.support.touch||1==e.touches.length)&&(u.callPlugins("onTouchMoveStart"),e.preventDefault?e.preventDefault():e.returnValue=!1,u.touches.current=h?i:r,u.positions.current=(u.touches.current-u.touches.start)*t.ratio+u.positions.start,t.resistance&&(0<u.positions.current&&(!t.freeMode||t.freeModeFluid)&&(t.loop?(e=1,0<u.positions.current&&(u.positions.current=0)):e=(2*y-u.positions.current)/y/2,u.positions.current=.5>e?y/2:u.positions.current*e),u.positions.current<-n()&&(!t.freeMode||t.freeModeFluid)&&(t.loop?(e=1,i=u.positions.current,r=-n()-y):(i=(u.touches.current-u.touches.start)*t.ratio+(n()+u.positions.start),e=(y+i)/y,i=u.positions.current-i*(1-e)/2,r=-n()-y/2),u.positions.current=r>i||0>=e?r:i)),t.followFinger))return h?u.setTransform(u.positions.current,0,0):u.setTransform(0,u.positions.current,0),t.freeMode&&u.updateActiveSlide(u.positions.current),t.onTouchMove&&t.onTouchMove(u),u.callPlugins("onTouchMoveEnd"),!1}}function a(){if(!t.onlyExternal&&u.isTouched){u.isTouched=!1,t.preventLinks&&setTimeout(function(){u.allowLinks=!0},10),t.onSlideClick&&(t.onSlideClick(u),u.callPlugins("onSlideClick")),!u.positions.current&&0!==u.positions.current&&(u.positions.current=u.positions.start),h?u.setTransform(u.positions.current,0,0):u.setTransform(0,u.positions.current,0),u.times.end=(new Date).getTime(),u.touches.diff=u.touches.current-u.touches.start,u.touches.abs=Math.abs(u.touches.diff),u.positions.diff=u.positions.current-u.positions.start,u.positions.abs=Math.abs(u.positions.diff);var e=u.positions.diff,i=u.positions.abs;5>i&&u.swipeReset();var n=m-p*t.slidesPerSlide;t.scrollContainer&&(n=p-y),0<u.positions.current?u.swipeReset():u.positions.current<-n?u.swipeReset():t.freeMode?(300>u.times.end-u.times.start&&t.freeModeFluid&&(e=u.positions.current+2*u.touches.diff,-1*n>e&&(e=-n),e>0&&(e=0),h?u.setTransform(e,0,0):u.setTransform(0,e,0),u.setTransition(2*(u.times.end-u.times.start)),u.updateActiveSlide(e)),(!t.freeModeFluid||300<=u.times.end-u.times.start)&&u.updateActiveSlide(u.positions.current)):(g=0>e?"toNext":"toPrev","toNext"==g&&300>=u.times.end-u.times.start&&(30>i?u.swipeReset():u.swipeNext(!0)),"toPrev"==g&&300>=u.times.end-u.times.start&&(30>i?u.swipeReset():u.swipePrev(!0)),"toNext"==g&&300<u.times.end-u.times.start&&(i>=.5*p?u.swipeNext(!0):u.swipeReset()),"toPrev"==g&&300<u.times.end-u.times.start&&(i>=.5*p?u.swipePrev(!0):u.swipeReset())),t.onTouchEnd&&t.onTouchEnd(u),u.callPlugins("onTouchEnd")}}function l(){u.callPlugins("onSlideChangeStart"),t.onSlideChangeStart&&t.onSlideChangeStart(u),t.onSlideChangeEnd&&u.transitionEnd(t.onSlideChangeEnd)}if(window.addEventListener||(window.Element||(Element=function(){}),Element.prototype.addEventListener=HTMLDocument.prototype.addEventListener=addEventListener=function(e,t){this.attachEvent("on"+e,t)},Element.prototype.removeEventListener=HTMLDocument.prototype.removeEventListener=removeEventListener=function(e,t){this.detachEvent("on"+e,t)}),document.body.__defineGetter__&&HTMLElement){var c=HTMLElement.prototype;c.__defineGetter__&&c.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}if(window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(e,t,i){return i.toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this}),document.querySelectorAll&&0!=document.querySelectorAll(e).length){var u=this;u.touches={},u.positions={current:0},u.id=(new Date).getTime(),u.container=i(e)[0],u.times={},u.isTouched=!1,u.realIndex=0,u.activeSlide=0,u.previousSlide=null,u.support={touch:u.isSupportTouch(),threeD:u.isSupport3D()},u.use3D=u.support.threeD,c={mode:"horizontal",ratio:1,speed:300,freeMode:!1,freeModeFluid:!1,slidesPerSlide:1,simulateTouch:!0,followFinger:!0,autoPlay:!1,onlyExternal:!1,createPagination:!0,pagination:!1,resistance:!0,scrollContainer:!1,preventLinks:!0,initialSlide:0,slideClass:"swiper-slide",wrapperClass:"swiper-wrapper",paginationClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch"},t=t||{};for(var d in c)d in t||(t[d]=c[d]);u.params=t,t.scrollContainer&&(t.freeMode=!0,t.freeModeFluid=!0);var h,p,f,m,g,v,y,b=i(e+" ."+t.wrapperClass).item(0);u.wrapper=b,h="horizontal"==t.mode,u.touchEvents={touchStart:u.support.touch||!t.simulateTouch?"touchstart":u.ie10?"MSPointerDown":"mousedown",touchMove:u.support.touch||!t.simulateTouch?"touchmove":u.ie10?"MSPointerMove":"mousemove",touchEnd:u.support.touch||!t.simulateTouch?"touchend":u.ie10?"MSPointerUp":"mouseup"},u._extendSwiperSlide=function(n){return n.append=function(){return u.wrapper.appendChild(n),u.reInit(),n},n.prepend=function(){return u.wrapper.insertBefore(n,u.wrapper.firstChild),u.reInit(),n},n.insertAfter=function(r){return void 0===typeof r?!1:(r=i(e+" > ."+t.wrapperClass+" > ."+t.slideClass+":nth-child("+(r+2)+")")[0],u.wrapper.insertBefore(n,r),u.reInit(),n)},n.clone=function(){return u._extendSwiperSlide(n.cloneNode(!0))},n.remove=function(){u.wrapper.removeChild(n),u.reInit()},n.html=function(e){return void 0==typeof e?n.innerHTML:(n.innerHTML=e,n)},n.index=function(){for(var e,t=u.slides.length-1;t>=0;t--)n==u.slides[t]&&(e=t);return e},n.isActive=function(){return n.index()==u.activeSlide?!0:!1},n.swiperSlideDataStorage||(n.swiperSlideDataStorage={}),n.getData=function(e){return n.swiperSlideDataStorage[e]},n.setData=function(e,t){return n.swiperSlideDataStorage[e]=t,n},n.data=function(e,t){return t?(n.setAttribute("data-"+e,t),n):n.getAttribute("data-"+e)},n},u._calcSlides=function(){var n=u.slides?u.slides.length:!1;u.slides=i(e+" > ."+t.wrapperClass+" > ."+t.slideClass);for(var r=u.slides.length-1;r>=0;r--)u._extendSwiperSlide(u.slides[r]);n&&n!=u.slides.length&&u.createPagination&&(u.createPagination(),u.callPlugins("numberOfSlidesChanged"))},u._calcSlides(),u.createSlide=function(e,t){t=t||u.params.slideClass;var i=document.createElement("div");return i.innerHTML=e||"",i.className=t,u._extendSwiperSlide(i)},u.appendSlide=function(e,t,i){return e?e instanceof HTMLElement?u._extendSwiperSlide(e).append():u.createSlide(e,t,i).append():void 0},u.prependSlide=function(e,t,i){return e?e instanceof HTMLElement?u._extendSwiperSlide(e).prepend():u.createSlide(e,t,i).prepend():void 0},u.insertSlideAfter=function(e,t,i,n){return e?e instanceof HTMLElement?u._extendSwiperSlide(e).insertAfter(e):u.createSlide(t,i,n).insertAfter(e):!1},u.removeSlide=function(e){return u.slides[e]?(u.slides[e].remove(),!0):!1},u.removeLastSlide=function(){return 0<u.slides.length?(u.slides[u.slides.length-1].remove(),!0):!1},u.removeAllSlides=function(){for(var e=u.slides.length-1;e>=0;e--)u.slides[e].remove()},u.getSlide=function(e){return u.slides[e]},u.getLastSlide=function(){return u.slides[u.slides.length-1]},u.getFirstSlide=function(){return u.slides[0]},u.currentSlide=function(){return u.slides[u.activeSlide]};var w,x=[];for(w in u.plugins)t[w]&&(d=u.plugins[w](u,t[w]))&&x.push(d);if(u.callPlugins=function(e,t){t||(t={});for(var i=0;i<x.length;i++)e in x[i]&&x[i][e](t)},u.ie10&&!t.onlyExternal&&(h?u.wrapper.classList.add("swiper-wp8-horizontal"):u.wrapper.classList.add("swiper-wp8-vertical")),t.loop){for(f=i(e+" > ."+t.wrapperClass+" > ."+t.slideClass).length,d=w="",c=0;c<t.slidesPerSlide;c++)w+=i(e+" > ."+t.wrapperClass+" > ."+t.slideClass).item(c).outerHTML;for(c=f-t.slidesPerSlide;f>c;c++)d+=i(e+" > ."+t.wrapperClass+" > ."+t.slideClass).item(c).outerHTML;b.innerHTML=d+b.innerHTML+w,u._calcSlides(),u.callPlugins("onCreateLoop")}var _=!1;u.init=function(n){var r=parseInt(window.getComputedStyle(u.container,null).getPropertyValue("width"),10),o=parseInt(window.getComputedStyle(u.container,null).getPropertyValue("height"),10);if(isNaN(r)&&(r=u.container.offsetWidth-parseInt(window.getComputedStyle(u.container,null).getPropertyValue("padding-left"),10)-parseInt(window.getComputedStyle(u.container,null).getPropertyValue("padding-right"),10)),isNaN(o)&&(o=u.container.offsetHeight-parseInt(window.getComputedStyle(u.container,null).getPropertyValue("padding-top"),10)-parseInt(window.getComputedStyle(u.container,null).getPropertyValue("padding-bottom"),10)),n||u.width!=r||u.height!=o){(n||_)&&u._calcSlides(),u.width=r,u.height=o;var s=h?1:t.slidesPerSlide,o=h?t.slidesPerSlide:1;f=i(e+" > ."+t.wrapperClass+" > ."+t.slideClass).length,t.scrollContainer?(n=i(e+" ."+t.slideClass).item(0).offsetWidth,r=i(e+" ."+t.slideClass).item(0).offsetHeight,y=h?u.width:u.height,p=h?n:r,o=n,s=r):(n=u.width/o,r=u.height/s,p=y=h?u.width:u.height,o=h?f*u.width/o:u.width,s=h?u.height:f*u.height/s),m=h?o:s;for(var a=0;f>a;a++){var l=i(e+" > ."+t.wrapperClass+" > ."+t.slideClass).item(a);l.style.width=n+"px",l.style.height=r+"px",t.onSlideInitialize&&t.onSlideInitialize(u,l)}b.style.width=o+"px",b.style.height=s+"px",0<t.initialSlide&&t.initialSlide<f&&(u.realIndex=u.activeSlide=t.initialSlide,u.params.loop&&(u.activeSlide=u.realIndex-t.slidesPerSlide),h?(u.positions.current=-t.initialSlide*n,u.setTransform(u.positions.current,0,0)):(u.positions.current=-t.initialSlide*r,u.setTransform(0,u.positions.current,0))),t.slidesPerSlide&&1<t.slidesPerSlide&&(p/=t.slidesPerSlide),_?u.callPlugins("onInit"):u.callPlugins("onFirstInit"),_=!0}},u.init(),u.reInit=function(){u.init(!0)},u.updatePagination=function(){if(!(2>u.slides.length)){var e=i(t.pagination+" ."+t.paginationActiveClass);if(e){for(var n=0;n<e.length;n++)0<=e.item(n).className.indexOf("active")&&(e.item(n).className=e.item(n).className.replace(t.paginationActiveClass,""));for(var e=i(t.pagination+" ."+t.paginationClass).length,n=t.loop?u.realIndex-t.slidesPerSlide:u.realIndex,r=n+(t.slidesPerSlide-1);r>=n;n++){var o=n;o>=e&&(o-=e),0>o&&(o=e+o),f>o&&(i(t.pagination+" ."+t.paginationClass).item(o).className=i(t.pagination+" ."+t.paginationClass).item(o).className+" "+t.paginationActiveClass)}}}},u.createPagination=function(){if(t.pagination&&t.createPagination){for(var e="",n=u.slides.length,n=t.loop?n-2*t.slidesPerSlide:n,r=0;n>r;r++)e+='<span class="'+t.paginationClass+'"></span>';i(t.pagination)[0].innerHTML=e,u.updatePagination(),u.callPlugins("onCreatePagination")}},u.createPagination(),u.resizeEvent="resize","onorientationchange"in window&&(u.resizeEvent="orientationchange"),u.resizeFix=function(){if(u.callPlugins("beforeResizeFix"),u.init(),t.scrollContainer){if((h?u.getTranslate("x"):u.getTranslate("y"))<-n()){var e=h?-n():0,i=h?0:-n();u.setTransition(0),u.setTransform(e,i,0)}}else u.swipeTo(u.activeSlide,0,!1);u.callPlugins("afterResizeFix")},t.disableAutoResize||window.addEventListener(u.resizeEvent,u.resizeFix,!1);var $;u.startAutoPlay=function(){t.autoPlay&&!t.loop?$=setInterval(function(){var e=u.realIndex+1;e==f&&(e=0),u.swipeTo(e)},t.autoPlay):t.autoPlay&&t.loop&&($=setInterval(function(){u.swipeNext()},t.autoPlay)),u.callPlugins("onAutoPlayStart")},u.stopAutoPlay=function(){$&&clearInterval($),u.callPlugins("onAutoPlayStop")},t.autoPlay&&u.startAutoPlay(),b.addEventListener(u.touchEvents.touchStart,o,!1);var C=u.support.touch?b:document;if(C.addEventListener(u.touchEvents.touchMove,s,!1),C.addEventListener(u.touchEvents.touchEnd,a,!1),u.destroy=function(e){(!1===e?e:1)&&window.removeEventListener(u.resizeEvent,u.resizeFix,!1),b.removeEventListener(u.touchEvents.touchStart,o,!0),C.removeEventListener(u.touchEvents.touchMove,s,!0),C.removeEventListener(u.touchEvents.touchEnd,a,!0),u.callPlugins("onDestroy")},u.allowLinks=!0,t.preventLinks)for(w=u.container.querySelectorAll("a"),d=0;d<w.length;d++)w[d].addEventListener("click",r,!1);u.swipeNext=function(e){return!e&&t.loop&&u.fixLoop(),u.callPlugins("onSwipeNext"),e=h?u.getTranslate("x"):u.getTranslate("y"),e=Math.floor(Math.abs(e)/Math.floor(p))*p+p,e==m||e>n()&&!t.loop?void 0:(t.loop&&e>=n()+y&&(e=n()+y),h?u.setTransform(-e,0,0):u.setTransform(0,-e,0),u.setTransition(t.speed),u.updateActiveSlide(-e),l(),!0)},u.swipePrev=function(e){return!e&&t.loop&&u.fixLoop(),u.callPlugins("onSwipePrev"),e=h?u.getTranslate("x"):u.getTranslate("y"),e=(Math.ceil(-e/p)-1)*p,0>e&&(e=0),h?u.setTransform(-e,0,0):u.setTransform(0,-e,0),u.setTransition(t.speed),u.updateActiveSlide(-e),l(),!0},u.swipeReset=function(){u.callPlugins("onSwipeReset");var e=h?u.getTranslate("x"):u.getTranslate("y"),i=0>e?Math.round(e/p)*p:0,r=-n();return t.scrollContainer&&(i=0>e?e:0,r=y-p),r>=i&&(i=r),t.scrollContainer&&y>p&&(i=0),"horizontal"==t.mode?u.setTransform(i,0,0):u.setTransform(0,i,0),u.setTransition(t.speed),u.updateActiveSlide(i),t.onSlideReset&&t.onSlideReset(u),!0};var k=!0;u.swipeTo=function(e,i,n){return e=parseInt(e,10),u.callPlugins("onSwipeTo",{index:e,speed:i}),e>f-1||0>e&&!t.loop?void 0:(n=!1===n?!1:n||!0,i=0===i?i:i||t.speed,t.loop&&(e+=t.slidesPerSlide),e>f-t.slidesPerSlide&&(e=f-t.slidesPerSlide),e=-e*p,k&&t.loop&&0<t.initialSlide&&t.initialSlide<f&&(e-=t.initialSlide*p,k=!1),h?u.setTransform(e,0,0):u.setTransform(0,e,0),u.setTransition(i),u.updateActiveSlide(e),n&&l(),!0)},u.updateActiveSlide=function(e){u.previousSlide=u.realIndex,u.realIndex=Math.round(-e/p),t.loop?(u.activeSlide=u.realIndex-t.slidesPerSlide,u.activeSlide>=f-2*t.slidesPerSlide&&(u.activeSlide=f-2*t.slidesPerSlide-u.activeSlide),0>u.activeSlide&&(u.activeSlide=f-2*t.slidesPerSlide+u.activeSlide)):u.activeSlide=u.realIndex,u.realIndex==f&&(u.realIndex=f-1),0>u.realIndex&&(u.realIndex=0),t.pagination&&u.updatePagination()},u.fixLoop=function(){if(u.realIndex<t.slidesPerSlide){var e=f-3*t.slidesPerSlide+u.realIndex;u.swipeTo(e,0,!1)}u.realIndex>f-2*t.slidesPerSlide&&(e=-f+u.realIndex+t.slidesPerSlide,u.swipeTo(e,0,!1))},t.loop&&u.swipeTo(0,0,!1)}},Swiper.prototype={plugins:{},transitionEnd:function(e){var t=this,i=t.wrapper,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(e)for(var r=function(){e(t);for(var o=0;o<n.length;o++)i.removeEventListener(n[o],r,!1)},o=0;o<n.length;o++)i.addEventListener(n[o],r,!1)},isSupportTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},isSupport3D:function(){var e=document.createElement("div");e.id="test3d";var t=!1;if("webkitPerspective"in e.style&&(t=!0),"MozPerspective"in e.style&&(t=!0),"OPerspective"in e.style&&(t=!0),"MsPerspective"in e.style&&(t=!0),"perspective"in e.style&&(t=!0),t&&"webkitPerspective"in e.style){var i=document.createElement("style");i.textContent="@media (-webkit-transform-3d), (transform-3d), (-moz-transform-3d), (-o-transform-3d), (-ms-transform-3d) {#test3d{height:5px}}",document.getElementsByTagName("head")[0].appendChild(i),document.body.appendChild(e),t=5===e.offsetHeight,i.parentNode.removeChild(i),e.parentNode.removeChild(e)}return t},getTranslate:function(e){var t,i=this.wrapper,i=(window.WebKitCSSMatrix?new WebKitCSSMatrix(window.getComputedStyle(i,null).webkitTransform):window.getComputedStyle(i,null).MozTransform||window.getComputedStyle(i,null).OTransform||window.getComputedStyle(i,null).MsTransform||window.getComputedStyle(i,null).msTransform||window.getComputedStyle(i,null).transform||window.getComputedStyle(i,null).getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(",");return"x"==e&&(t=16==i.length?parseInt(i[12],10):parseInt(i[4],10)),"y"==e&&(t=16==i.length?parseInt(i[13],10):parseInt(i[5],10)),t},setTransform:function(e,t,i){var n=this.wrapper.style;e=e||0,t=t||0,i=i||0,this.support.threeD?n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform="translate3d("+e+"px, "+t+"px, "+i+"px)":(n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform="translate("+e+"px, "+t+"px)",this.ie8&&(n.left=e+"px",n.top=t+"px")),this.callPlugins("onSetTransform",{x:e,y:t,z:i})},setTransition:function(e){var t=this.wrapper.style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e/1e3+"s",this.callPlugins("onSetTransition",{duration:e})},ie8:function(){var e=-1;return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1)),-1!=e&&9>e}(),ie10:window.navigator.msPointerEnabled},(window.jQuery||window.Zepto)&&function(e){e.fn.swiper=function(t){return t=new Swiper(e(this).selector,t),e(this).data("swiper",t),t}}(window.jQuery||window.Zepto);/*
 * Swiper 1.9.4 - Mobile Touch Slider
 * http://www.idangero.us/sliders/swiper/
 *
 * Copyright 2012-2013, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under GPL & MIT
 *
 * Updated on: May 23, 2013
*/
var Swiper=function(e,t){function i(){var e=g-b;return t.loop&&(e-=b),t.scrollContainer&&(e=f-b,0>e&&(e=0)),t.slidesPerSlide>c.slides.length&&(e=0),e}function n(e){c.allowLinks||(e.preventDefault?e.preventDefault():e.returnValue=!1)}function r(e){if(c.isTouched||t.onlyExternal||t.preventClassNoSwiping&&e.target&&-1<e.target.className.indexOf("NoSwiping"))return!1;if(c.isTouched=!0,E="touchstart"==e.type,!E||1==e.targetTouches.length){c.callPlugins("onTouchStartBegin"),t.loop&&c.fixLoop(),E||(e.preventDefault?e.preventDefault():e.returnValue=!1);var i=E?e.targetTouches[0].pageX:e.pageX||e.clientX;if(e=E?e.targetTouches[0].pageY:e.pageY||e.clientY,c.touches.startX=c.touches.currentX=i,c.touches.startY=c.touches.currentY=e,c.touches.start=c.touches.current=p?c.touches.startX:c.touches.startY,c.setTransition(0),c.positions.start=c.positions.current=p?c.getTranslate("x"):c.getTranslate("y"),p?c.setTransform(c.positions.start,0,0):c.setTransform(0,c.positions.start,0),c.times.start=(new Date).getTime(),y=void 0,t.onSlideClick||t.onSlideTouch){var n=c.container,r=n.getBoundingClientRect(),o=document.body,i=i-r.left+(n.clientLeft||o.clientLeft||0)-(window.pageXOffset||n.scrollLeft);e=e-r.top-(n.clientTop||o.clientTop||0)-(window.pageYOffset||n.scrollTop),i=p?i:e,e=-Math.round(c.positions.current/f),e=i=Math.floor(i/f)+e,t.loop&&(e=i-t.slidesPerSlide,0>e&&(e=c.slides.length+e-2*t.slidesPerSlide)),c.clickedSlideIndex=e,c.clickedSlide=c.getSlide(i),t.onSlideTouch&&(t.onSlideTouch(c),c.callPlugins("onSlideTouch"))}0<t.moveStartThreshold&&(D=!1),t.onTouchStart&&t.onTouchStart(c),c.callPlugins("onTouchStartEnd")}}function o(e){if(c.isTouched&&!t.onlyExternal&&(!E||"mousemove"!=e.type)){var n=E?e.targetTouches[0].pageX:e.pageX||e.clientX,r=E?e.targetTouches[0].pageY:e.pageY||e.clientY;if("undefined"==typeof y&&p&&(y=!!(y||Math.abs(r-c.touches.startY)>Math.abs(n-c.touches.startX))),"undefined"==typeof y&&!p&&(y=!!(y||Math.abs(r-c.touches.startY)<Math.abs(n-c.touches.startX))),y)c.isTouched=!1;else if(e.assignedToSwiper)c.isTouched=!1;else if(e.assignedToSwiper=!0,t.preventLinks&&(c.allowLinks=!1),t.autoPlay&&c.stopAutoPlay(),!E||1==e.touches.length){if(c.callPlugins("onTouchMoveStart"),e.preventDefault?e.preventDefault():e.returnValue=!1,c.touches.current=p?n:r,c.positions.current=(c.touches.current-c.touches.start)*t.ratio+c.positions.start,t.resistance&&(0<c.positions.current&&(!t.freeMode||t.freeModeFluid)&&(t.loop?(e=1,0<c.positions.current&&(c.positions.current=0)):e=(2*b-c.positions.current)/b/2,c.positions.current=.5>e?b/2:c.positions.current*e,t.nopeek&&(c.positions.current=0)),c.positions.current<-i()&&(!t.freeMode||t.freeModeFluid))){if(t.loop)e=1,n=c.positions.current,r=-i()-b;else{var o=(c.touches.current-c.touches.start)*t.ratio+(i()+c.positions.start);e=(b+o)/b,n=c.positions.current-o*(1-e)/2,r=-i()-b/2}t.nopeek&&(n=c.positions.current-o,r=-i()),c.positions.current=r>n||0>=e?r:n}if(t.followFinger)return t.moveStartThreshold?Math.abs(c.touches.current-c.touches.start)>t.moveStartThreshold||D?(D=!0,p?c.setTransform(c.positions.current,0,0):c.setTransform(0,c.positions.current,0)):c.positions.current=c.positions.start:p?c.setTransform(c.positions.current,0,0):c.setTransform(0,c.positions.current,0),t.freeMode&&c.updateActiveSlide(c.positions.current),t.onSlideClick&&c.clickedSlide&&(c.clickedSlide=!1),t.grabCursor&&(c.container.style.cursor="move",c.container.style.cursor="grabbing",c.container.style.cursor="-moz-grabbin",c.container.style.cursor="-webkit-grabbing"),c.callPlugins("onTouchMoveEnd"),t.onTouchMove&&t.onTouchMove(c),!1}}}function s(){if(y&&c.swipeReset(),!t.onlyExternal&&c.isTouched){c.isTouched=!1,t.grabCursor&&(c.container.style.cursor="move",c.container.style.cursor="grab",c.container.style.cursor="-moz-grab",c.container.style.cursor="-webkit-grab"),t.onSlideClick&&c.clickedSlide&&(t.onSlideClick(c),c.callPlugins("onSlideClick")),!c.positions.current&&0!==c.positions.current&&(c.positions.current=c.positions.start),t.followFinger&&(p?c.setTransform(c.positions.current,0,0):c.setTransform(0,c.positions.current,0)),c.times.end=(new Date).getTime(),c.touches.diff=c.touches.current-c.touches.start,c.touches.abs=Math.abs(c.touches.diff),c.positions.diff=c.positions.current-c.positions.start,c.positions.abs=Math.abs(c.positions.diff);var e=c.positions.diff,i=c.positions.abs;5>i&&300>c.times.end-c.times.start&&0==c.allowLinks&&(c.swipeReset(),t.preventLinks&&(c.allowLinks=!0));var n=g-b;t.scrollContainer&&(n=f-b),0<c.positions.current?c.swipeReset():c.positions.current<-n?c.swipeReset():t.freeMode?(300>c.times.end-c.times.start&&t.freeModeFluid&&(i=c.positions.current+2*c.touches.diff,-1*n>i&&(i=-n),i>0&&(i=0),p?c.setTransform(i,0,0):c.setTransform(0,i,0),c.setTransition(2*(c.times.end-c.times.start)),c.updateActiveSlide(i)),(!t.freeModeFluid||300<=c.times.end-c.times.start)&&c.updateActiveSlide(c.positions.current)):(v=0>e?"toNext":"toPrev","toNext"==v&&300>=c.times.end-c.times.start&&(30>i||!t.shortSwipes?c.swipeReset():c.swipeNext(!0)),"toPrev"==v&&300>=c.times.end-c.times.start&&(30>i||!t.shortSwipes?c.swipeReset():c.swipePrev(!0)),n=f*t.slidesPerGroup,"toNext"==v&&300<c.times.end-c.times.start&&(i>=.5*n?c.swipeNext(!0):c.swipeReset()),"toPrev"==v&&300<c.times.end-c.times.start&&(i>=.5*n?c.swipePrev(!0):c.swipeReset())),t.onTouchEnd&&t.onTouchEnd(c),c.callPlugins("onTouchEnd")}}function a(){c.callPlugins("onSlideChangeStart"),t.onSlideChangeStart&&(t.queueStartCallbacks&&!c._queueStartCallbacks?(c._queueStartCallbacks=!0,t.onSlideChangeStart(c),c.transitionEnd(function(){c._queueStartCallbacks=!1})):t.queueStartCallbacks||t.onSlideChangeStart(c)),t.onSlideChangeEnd&&(t.queueEndCallbacks&&!c.queueEndCallbacks?c.support.transitions?(c._queueEndCallbacks=!0,c.transitionEnd(t.onSlideChangeEnd)):setTimeout(function(){t.onSlideChangeEnd(c)},10):t.queueEndCallbacks||(c.support.transitions?c.transitionEnd(t.onSlideChangeEnd):setTimeout(function(){t.onSlideChangeEnd(c)},10)))}if(window.addEventListener||(window.Element||(Element=function(){}),Element.prototype.addEventListener=HTMLDocument.prototype.addEventListener=addEventListener=function(e,t){this.attachEvent("on"+e,t)},Element.prototype.removeEventListener=HTMLDocument.prototype.removeEventListener=removeEventListener=function(e,t){this.detachEvent("on"+e,t)}),document.body.__defineGetter__&&HTMLElement){var l=HTMLElement.prototype;l.__defineGetter__&&l.__defineGetter__("outerHTML",function(){return(new XMLSerializer).serializeToString(this)})}if(window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(e,t,i){return i.toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},this}),e.nodeType||document.querySelectorAll&&0!=document.querySelectorAll(e).length){var c=this;c.touches={},c.positions={current:0},c.id=(new Date).getTime(),c.container=e.nodeType?e:document.querySelectorAll(e)[0],c.times={},c.isTouched=!1,c.realIndex=0,c.activeSlide=0,c.activeIndex=0,c.previousSlide=null,c.previousIndex=null,c.langDirection=window.getComputedStyle(c.container,null).getPropertyValue("direction"),c.support={touch:c.isSupportTouch(),threeD:c.isSupport3D(),transitions:c.isSupportTransitions()},c.use3D=c.support.threeD,l={mode:"horizontal",ratio:1,speed:300,freeMode:!1,freeModeFluid:!1,slidesPerSlide:1,slidesPerGroup:1,simulateTouch:!0,followFinger:!0,shortSwipes:!0,moveStartThreshold:!1,autoPlay:!1,onlyExternal:!1,createPagination:!0,pagination:!1,resistance:!0,nopeek:!1,scrollContainer:!1,preventLinks:!0,preventClassNoSwiping:!0,initialSlide:0,keyboardControl:!1,mousewheelControl:!1,resizeEvent:"auto",useCSS3Transforms:!0,queueStartCallbacks:!1,queueEndCallbacks:!1,slideElement:"div",slideClass:"swiper-slide",wrapperClass:"swiper-wrapper",paginationClass:"swiper-pagination-switch",paginationActiveClass:"swiper-active-switch"},t=t||{};for(var u in l)u in t||(t[u]=l[u]);c.params=t,t.scrollContainer&&(t.freeMode=!0,t.freeModeFluid=!0);var d=!1;"auto"==t.slidesPerSlide&&(d=!0,t.slidesPerSlide=1);var h,p,f,m,g,v,y,b;for(u=c.container.childNodes.length-1;u>=0;u--)if(c.container.childNodes[u].className)for(var l=c.container.childNodes[u].className.split(" "),w=0;w<l.length;w++)l[w]===t.wrapperClass&&(h=c.container.childNodes[u]);c.wrapper=h,p="horizontal"==t.mode,c.touchEvents={touchStart:c.support.touch||!t.simulateTouch?"touchstart":c.ie10?"MSPointerDown":"mousedown",touchMove:c.support.touch||!t.simulateTouch?"touchmove":c.ie10?"MSPointerMove":"mousemove",touchEnd:c.support.touch||!t.simulateTouch?"touchend":c.ie10?"MSPointerUp":"mouseup"},c._extendSwiperSlide=function(e){return e.append=function(){return c.wrapper.appendChild(e),c.reInit(),e},e.prepend=function(){return c.wrapper.insertBefore(e,c.wrapper.firstChild),c.reInit(),e},e.insertAfter=function(t){return"undefined"==typeof t?!1:(c.wrapper.insertBefore(e,c.slides[t+1]),c.reInit(),e)},e.clone=function(){return c._extendSwiperSlide(e.cloneNode(!0))},e.remove=function(){c.wrapper.removeChild(e),c.reInit()},e.html=function(t){return"undefined"==typeof t?e.innerHTML:(e.innerHTML=t,e)},e.index=function(){for(var t,i=c.slides.length-1;i>=0;i--)e==c.slides[i]&&(t=i);return t},e.isActive=function(){return e.index()==c.activeIndex?!0:!1},e.swiperSlideDataStorage||(e.swiperSlideDataStorage={}),e.getData=function(t){return e.swiperSlideDataStorage[t]},e.setData=function(t,i){return e.swiperSlideDataStorage[t]=i,e},e.data=function(t,i){return i?(e.setAttribute("data-"+t,i),e):e.getAttribute("data-"+t)},e},c._calcSlides=function(){var e=c.slides?c.slides.length:!1;c.slides=[];for(var i=0;i<c.wrapper.childNodes.length;i++)if(c.wrapper.childNodes[i].className)for(var n=c.wrapper.childNodes[i].className.split(" "),r=0;r<n.length;r++)n[r]===t.slideClass&&c.slides.push(c.wrapper.childNodes[i]);for(i=c.slides.length-1;i>=0;i--)c._extendSwiperSlide(c.slides[i]);e&&e!=c.slides.length&&c.createPagination&&(c.createPagination(),c.callPlugins("numberOfSlidesChanged"))},c._calcSlides(),c.createSlide=function(e,i,n){return i=i||c.params.slideClass,n=n||t.slideElement,n=document.createElement(n),n.innerHTML=e||"",n.className=i,c._extendSwiperSlide(n)},c.appendSlide=function(e,t,i){return e?e.nodeType?c._extendSwiperSlide(e).append():c.createSlide(e,t,i).append():void 0},c.prependSlide=function(e,t,i){return e?e.nodeType?c._extendSwiperSlide(e).prepend():c.createSlide(e,t,i).prepend():void 0},c.insertSlideAfter=function(e,t,i,n){return e?t.nodeType?c._extendSwiperSlide(t).insertAfter(e):c.createSlide(t,i,n).insertAfter(e):!1},c.removeSlide=function(e){return c.slides[e]?(c.slides[e].remove(),!0):!1},c.removeLastSlide=function(){return 0<c.slides.length?(c.slides[c.slides.length-1].remove(),!0):!1},c.removeAllSlides=function(){for(var e=c.slides.length-1;e>=0;e--)c.slides[e].remove()},c.getSlide=function(e){return c.slides[e]},c.getLastSlide=function(){return c.slides[c.slides.length-1]},c.getFirstSlide=function(){return c.slides[0]},c.currentSlide=function(){return c.slides[c.activeIndex]};var x,_=[];for(x in c.plugins)t[x]&&(u=c.plugins[x](c,t[x]))&&_.push(u);if(c.callPlugins=function(e,t){t||(t={});for(var i=0;i<_.length;i++)e in _[i]&&_[i][e](t)},c.ie10&&!t.onlyExternal&&(p?c.wrapper.classList.add("swiper-wp8-horizontal"):c.wrapper.classList.add("swiper-wp8-vertical")),t.loop&&(m=c.slides.length,0!=c.slides.length)){for(u=x="",l=0;l<t.slidesPerSlide;l++)x+=c.slides[l].outerHTML;for(l=m-t.slidesPerSlide;m>l;l++)u+=c.slides[l].outerHTML;h.innerHTML=u+h.innerHTML+x,c._calcSlides(),c.callPlugins("onCreateLoop")}var $=!1;c.reInit=function(){c.init(!0)},c.init=function(e){var i=window.getComputedStyle(c.container,null).getPropertyValue("width"),n=window.getComputedStyle(c.container,null).getPropertyValue("height"),r=parseInt(i,10),o=parseInt(n,10);if((isNaN(r)||0<i.indexOf("%"))&&(r=c.container.offsetWidth-parseInt(window.getComputedStyle(c.container,null).getPropertyValue("padding-left"),10)-parseInt(window.getComputedStyle(c.container,null).getPropertyValue("padding-right"),10)),(isNaN(o)||0<n.indexOf("%"))&&(o=c.container.offsetHeight-parseInt(window.getComputedStyle(c.container,null).getPropertyValue("padding-top"),10)-parseInt(window.getComputedStyle(c.container,null).getPropertyValue("padding-bottom"),10)),e||c.width!=r||c.height!=o){for((e||$)&&(c._calcSlides(),t.pagination&&c.updatePagination()),c.width=r,c.height=o,i=p?1:t.slidesPerSlide,e=p?t.slidesPerSlide:1,m=c.slides.length,t.scrollContainer?(p||(h.style.width="",h.style.height="",c.slides[0].style.width="",c.slides[0].style.height=""),e=c.slides[0].offsetWidth,i=c.slides[0].offsetHeight,b=p?c.width:c.height,f=p?e:i,n=e,r=i):(d?(e=c.slides[0].offsetWidth,i=c.slides[0].offsetHeight):(e=c.width/e,i=c.height/i),b=p?c.width:c.height,f=p?e:i,n=p?m*e:c.width,r=p?c.height:m*i,d&&(t.slidesPerSlide=Math.round(b/f))),g=p?n:r,o=0;o<c.slides.length;o++){var s=c.slides[o];d||(s.style.width=e+"px",s.style.height=i+"px"),t.onSlideInitialize&&t.onSlideInitialize(c,s)}h.style.width=n+"px",h.style.height=r+"px",0<t.initialSlide&&t.initialSlide<m&&!$&&(c.realIndex=c.activeIndex=t.initialSlide,t.loop&&(c.activeIndex=c.realIndex-t.slidesPerSlide),c.activeSlide=c.activeIndex,p?(c.positions.current=-t.initialSlide*e,c.setTransform(c.positions.current,0,0)):(c.positions.current=-t.initialSlide*i,c.setTransform(0,c.positions.current,0))),$?c.callPlugins("onInit"):c.callPlugins("onFirstInit"),$=!0}},c.init(),c.updatePagination=function(){if(!(2>c.slides.length)){var e=document.querySelectorAll(t.pagination+" ."+t.paginationActiveClass);if(e){for(var i=0;i<e.length;i++)e.item(i).className=t.paginationClass;for(var e=document.querySelectorAll(t.pagination+" ."+t.paginationClass).length,n=t.loop?c.realIndex-t.slidesPerSlide:c.realIndex,r=n+(t.slidesPerSlide-1),i=n;r>=i;i++){var o=i;o>=e&&(o-=e),0>o&&(o=e+o),m>o&&(document.querySelectorAll(t.pagination+" ."+t.paginationClass).item(o).className=t.paginationClass+" "+t.paginationActiveClass),i==n&&(document.querySelectorAll(t.pagination+" ."+t.paginationClass).item(o).className+=" swiper-activeslide-switch")}}}},c.createPagination=function(){if(t.pagination&&t.createPagination){for(var e="",i=c.slides.length,i=t.loop?i-2*t.slidesPerSlide:i,n=0;i>n;n++)e+='<span class="'+t.paginationClass+'"></span>';document.querySelectorAll(t.pagination)[0].innerHTML=e,c.updatePagination(),c.callPlugins("onCreatePagination")}},c.createPagination(),c.resizeEvent="auto"===t.resizeEvent?"onorientationchange"in window?"orientationchange":"resize":t.resizeEvent,c.resizeFix=function(){if(c.callPlugins("beforeResizeFix"),c.init(),t.scrollContainer){if((p?c.getTranslate("x"):c.getTranslate("y"))<-i()){var e=p?-i():0,n=p?0:-i();c.setTransition(0),c.setTransform(e,n,0)}}else c.swipeTo(c.activeIndex,0,!1);c.callPlugins("afterResizeFix")},t.disableAutoResize||window.addEventListener(c.resizeEvent,c.resizeFix,!1);var C;if(c.startAutoPlay=function(){t.autoPlay&&!t.loop?C=setInterval(function(){var e=c.realIndex+1;e==m&&(e=0),e==m-t.slidesPerSlide+1&&(e=0),c.swipeTo(e)},t.autoPlay):t.autoPlay&&t.loop&&(C=setInterval(function(){c.fixLoop(),c.swipeNext(!0)},t.autoPlay)),c.callPlugins("onAutoPlayStart")},c.stopAutoPlay=function(){C&&clearInterval(C),c.callPlugins("onAutoPlayStop")},t.autoPlay&&c.startAutoPlay(),c.ie10?(h.addEventListener(c.touchEvents.touchStart,r,!1),document.addEventListener(c.touchEvents.touchMove,o,!1),document.addEventListener(c.touchEvents.touchEnd,s,!1)):(c.support.touch&&(h.addEventListener("touchstart",r,!1),h.addEventListener("touchmove",o,!1),h.addEventListener("touchend",s,!1)),t.simulateTouch&&(h.addEventListener("mousedown",r,!1),document.addEventListener("mousemove",o,!1),document.addEventListener("mouseup",s,!1))),c.destroy=function(e){(!1===e?e:1)&&window.removeEventListener(c.resizeEvent,c.resizeFix,!1),c.ie10?(h.removeEventListener(c.touchEvents.touchStart,r,!1),document.removeEventListener(c.touchEvents.touchMove,o,!1),document.removeEventListener(c.touchEvents.touchEnd,s,!1)):(c.support.touch&&(h.removeEventListener("touchstart",r,!1),h.removeEventListener("touchmove",o,!1),h.removeEventListener("touchend",s,!1)),h.removeEventListener("mousedown",r,!1),document.removeEventListener("mousemove",o,!1),document.removeEventListener("mouseup",s,!1)),t.keyboardControl&&document.removeEventListener("keydown",k,!1),t.mousewheelControl&&c._wheelEvent&&c.container.removeEventListener(c._wheelEvent,S,!1),t.autoPlay&&c.stopAutoPlay(),c.callPlugins("onDestroy")},c.allowLinks=!0,t.preventLinks)for(x=c.container.querySelectorAll("a"),u=0;u<x.length;u++)x[u].addEventListener("click",n,!1);if(t.keyboardControl){var k=function(e){var t=e.keyCode||e.charCode;p?((37==t||39==t)&&e.preventDefault(),39==t&&c.swipeNext(),37==t&&c.swipePrev()):((38==t||40==t)&&e.preventDefault(),40==t&&c.swipeNext(),38==t&&c.swipePrev())};document.addEventListener("keydown",k,!1)}if(c._wheelEvent=!1,t.mousewheelControl){void 0!==document.onmousewheel&&(c._wheelEvent="mousewheel");try{WheelEvent("wheel"),c._wheelEvent="wheel"}catch(T){}c._wheelEvent||(c._wheelEvent="DOMMouseScroll");var S=function(e){var n,r=c._wheelEvent;return e.detail?n=-e.detail:"mousewheel"==r?n=e.wheelDelta:"DOMMouseScroll"==r?n=-e.detail:"wheel"==r&&(n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY),t.freeMode?(p?c.getTranslate("x"):c.getTranslate("y"),p?(r=c.getTranslate("x")+n,n=c.getTranslate("y"),r>0&&(r=0),r<-i()&&(r=-i())):(r=c.getTranslate("x"),n=c.getTranslate("y")+n,n>0&&(n=0),n<-i()&&(n=-i())),c.setTransition(0),c.setTransform(r,n,0)):0>n?c.swipeNext():c.swipePrev(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1};c._wheelEvent&&c.container.addEventListener(c._wheelEvent,S,!1)}t.grabCursor&&(c.container.style.cursor="move",c.container.style.cursor="grab",c.container.style.cursor="-moz-grab",c.container.style.cursor="-webkit-grab");var D,E=!1;c.swipeNext=function(e){!e&&t.loop&&c.fixLoop(),!e&&t.autoPlay&&c.stopAutoPlay(),c.callPlugins("onSwipeNext"),e=p?c.getTranslate("x"):c.getTranslate("y");var n=f*t.slidesPerGroup,n=Math.floor(Math.abs(e)/Math.floor(n))*n+n;return e=Math.abs(e),n==g||e>=i()&&!t.loop?void 0:(n>i()&&!t.loop&&(n=i()),t.loop&&n>=i()+b&&(n=i()+b),p?c.setTransform(-n,0,0):c.setTransform(0,-n,0),c.setTransition(t.speed),c.updateActiveSlide(-n),a(),!0)},c.swipePrev=function(e){!e&&t.loop&&c.fixLoop(),!e&&t.autoPlay&&c.stopAutoPlay(),c.callPlugins("onSwipePrev"),e=Math.ceil(p?c.getTranslate("x"):c.getTranslate("y"));var i=f*t.slidesPerGroup;return e=(Math.ceil(-e/i)-1)*i,0>e&&(e=0),p?c.setTransform(-e,0,0):c.setTransform(0,-e,0),c.setTransition(t.speed),c.updateActiveSlide(-e),a(),!0},c.swipeReset=function(){c.callPlugins("onSwipeReset");var e=p?c.getTranslate("x"):c.getTranslate("y"),n=f*t.slidesPerGroup,n=0>e?Math.round(e/n)*n:0,r=-i();return t.scrollContainer&&(n=0>e?e:0,r=b-f),r>=n&&(n=r),t.scrollContainer&&b>f&&(n=0),"horizontal"==t.mode?c.setTransform(n,0,0):c.setTransform(0,n,0),c.setTransition(t.speed),c.updateActiveSlide(n),t.onSlideReset&&t.onSlideReset(c),!0};var P=!0;c.swipeTo=function(e,i,n){return e=parseInt(e,10),c.callPlugins("onSwipeTo",{index:e,speed:i}),e>m-1||0>e&&!t.loop?void 0:(n=!1===n?!1:n||!0,i=0===i?i:i||t.speed,t.loop&&(e+=t.slidesPerSlide),e>m-t.slidesPerSlide&&(e=m-t.slidesPerSlide),e=-e*f,P&&t.loop&&0<t.initialSlide&&t.initialSlide<m&&(e-=t.initialSlide*f,P=!1),p?c.setTransform(e,0,0):c.setTransform(0,e,0),c.setTransition(i),c.updateActiveSlide(e),n&&a(),!0)},c._queueStartCallbacks=!1,c._queueEndCallbacks=!1,c.updateActiveSlide=function(e){c.previousIndex=c.previousSlide=c.realIndex,c.realIndex=Math.round(-e/f),t.loop?(c.activeIndex=c.realIndex-t.slidesPerSlide,c.activeIndex>=m-2*t.slidesPerSlide&&(c.activeIndex=m-2*t.slidesPerSlide-c.activeIndex),0>c.activeIndex&&(c.activeIndex=m-2*t.slidesPerSlide+c.activeIndex)):c.activeIndex=c.realIndex,c.realIndex==m&&(c.realIndex=m-1),0>c.realIndex&&(c.realIndex=0),c.activeSlide=c.activeIndex,t.pagination&&c.updatePagination()},c.fixLoop=function(){if(c.realIndex<t.slidesPerSlide){var e=m-3*t.slidesPerSlide+c.realIndex;c.swipeTo(e,0,!1)}c.realIndex>m-2*t.slidesPerSlide&&(e=-m+c.realIndex+t.slidesPerSlide,c.swipeTo(e,0,!1))},t.loop&&c.swipeTo(0,0,!1)}};Swiper.prototype={plugins:{},transitionEnd:function(e,t){var i=this,n=i.wrapper,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];if(e)for(var o=function(){if(e(i),i._queueEndCallbacks=!1,!t)for(var s=0;s<r.length;s++)n.removeEventListener(r[s],o,!1)},s=0;s<r.length;s++)n.addEventListener(r[s],o,!1)},isSupportTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},isSupportTransitions:function(){var e=document.createElement("div").style;return"transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"MsTransition"in e||"OTransition"in e},isSupport3D:function(){var e=document.createElement("div");e.id="test3d";var t=!1;if("webkitPerspective"in e.style&&(t=!0),"MozPerspective"in e.style&&(t=!0),"OPerspective"in e.style&&(t=!0),"MsPerspective"in e.style&&(t=!0),"perspective"in e.style&&(t=!0),t&&"webkitPerspective"in e.style){var i=document.createElement("style");i.textContent="@media (-webkit-transform-3d), (transform-3d), (-moz-transform-3d), (-o-transform-3d), (-ms-transform-3d) {#test3d{height:5px}}",document.getElementsByTagName("head")[0].appendChild(i),document.body.appendChild(e),t=5===e.offsetHeight,i.parentNode.removeChild(i),e.parentNode.removeChild(e)}return t},getTranslate:function(e){var t,i,n=this.wrapper,r=window.WebKitCSSMatrix?new WebKitCSSMatrix(window.getComputedStyle(n,null).webkitTransform):window.getComputedStyle(n,null).MozTransform||window.getComputedStyle(n,null).OTransform||window.getComputedStyle(n,null).MsTransform||window.getComputedStyle(n,null).msTransform||window.getComputedStyle(n,null).transform||window.getComputedStyle(n,null).getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");return t=r.toString().split(","),this.params.useCSS3Transforms?("x"==e&&(i=16==t.length?parseFloat(t[12]):window.WebKitCSSMatrix?r.m41:parseFloat(t[4])),"y"==e&&(i=16==t.length?parseFloat(t[13]):window.WebKitCSSMatrix?r.m42:parseFloat(t[5]))):("x"==e&&(i=parseFloat(n.style.left,10)||0),"y"==e&&(i=parseFloat(n.style.top,10)||0)),i},setTransform:function(e,t,i){var n=this.wrapper.style;e=e||0,t=t||0,i=i||0,this.params.useCSS3Transforms?this.support.threeD?n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform="translate3d("+e+"px, "+t+"px, "+i+"px)":(n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform="translate("+e+"px, "+t+"px)",this.ie8&&(n.left=e+"px",n.top=t+"px")):(n.left=e+"px",n.top=t+"px"),this.callPlugins("onSetTransform",{x:e,y:t,z:i})},setTransition:function(e){var t=this.wrapper.style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e/1e3+"s",this.callPlugins("onSetTransition",{duration:e})},ie8:function(){var e=-1;return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1)),-1!=e&&9>e}(),ie10:window.navigator.msPointerEnabled},(window.jQuery||window.Zepto)&&function(e){e.fn.swiper=function(t){return t=new Swiper(e(this)[0],t),e(this).data("swiper",t),t}}(window.jQuery||window.Zepto);/*!
 * jQuery Swapsie Plugin
 * Examples and documentation at: http://biostall.com/swap-and-re-order-divs-smoothly-using-jquery-swapsie-plugin
 * Copyright (c) 2010 Steve Marks - info@biostall.com
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 * Version: 1 (09-JULY-2010)
 */
var swapping=!1;!function(e){e.fn.extend({swap:function(t){var i={target:"",speed:1e3,opacity:"1",callback:function(){}},t=e.extend(i,t);return this.each(function(){var i=e(this);if(""!=t.target&&!swapping){swapping=!0;var n=i.css("position"),r=t.target.css("position");"relative"!=n&&"absolute"!=n&&i.css("position","relative"),"relative"!=r&&"absolute"!=r&&t.target.css("position","relative");var o=i.offset(),s=o.top,a=t.target.offset(),l=a.top,c="-",u="-";if(l>=s)var c="+",d=l-s;else var d=s-l;u="-"==c?"+":"-";var o=i.offset(),h=o.left,a=t.target.offset(),p=a.left,f="-",m="-";if(p>=h)var f="+",g=p-h;else var g=h-p;m="-"==f?"+":"-",i.animate({opacity:t.opacity},100,function(){i.animate({top:c+"="+d+"px",left:f+"="+g+"px"},t.speed,function(){i.animate({opacity:"1"},100)})}),t.target.animate({opacity:t.opacity},100,function(){t.target.animate({top:u+"="+d+"px",left:m+"="+g+"px"},t.speed,function(){t.target.animate({opacity:"1"},100,function(){swapping=!1,t.callback.call(this)})})})}})}})}(jQuery),function(){"use strict";function e(e){function t(t,n){var o,m,g=t==window,v=n&&void 0!==n.message?n.message:void 0;if(n=e.extend({},e.blockUI.defaults,n||{}),!n.ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(n.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,n.overlayCSS||{}),o=e.extend({},e.blockUI.defaults.css,n.css||{}),n.onOverlayClick&&(n.overlayCSS.cursor="pointer"),m=e.extend({},e.blockUI.defaults.themedCSS,n.themedCSS||{}),v=void 0===v?n.message:v,g&&p&&i(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var y=v.jquery?v[0]:v,b={};e(t).data("blockUI.history",b),b.el=y,b.parent=y.parentNode,b.display=y.style.display,b.position=y.style.position,b.parent&&b.parent.removeChild(y)}e(t).data("blockUI.onUnblock",n.onUnblock);var w,x,_,$,C=n.baseZ;w=u||n.forceIframe?e('<iframe class="blockUI" style="z-index:'+C++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+n.iframeSrc+'"></iframe>'):e('<div class="blockUI" style="display:none"></div>'),x=n.theme?e('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+C++ +';display:none"></div>'):e('<div class="blockUI blockOverlay" style="z-index:'+C++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),n.theme&&g?($='<div class="blockUI '+n.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(C+10)+';display:none;position:fixed">',n.title&&($+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),$+='<div class="ui-widget-content ui-dialog-content"></div>',$+="</div>"):n.theme?($='<div class="blockUI '+n.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(C+10)+';display:none;position:absolute">',n.title&&($+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),$+='<div class="ui-widget-content ui-dialog-content"></div>',$+="</div>"):$=g?'<div class="blockUI '+n.blockMsgClass+' blockPage" style="z-index:'+(C+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+n.blockMsgClass+' blockElement" style="z-index:'+(C+10)+';display:none;position:absolute"></div>',_=e($),v&&(n.theme?(_.css(m),_.addClass("ui-widget-content")):_.css(o)),n.theme||x.css(n.overlayCSS),x.css("position",g?"fixed":"absolute"),(u||n.forceIframe)&&w.css("opacity",0);var k=[w,x,_],T=g?e("body"):e(t);e.each(k,function(){this.appendTo(T)}),n.theme&&n.draggable&&e.fn.draggable&&_.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var S=h&&(!e.support.boxModel||e("object,embed",g?null:t).length>0);if(d||S){if(g&&n.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(d||!e.support.boxModel)&&!g)var D=l(t,"borderTopWidth"),E=l(t,"borderLeftWidth"),P=D?"(0 - "+D+")":0,M=E?"(0 - "+E+")":0;e.each(k,function(e,t){var i=t[0].style;if(i.position="absolute",2>e)g?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+n.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),g?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),M&&i.setExpression("left",M),P&&i.setExpression("top",P);else if(n.centerY)g&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!n.centerY&&g){var r=n.css&&n.css.top?parseInt(n.css.top,10):0,o="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"';i.setExpression("top",o)}})}if(v&&(n.theme?_.find(".ui-widget-content").append(v):_.append(v),(v.jquery||v.nodeType)&&e(v).show()),(u||n.forceIframe)&&n.showOverlay&&w.show(),n.fadeIn){var I=n.onBlock?n.onBlock:c,A=n.showOverlay&&!v?I:c,L=v?I:c;n.showOverlay&&x._fadeIn(n.fadeIn,A),v&&_._fadeIn(n.fadeIn,L)}else n.showOverlay&&x.show(),v&&_.show(),n.onBlock&&n.onBlock();if(r(1,t,n),g?(p=_[0],f=e(":input:enabled:visible",p),n.focusInput&&setTimeout(s,20)):a(_[0],n.centerX,n.centerY),n.timeout){var O=setTimeout(function(){g?e.unblockUI(n):e(t).unblock(n)},n.timeout);e(t).data("blockUI.timeout",O)}}}function i(t,i){var o=t==window,s=e(t),a=s.data("blockUI.history"),l=s.data("blockUI.timeout");l&&(clearTimeout(l),s.removeData("blockUI.timeout")),i=e.extend({},e.blockUI.defaults,i||{}),r(0,t,i),null===i.onUnblock&&(i.onUnblock=s.data("blockUI.onUnblock"),s.removeData("blockUI.onUnblock"));var c;c=o?e("body").children().filter(".blockUI").add("body > .blockUI"):s.find(">.blockUI"),i.cursorReset&&(c.length>1&&(c[1].style.cursor=i.cursorReset),c.length>2&&(c[2].style.cursor=i.cursorReset)),o&&(p=f=null),i.fadeOut?(c.fadeOut(i.fadeOut),setTimeout(function(){n(c,a,i,t)},i.fadeOut)):n(c,a,i,t)}function n(t,i,n,r){t.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.parent&&i.parent.appendChild(i.el),e(r).removeData("blockUI.history")),"function"==typeof n.onUnblock&&n.onUnblock(r,n);var o=e(document.body),s=o.width(),a=o[0].style.width;o.width(s-1).width(s),o[0].style.width=a}function r(t,i,n){var r=i==window,s=e(i);if((t||(!r||p)&&(r||s.data("blockUI.isBlocked")))&&(s.data("blockUI.isBlocked",t),n.bindEvents&&(!t||n.showOverlay))){var a="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(a,n,o):e(document).unbind(a,o)}}function o(t){if(t.keyCode&&9==t.keyCode&&p&&t.data.constrainTabKey){var i=f,n=!t.shiftKey&&t.target===i[i.length-1],r=t.shiftKey&&t.target===i[0];if(n||r)return setTimeout(function(){s(r)},10),!1}var o=t.data,a=e(t.target);return a.hasClass("blockOverlay")&&o.onOverlayClick&&o.onOverlayClick(),a.parents("div."+o.blockMsgClass).length>0?!0:0===a.parents().children().filter("div.blockUI").length}function s(e){if(f){var t=f[e===!0?f.length-1:0];t&&t.focus()}}function a(e,t,i){var n=e.parentNode,r=e.style,o=(n.offsetWidth-e.offsetWidth)/2-l(n,"borderLeftWidth"),s=(n.offsetHeight-e.offsetHeight)/2-l(n,"borderTopWidth");t&&(r.left=o>0?o+"px":"0"),i&&(r.top=s>0?s+"px":"0")}function l(t,i){return parseInt(e.css(t,i),10)||0}if(/^1\.(0|1|2)/.test(e.fn.jquery))return alert("blockUI requires jQuery v1.3 or later!  You are using v"+e.fn.jquery),void 0;e.fn._fadeIn=e.fn.fadeIn;var c=e.noop||function(){},u=/MSIE/.test(navigator.userAgent),d=/MSIE 6.0/.test(navigator.userAgent);document.documentMode||0;var h=e.isFunction(document.createElement("div").style.setExpression);e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){i(window,e)},e.growlUI=function(t,i,n,r){var o=e('<div class="growlUI"></div>');t&&o.append("<h1>"+t+"</h1>"),i&&o.append("<h2>"+i+"</h2>"),void 0===n&&(n=3e3),e.blockUI({message:o,fadeIn:700,fadeOut:1e3,centerY:!1,timeout:n,showOverlay:!1,onUnblock:r,css:e.blockUI.defaults.growlCSS})},e.fn.block=function(i){var n=e.extend({},e.blockUI.defaults,i||{});return this.each(function(){var t=e(this);n.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative"),this.style.zoom=1,t(this,i)})},e.fn.unblock=function(e){return this.each(function(){i(this,e)})},e.blockUI.version=2.54,e.blockUI.defaults={message:'<img src="assets/img/preloader.gif"/>',title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#FFF",border:"0px",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#fff",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,f=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(),function(e){"use strict";function t(e){e.condition()||("function"==typeof e.exit&&e.exit(),e.is_active=!1)}function i(e){e.condition()&&("function"==typeof e.first_enter&&(e.first_enter(),delete e.first_enter),"function"==typeof e.enter&&e.enter(),e.is_active=!0)}function n(e){e.is_active?t(e):i(e)}function r(){var n=e.grep(o,function(e){return e.is_active}),r=e.grep(o,function(e){return!e.is_active});e.each(n,function(e,i){t(i)}),e.each(r,function(e,t){i(t)})}var o=[];e.breakpoint=function(t,i){i=e.extend(!0,{},e.breakpoint.defaults,i),o.push(t),1===o.length&&e(window).on("resize orientationchange",function(){r()}),n(t)},e.breakpoint.breakpoints=o,e.breakpoint.defaults={}}(jQuery),/*!
 * jQuery Cookie Plugin v1.3
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
function(e,t,i){function n(e){return e}function r(e){return decodeURIComponent(e.replace(o," "))}var o=/\+/g,s=e.cookie=function(o,a,l){if(a!==i){if(l=e.extend({},s.defaults,l),null===a&&(l.expires=-1),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setDate(u.getDate()+c)}return a=s.json?JSON.stringify(a):String(a),t.cookie=[encodeURIComponent(o),"=",s.raw?a:encodeURIComponent(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=s.raw?n:r,h=t.cookie.split("; "),p=0,f=h.length;f>p;p++){var m=h[p].split("=");if(d(m.shift())===o){var g=d(m.join("="));return s.json?JSON.parse(g):g}}return null};s.defaults={},e.removeCookie=function(t,i){return null!==e.cookie(t)?(e.cookie(t,null,i),!0):!1}}(jQuery,document),function(e){"use strict";function t(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(i))}function i(t){var i=t.target,n=e(i);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(0===r.length)return;i=r[0]}var o=this;if(o.clk=i,"image"==i.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var s=n.offset();o.clk_x=t.pageX-s.left,o.clk_y=t.pageY-s.top}else o.clk_x=t.pageX-i.offsetLeft,o.clk_y=t.pageY-i.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function n(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var r={};r.fileapi=void 0!==e("<input type='file'/>").get(0).files,r.formdata=void 0!==window.FormData;var o=!!e.fn.prop;e.fn.attr2=function(){if(!o)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function i(t){var i,n,r=e.param(t).split("&"),o=r.length,s=[];for(i=0;o>i;i++)r[i]=r[i].replace(/\+/g," "),n=r[i].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function s(n){for(var r=new FormData,o=0;o<n.length;o++)r.append(n[o].name,n[o].value);if(t.extraData){var s=i(t.extraData);for(o=0;o<s.length;o++)s[o]&&r.append(s[o][0],s[o][1])}t.data=null;var a=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(a.xhr=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var i=0,n=e.loaded||e.position,r=e.total;e.lengthComputable&&(i=Math.ceil(100*(n/r))),t.uploadProgress(e,n,r,i)},!1),e}),a.data=null;var c=a.beforeSend;return a.beforeSend=function(e,t){t.data=r,c&&c.call(this,e,t)},e.ajax(a)}function a(i){function r(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(i){n("cannot get iframe.contentWindow document: "+i)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(i){n("cannot get iframe.contentDocument: "+i),t=e.document}return t}function s(){function t(){try{var e=r(v).readyState;n("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(i){n("Server abort: ",i," (",i.name,")"),a(T),_&&clearTimeout(_),_=void 0}}var i=d.attr2("target"),o=d.attr2("action");$.setAttribute("target",f),l||$.setAttribute("method","POST"),o!=h.url&&$.setAttribute("action",h.url),h.skipEncodingOverride||l&&!/post/i.test(l)||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(_=setTimeout(function(){x=!0,a(k)},h.timeout));var s=[];try{if(h.extraData)for(var c in h.extraData)h.extraData.hasOwnProperty(c)&&(e.isPlainObject(h.extraData[c])&&h.extraData[c].hasOwnProperty("name")&&h.extraData[c].hasOwnProperty("value")?s.push(e('<input type="hidden" name="'+h.extraData[c].name+'">').val(h.extraData[c].value).appendTo($)[0]):s.push(e('<input type="hidden" name="'+c+'">').val(h.extraData[c]).appendTo($)[0]));h.iframeTarget||(g.appendTo("body"),v.attachEvent?v.attachEvent("onload",a):v.addEventListener("load",a,!1)),setTimeout(t,15);try{$.submit()}catch(u){var p=document.createElement("form").submit;p.apply($)}}finally{$.setAttribute("action",o),i?$.setAttribute("target",i):d.removeAttr("target"),e(s).remove()}}function a(t){if(!y.aborted&&!M){if(P=r(v),P||(n("cannot access response document"),t=T),t===k&&y)return y.abort("timeout"),C.reject(y,"timeout"),void 0;if(t==T&&y)return y.abort("server abort"),C.reject(y,"error","server abort"),void 0;if(P&&P.location.href!=h.iframeSrc||x){v.detachEvent?v.detachEvent("onload",a):v.removeEventListener("load",a,!1);var i,o="success";try{if(x)throw"timeout";var s="xml"==h.dataType||P.XMLDocument||e.isXMLDoc(P);if(n("isXml="+s),!s&&window.opera&&(null===P.body||!P.body.innerHTML)&&--I)return n("requeing onLoad callback, DOM not available"),setTimeout(a,250),void 0;var l=P.body?P.body:P.documentElement;y.responseText=l?l.innerHTML:null,y.responseXML=P.XMLDocument?P.XMLDocument:P,s&&(h.dataType="xml"),y.getResponseHeader=function(e){var t={"content-type":h.dataType};return t[e]},l&&(y.status=Number(l.getAttribute("status"))||y.status,y.statusText=l.getAttribute("statusText")||y.statusText);var c=(h.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||h.textarea){var d=P.getElementsByTagName("textarea")[0];if(d)y.responseText=d.value,y.status=Number(d.getAttribute("status"))||y.status,y.statusText=d.getAttribute("statusText")||y.statusText;else if(u){var f=P.getElementsByTagName("pre")[0],m=P.getElementsByTagName("body")[0];f?y.responseText=f.textContent?f.textContent:f.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!y.responseXML&&y.responseText&&(y.responseXML=A(y.responseText));try{E=O(y,c,h)}catch(b){o="parsererror",y.error=i=b||o}}catch(b){n("error caught: ",b),o="error",y.error=i=b||o}y.aborted&&(n("upload aborted"),o=null),y.status&&(o=y.status>=200&&y.status<300||304===y.status?"success":"error"),"success"===o?(h.success&&h.success.call(h.context,E,"success",y),C.resolve(y.responseText,"success",y),p&&e.event.trigger("ajaxSuccess",[y,h])):o&&(void 0===i&&(i=y.statusText),h.error&&h.error.call(h.context,y,o,i),C.reject(y,"error",i),p&&e.event.trigger("ajaxError",[y,h,i])),p&&e.event.trigger("ajaxComplete",[y,h]),p&&!--e.active&&e.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,y,o),M=!0,h.timeout&&clearTimeout(_),setTimeout(function(){h.iframeTarget||g.remove(),y.responseXML=null},100)}}}var c,u,h,p,f,g,v,y,b,w,x,_,$=d[0],C=e.Deferred();if(i)for(u=0;u<m.length;u++)c=e(m[u]),o?c.prop("disabled",!1):c.removeAttr("disabled");if(h=e.extend(!0,{},e.ajaxSettings,t),h.context=h.context||h,f="jqFormIO"+(new Date).getTime(),h.iframeTarget?(g=e(h.iframeTarget),w=g.attr2("name"),w?f=w:g.attr2("name",f)):(g=e('<iframe name="'+f+'" src="'+h.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i="timeout"===t?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(r){}g.attr("src",h.iframeSrc),y.error=i,h.error&&h.error.call(h.context,y,i,t),p&&e.event.trigger("ajaxError",[y,h,i]),h.complete&&h.complete.call(h.context,y,i)}},p=h.global,p&&0===e.active++&&e.event.trigger("ajaxStart"),p&&e.event.trigger("ajaxSend",[y,h]),h.beforeSend&&h.beforeSend.call(h.context,y,h)===!1)return h.global&&e.active--,C.reject(),C;if(y.aborted)return C.reject(),C;b=$.clk,b&&(w=b.name,w&&!b.disabled&&(h.extraData=h.extraData||{},h.extraData[w]=b.value,"image"==b.type&&(h.extraData[w+".x"]=$.clk_x,h.extraData[w+".y"]=$.clk_y)));var k=1,T=2,S=e("meta[name=csrf-token]").attr("content"),D=e("meta[name=csrf-param]").attr("content");D&&S&&(h.extraData=h.extraData||{},h.extraData[D]=S),h.forceSync?s():setTimeout(s,10);var E,P,M,I=50,A=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},L=e.parseJSON||function(e){return window.eval("("+e+")")},O=function(t,i,n){var r=t.getResponseHeader("content-type")||"",o="xml"===i||!i&&r.indexOf("xml")>=0,s=o?t.responseXML:t.responseText;return o&&"parsererror"===s.documentElement.nodeName&&e.error&&e.error("parsererror"),n&&n.dataFilter&&(s=n.dataFilter(s,i)),"string"==typeof s&&("json"===i||!i&&r.indexOf("json")>=0?s=L(s):("script"===i||!i&&r.indexOf("javascript")>=0)&&e.globalEval(s)),s};return C}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,d=this;"function"==typeof t&&(t={success:t}),l=this.attr2("method"),c=this.attr2("action"),u="string"==typeof c?e.trim(c):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:l||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var h={};if(this.trigger("form-pre-serialize",[this,t,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=t.traditional;void 0===p&&(p=e.ajaxSettings.traditional);var f,m=[],g=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,f=e.param(t.data,p)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,p);f&&(v=v?v+"&"+f:f),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var y=[];if(t.resetForm&&y.push(function(){d.resetForm()}),t.clearForm&&y.push(function(){d.clearForm(t.includeHidden)}),!t.dataType&&t.target){var b=t.success||function(){};y.push(function(i){var n=t.replaceTarget?"replaceWith":"html";e(t.target)[n](i).each(b,arguments)})}else t.success&&y.push(t.success);t.success=function(e,i,n){for(var r=t.context||this,o=0,s=y.length;s>o;o++)y[o].apply(r,[e,i,n||d,d])};var w=e('input[type=file]:enabled[value!=""]',this),x=w.length>0,_="multipart/form-data",$=d.attr("enctype")==_||d.attr("encoding")==_,C=r.fileapi&&r.formdata;n("fileAPI :"+C);var k,T=(x||$)&&!C;t.iframe!==!1&&(t.iframe||T)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){k=a(g)}):k=a(g):k=(x||$)&&C?s(g):e.ajax(t),d.removeData("jqxhr").data("jqxhr",k);for(var S=0;S<m.length;S++)m[S]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(r){if(r=r||{},r.delegation=r.delegation&&e.isFunction(e.fn.on),!r.delegation&&0===this.length){var o={s:this.selector,c:this.context};return!e.isReady&&o.s?(n("DOM not ready, queuing ajaxForm"),e(function(){e(o.s,o.c).ajaxForm(r)}),this):(n("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return r.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,r,t).on("click.form-plugin",this.selector,r,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,t).bind("click.form-plugin",r,i)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,i){var n=[];if(0===this.length)return n;var o=this[0],s=t?o.getElementsByTagName("*"):o.elements;if(!s)return n;var a,l,c,u,d,h,p;for(a=0,h=s.length;h>a;a++)if(d=s[a],c=d.name,c&&!d.disabled)if(t&&o.clk&&"image"==d.type)o.clk==d&&(n.push({name:c,value:e(d).val(),type:d.type}),n.push({name:c+".x",value:o.clk_x},{name:c+".y",value:o.clk_y}));else if(u=e.fieldValue(d,!0),u&&u.constructor==Array)for(i&&i.push(d),l=0,p=u.length;p>l;l++)n.push({name:c,value:u[l]});else if(r.fileapi&&"file"==d.type){i&&i.push(d);var f=d.files;if(f.length)for(l=0;l<f.length;l++)n.push({name:c,value:f[l],type:d.type});else n.push({name:c,value:"",type:d.type})}else null!==u&&"undefined"!=typeof u&&(i&&i.push(d),n.push({name:c,value:u,type:d.type,required:d.required}));if(!t&&o.clk){var m=e(o.clk),g=m[0];c=g.name,c&&!g.disabled&&"image"==g.type&&(n.push({name:c,value:m.val()}),n.push({name:c+".x",value:o.clk_x},{name:c+".y",value:o.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var n=this.name;if(n){var r=e.fieldValue(this,t);if(r&&r.constructor==Array)for(var o=0,s=r.length;s>o;o++)i.push({name:n,value:r[o]});else null!==r&&"undefined"!=typeof r&&i.push({name:this.name,value:r})}}),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],n=0,r=this.length;r>n;n++){var o=this[n],s=e.fieldValue(o,t);null===s||"undefined"==typeof s||s.constructor==Array&&!s.length||(s.constructor==Array?e.merge(i,s):i.push(s))}return i},e.fieldValue=function(t,i){var n=t.name,r=t.type,o=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||t.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!t.checked||("submit"==r||"image"==r)&&t.form&&t.form.clk!=t||"select"==o&&-1==t.selectedIndex))return null;if("select"==o){var s=t.selectedIndex;if(0>s)return null;for(var a=[],l=t.options,c="select-one"==r,u=c?s+1:l.length,d=c?s:0;u>d;d++){var h=l[d];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return p;a.push(p)}}return a}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();i.test(n)||"textarea"==r?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(n)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var n=e(this).parent("select");t&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}(jQuery),/*! qTip2 - Pretty powerful tooltips - v2.0.0pre - 2012-12-14
* http://craigsworks.com/projects/qtip2/
* Copyright (c) 2012 Craig Michael Thompson; Licensed MIT, GPL */
function(e,t,i){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}(function(n){function r(i){m={pageX:i.pageX,pageY:i.pageY,type:"mousemove",scrollX:e.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}}function o(e){var t=function(e){return e===b||"object"!=typeof e},i=function(e){return!n.isFunction(e)&&(!e&&!e.attr||e.length<1||"object"==typeof e&&!e.jquery&&!e.then)};return e&&"object"==typeof e?(t(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&((t(e.content)||e.content.jquery)&&(e.content={text:e.content}),i(e.content.text||y)&&(e.content.text=y),"title"in e.content&&(t(e.content.title)&&(e.content.title={text:e.content.title}),i(e.content.title.text||y)&&(e.content.title.text=y))),"position"in e&&t(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&t(e.show)&&(e.show=e.show.jquery?{target:e.show}:{event:e.show}),"hide"in e&&t(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&t(e.style)&&(e.style={classes:e.style}),n.each(f,function(){this.sanitize&&this.sanitize(e)}),e):y}function s(s,a,l,c){function u(e){for(var t,i=0,n=a,r=e.split(".");n=n[r[i++]];)i<r.length&&(t=n);return[t||a,r.pop()]}function d(e){return A.concat("").join(e?"-"+e+" ":" ")}function h(){var e=a.style.widget,t=G.hasClass(Q);G.removeClass(Q),Q=e?"ui-state-disabled":"qtip-disabled",G.toggleClass(Q,t),G.toggleClass("ui-helper-reset "+d(),e).toggleClass(O,a.style.def&&!e),H.content&&H.content.toggleClass(d("content"),e),H.titlebar&&H.titlebar.toggleClass(d("header"),e),H.button&&H.button.toggleClass(M+"-icon",!e)}function w(e){H.title&&(H.titlebar.remove(),H.titlebar=H.title=H.button=b,e!==y&&W.reposition())}function x(){var e=a.content.title.button,t="string"==typeof e,i=t?e:"Close tooltip";H.button&&H.button.remove(),H.button=e.jquery?e:n("<a />",{"class":"qtip-close "+(a.style.widget?"":M+"-icon"),title:i,"aria-label":i}).prepend(n("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),H.button.appendTo(H.titlebar||G).attr("role","button").click(function(e){return G.hasClass(Q)||W.hide(e),y})}function _(){var e=B+"-title";H.titlebar&&w(),H.titlebar=n("<div />",{"class":M+"-titlebar "+(a.style.widget?d("header"):"")}).append(H.title=n("<div />",{id:e,"class":M+"-title","aria-atomic":v})).insertBefore(H.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){n(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){n(this).toggleClass("ui-state-hover","mouseover"===e.type)}),a.content.title.button&&x()}function $(e){var t=H.button;return W.rendered?(e?x():t.remove(),void 0):y}function E(e,t){var i=H.title;return W.rendered&&e?(n.isFunction(e)&&(e=e.call(s,z.event,W)),e===y||!e&&""!==e?w(y):(e.jquery&&e.length>0?i.empty().append(e.css({display:"block"})):i.html(e),t!==y&&W.rendered&&G[0].offsetWidth>0&&W.reposition(z.event),void 0)):y}function P(e){e&&n.isFunction(e.done)&&e.done(function(e){F(e,null,y)})}function F(e,t,r){function o(e){function r(i){i&&(delete s[i.src],clearTimeout(W.timers.img[i.src]),n(i).unbind(X)),n.isEmptyObject(s)&&(t!==y&&W.reposition(z.event),e())}var o,s={};return 0===(o=l.find("img[src]:not([height]):not([width])")).length?r():(o.each(function(e,t){if(s[t.src]===i){var o=0,a=3;!function l(){return t.height||t.width||o>a?r(t):(o+=1,W.timers.img[t.src]=setTimeout(l,700),void 0)}(),n(t).bind("error"+X+" load"+X,function(){r(this)}),s[t.src]=t}}),void 0)}var l=H.content;return W.rendered&&e?(n.isFunction(e)&&(e=e.call(s,z.event,W)||""),r!==y&&P(a.content.deferred),e.jquery&&e.length>0?l.empty().append(e.css({display:"block"})):l.html(e),W.rendered<0?G.queue("fx",o):(Y=0,o(n.noop)),W):y}function R(){function i(e){if(G.hasClass(Q))return y;clearTimeout(W.timers.show),clearTimeout(W.timers.hide);var t=function(){W.toggle(v,e)};a.show.delay>0?W.timers.show=setTimeout(t,a.show.delay):t()}function o(e){if(G.hasClass(Q)||V||Y)return y;var t=n(e.relatedTarget||e.target),i=t.closest(L)[0]===G[0],r=t[0]===h.show[0];if(clearTimeout(W.timers.show),clearTimeout(W.timers.hide),"mouse"===d.target&&i||a.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(i||r))try{e.preventDefault(),e.stopImmediatePropagation()}catch(o){}else a.hide.delay>0?W.timers.hide=setTimeout(function(){W.hide(e)},a.hide.delay):W.hide(e)}function c(e){return G.hasClass(Q)?y:(clearTimeout(W.timers.inactive),W.timers.inactive=setTimeout(function(){W.hide(e)},a.hide.inactive),void 0)}function u(e){W.rendered&&G[0].offsetWidth>0&&W.reposition(e)}var d=a.position,h={show:a.show.target,hide:a.hide.target,viewport:n(d.viewport),document:n(t),body:n(t.body),window:n(e)},f={show:n.trim(""+a.show.event).split(" "),hide:n.trim(""+a.hide.event).split(" ")};n.browser.msie&&6===parseInt(n.browser.version,10),G.bind("mouseenter"+X+" mouseleave"+X,function(e){var t="mouseenter"===e.type;t&&W.focus(e),G.toggleClass(N,t)}),/mouse(out|leave)/i.test(a.hide.event)&&"window"===a.hide.leave&&h.window.bind("mouseout"+X+" blur"+X,function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||W.hide(e)}),a.hide.fixed?(h.hide=h.hide.add(G),G.bind("mouseover"+X,function(){G.hasClass(Q)||clearTimeout(W.timers.hide)})):/mouse(over|enter)/i.test(a.show.event)&&h.hide.bind("mouseleave"+X,function(){clearTimeout(W.timers.show)}),(""+a.hide.event).indexOf("unfocus")>-1&&d.container.closest("html").bind("mousedown"+X+" touchstart"+X,function(e){var t=n(e.target),i=(W.rendered&&!G.hasClass(Q)&&G[0].offsetWidth>0,t.parents(L).filter(G[0]).length>0);t[0]===s[0]||t[0]===G[0]||i||s.has(t[0]).length||t.attr("disabled")||W.hide(e)}),"number"==typeof a.hide.inactive&&(h.show.bind("qtip-"+l+"-inactive",c),n.each(p.inactiveEvents,function(e,t){h.hide.add(H.tooltip).bind(t+X+"-inactive",c)})),n.each(f.hide,function(e,t){var r=n.inArray(t,f.show),s=n(h.hide);r>-1&&s.add(h.show).length===s.length||"unfocus"===t?(h.show.bind(t+X,function(e){G[0].offsetWidth>0?o(e):i(e)}),delete f.show[r]):h.hide.bind(t+X,o)}),n.each(f.show,function(e,t){h.show.bind(t+X,i)}),"number"==typeof a.hide.distance&&h.show.add(G).bind("mousemove"+X,function(e){var t=z.origin||{},i=a.hide.distance,n=Math.abs;(n(e.pageX-t.pageX)>=i||n(e.pageY-t.pageY)>=i)&&W.hide(e)}),"mouse"===d.target&&(h.show.bind("mousemove"+X,r),d.adjust.mouse&&(a.hide.event&&(G.bind("mouseleave"+X,function(e){(e.relatedTarget||e.target)!==h.show[0]&&W.hide(e)}),H.target.bind("mouseenter"+X+" mouseleave"+X,function(e){z.onTarget="mouseenter"===e.type})),h.document.bind("mousemove"+X,function(e){W.rendered&&z.onTarget&&!G.hasClass(Q)&&G[0].offsetWidth>0&&W.reposition(e||m)}))),(d.adjust.resize||h.viewport.length)&&(n.event.special.resize?h.viewport:h.window).bind("resize"+X,u),h.window.bind("scroll"+X,u)}function U(){var i=[a.show.target[0],a.hide.target[0],W.rendered&&H.tooltip[0],a.position.container[0],a.position.viewport[0],a.position.container.closest("html")[0],e,t];W.rendered?n([]).pushStack(n.grep(i,function(e){return"object"==typeof e})).unbind(X):a.show.target.unbind(X+"-create")}var H,z,W=this,B=(t.body,M+"-"+l),V=0,Y=0,G=n(),X=".qtip-"+l,Q="qtip-disabled";W.id=l,W.rendered=y,W.destroyed=y,W.elements=H={target:s},W.timers={img:{}},W.options=a,W.checks={},W.plugins={},W.cache=z={event:{},target:n(),disabled:y,attr:c,onTarget:y,lastClass:""},W.checks.builtin={"^id$":function(e,t,i){var r=i===v?p.nextid:i,o=M+"-"+r;r!==y&&r.length>0&&!n("#"+o).length&&(G[0].id=o,H.content[0].id=o+"-content",H.title[0].id=o+"-title")},"^content.text$":function(){F(a.content.text)},"^content.deferred$":function(){P(a.content.deferred)},"^content.title.text$":function(e,t,i){return i?(!H.title&&i&&_(),E(i),void 0):w()},"^content.title.button$":function(e,t,i){$(i)},"^position.(my|at)$":function(e,t,i){"string"==typeof i&&(e[t]=new f.Corner(i))},"^position.container$":function(e,t,i){W.rendered&&G.appendTo(i)},"^show.ready$":function(){W.rendered?W.toggle(v):W.render(1)},"^style.classes$":function(e,t,i){G.attr("class",M+" qtip "+i)},"^style.width|height":function(e,t,i){G.css(t,i)},"^style.widget|content.title":h,"^events.(render|show|move|hide|focus|blur)$":function(e,t,i){G[(n.isFunction(i)?"":"un")+"bind"]("tooltip"+t,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var e=a.position;G.attr("tracking","mouse"===e.target&&e.adjust.mouse),U(),R()}},n.extend(W,{_triggerEvent:function(e,t,i){var r=n.Event("tooltip"+e);return r.originalEvent=(i?n.extend({},i):b)||z.event||b,G.trigger(r,[W].concat(t||[])),!r.isDefaultPrevented()},render:function(e){if(W.rendered)return W;var t=a.content.text,i=a.content.title,r=a.position;return n.attr(s[0],"aria-describedby",B),G=H.tooltip=n("<div/>",{id:B,"class":[M,O,a.style.classes,M+"-pos-"+a.position.my.abbrev()].join(" "),width:a.style.width||"",height:a.style.height||"",tracking:"mouse"===r.target&&r.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":y,"aria-describedby":B+"-content","aria-hidden":v}).toggleClass(Q,z.disabled).data("qtip",W).appendTo(a.position.container).append(H.content=n("<div />",{"class":M+"-content",id:B+"-content","aria-atomic":v})),W.rendered=-1,V=1,i.text?(_(),n.isFunction(i.text)||E(i.text,y)):i.button&&x(),(!n.isFunction(t)||t.then)&&F(t,y),W.rendered=v,h(),n.each(a.events,function(e,t){n.isFunction(t)&&G.bind("toggle"===e?"tooltipshow tooltiphide":"tooltip"+e,t)}),n.each(f,function(){"render"===this.initialize&&this(W)}),R(),G.queue("fx",function(t){W._triggerEvent("render"),V=0,(a.show.ready||e)&&W.toggle(v,z.event,y),t()}),W},get:function(e){var t,i;switch(e.toLowerCase()){case"dimensions":t={height:G.outerHeight(y),width:G.outerWidth(y)};break;case"offset":t=f.offset(G,a.position.container);break;default:i=u(e.toLowerCase()),t=i[0][i[1]],t=t.precedance?t.string():t}return t},set:function(e,t){function i(e,t){var i,n,r;for(i in c)for(n in c[i])(r=new RegExp(n,"i").exec(e))&&(t.push(r),c[i][n].apply(W,t))}var r,s=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,l=y,c=W.checks;return"string"==typeof e?(r=e,e={},e[r]=t):e=n.extend(v,{},e),n.each(e,function(t,i){var r,o=u(t.toLowerCase());r=o[0][o[1]],o[0][o[1]]="object"==typeof i&&i.nodeType?n(i):i,e[t]=[o[0],o[1],i,r],l=s.test(t)||l}),a.show.effect=y,a.hide.effect=y,o(a),V=1,n.each(e,i),V=0,W.rendered&&G[0].offsetWidth>0&&l&&W.reposition("mouse"===a.position.target?b:z.event),W},toggle:function(e,i){function o(){e?(n.browser.msie&&G[0].style.removeAttribute("filter"),G.css("overflow",""),"string"==typeof c.autofocus&&n(c.autofocus,G).focus(),c.target.trigger("qtip-"+l+"-inactive")):G.css({display:"",visibility:"",opacity:"",left:"",top:""}),W._triggerEvent(e?"visible":"hidden")}if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(z.event.type)&&a.show.target.add(i.target).length===a.show.target.length&&G.has(i.relatedTarget).length)return W;z.event=n.extend({},i)}if(!W.rendered)return e?W.render(1):W;var s=e?"show":"hide",c=a[s],u=(a[e?"hide":"show"],a.position),d=a.content,h=G[0].offsetWidth>0,p=(e||1===c.target.length,!i||c.target.length<2||z.target[0]===i.target);return(typeof e).search("boolean|number")&&(e=!h),!G.is(":animated")&&h===e&&p?W:W._triggerEvent(s,[90])?(n.attr(G[0],"aria-hidden",!e),e?(z.origin=n.extend({},m),W.focus(i),n.isFunction(d.text)&&F(d.text,y),n.isFunction(d.title.text)&&E(d.title.text,y),!g&&"mouse"===u.target&&u.adjust.mouse&&(n(t).bind("mousemove.qtip",r),g=v),W.reposition(i,arguments[2]),c.solo&&n(L,c.solo).not(G).qtip("hide",n.Event("tooltipsolo"))):(clearTimeout(W.timers.show),delete z.origin,g&&!n(L+'[tracking="true"]:visible',c.solo).not(G).length&&(n(t).unbind("mousemove.qtip"),g=y),W.blur(i)),"show"===s?G.show():"hide"===s?G.hide():G[s](),o.call(G),e&&c.target.trigger("qtip-"+l+"-inactive"),W):W},show:function(e){return W.toggle(v,e)},hide:function(e){return W.toggle(y,e)},focus:function(e){if(!W.rendered)return W;var t=n(L),i=parseInt(G[0].style.zIndex,10),r=p.zindex+t.length,o=n.extend({},e);return G.hasClass(q)||W._triggerEvent("focus",[r],o)&&(i!==r&&(t.each(function(){this.style.zIndex>i&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+q).qtip("blur",o)),G.addClass(q)[0].style.zIndex=r),W},blur:function(e){return G.removeClass(q),W._triggerEvent("blur",[G.css("zIndex")],e),W},reposition:function(i,r){if(!W.rendered||V)return W;V=1;var o,s,l=a.position.target,c=a.position,u=c.my,d=c.at,h=c.adjust,p=h.method.split(" "),g=G.outerWidth(y),v=G.outerHeight(y),b=0,w=0,x="fixed"===G.css("position"),_=c.viewport,$={left:0,top:0},E=c.container,P=G[0].offsetWidth>0,M=i&&"scroll"===i.type,I=n(e);if(n.isArray(l)&&2===l.length)d={x:k,y:C},$={left:l[0],top:l[1]};else if("mouse"===l&&(i&&i.pageX||z.event.pageX))d={x:k,y:C},i=!m||!m.pageX||!h.mouse&&i&&i.pageX?(!i||"resize"!==i.type&&"scroll"!==i.type?i&&i.pageX&&"mousemove"===i.type?i:!h.mouse&&z.origin&&z.origin.pageX&&a.show.distance?z.origin:i:z.event)||i||z.event||m||{}:{pageX:m.pageX,pageY:m.pageY},$={top:i.pageY,left:i.pageX},h.mouse&&M&&($.left-=m.scrollX-I.scrollLeft(),$.top-=m.scrollY-I.scrollTop());else{if("event"===l&&i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?z.target=n(i.target):"event"!==l&&(z.target=n(l.jquery?l:H.target)),l=z.target,l=n(l).eq(0),0===l.length)return W;l[0]===t||l[0]===e?(b=f.iOS?e.innerWidth:l.width(),w=f.iOS?e.innerHeight:l.height(),l[0]===e&&($={top:(_||l).scrollTop(),left:(_||l).scrollLeft()})):f.imagemap&&l.is("area")?o=f.imagemap(W,l,d,f.viewport?p:y):f.svg&&l[0].ownerSVGElement?o=f.svg(W,l,d,f.viewport?p:y):(b=l.outerWidth(y),w=l.outerHeight(y),$=f.offset(l,E)),o&&(b=o.width,w=o.height,s=o.offset,$=o.position),(f.iOS>3.1&&f.iOS<4.1||f.iOS>=4.3&&f.iOS<4.33||!f.iOS&&x)&&($.left-=I.scrollLeft(),$.top-=I.scrollTop()),$.left+=d.x===S?b:d.x===D?b/2:0,$.top+=d.y===T?w:d.y===D?w/2:0}return $.left+=h.x+(u.x===S?-g:u.x===D?-g/2:0),$.top+=h.y+(u.y===T?-v:u.y===D?-v/2:0),f.viewport?($.adjusted=f.viewport(W,$,c,b,w,g,v),s&&$.adjusted.left&&($.left+=s.left),s&&$.adjusted.top&&($.top+=s.top)):$.adjusted={left:0,top:0},W._triggerEvent("move",[$,_.elem||_],i)?(delete $.adjusted,r===y||!P||isNaN($.left)||isNaN($.top)||"mouse"===l||!n.isFunction(c.effect)?G.css($):n.isFunction(c.effect)&&(c.effect.call(G,W,n.extend({},$)),G.queue(function(e){n(this).css({opacity:"",height:""}),n.browser.msie&&this.style.removeAttribute("filter"),e()})),V=0,W):W},disable:function(e){return"boolean"!=typeof e&&(e=!(G.hasClass(Q)||z.disabled)),W.rendered?(G.toggleClass(Q,e),n.attr(G[0],"aria-disabled",e)):z.disabled=!!e,W},enable:function(){return W.disable(y)},destroy:function(){var e=s[0],t=n.attr(e,j),i=s.data("qtip");return W.destroyed=v,W.rendered&&(G.stop(1,0).remove(),n.each(W.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(W.timers.show),clearTimeout(W.timers.hide),U(),i&&W!==i||(n.removeData(e,"qtip"),a.suppress&&t&&(n.attr(e,"title",t),s.removeAttr(j)),s.removeAttr("aria-describedby")),s.unbind(".qtip-"+l),delete I[W.id],s}})}function a(e,i){var r,a,l,c,u,d=n(this),h=n(t.body),m=this===t?h:d,g=d.metadata?d.metadata(i.metadata):b,w="html5"===i.metadata.type&&g?g[i.metadata.name]:b,x=d.data(i.metadata.name||"qtipopts");try{x="string"==typeof x?n.parseJSON(x):x}catch(_){}if(c=n.extend(v,{},p.defaults,i,"object"==typeof x?o(x):b,o(w||g)),a=c.position,c.id=e,"boolean"==typeof c.content.text){if(l=d.attr(c.content.attr),c.content.attr===y||!l)return y;c.content.text=l}if(a.container.length||(a.container=h),a.target===y&&(a.target=m),c.show.target===y&&(c.show.target=m),c.show.solo===v&&(c.show.solo=a.container.closest("body")),c.hide.target===y&&(c.hide.target=m),c.position.viewport===v&&(c.position.viewport=a.container),a.container=a.container.eq(0),a.at=new f.Corner(a.at),a.my=new f.Corner(a.my),n.data(this,"qtip"))if(c.overwrite)d.qtip("destroy");else if(c.overwrite===y)return y;return c.suppress&&(u=n.attr(this,"title"))&&n(this).removeAttr("title").attr(j,u).attr("title",""),r=new s(d,c,e,!!l),n.data(this,"qtip",r),d.bind("remove.qtip-"+e+" removeqtip.qtip-"+e,function(){r.destroy()}),r}function l(e){var t,i=this,r=e.elements.tooltip,o=e.options.content.ajax,s=p.defaults.content.ajax,a=".qtip-ajax",l=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,c=v,u=y;e.checks.ajax={"^content.ajax":function(e,t,n){"ajax"===t&&(o=n),"once"===t?i.init():o&&o.url?i.load():r.unbind(a)}},n.extend(i,{init:function(){return o&&o.url&&r.unbind(a)[o.once?"one":"bind"]("tooltipshow"+a,i.load),i},load:function(r){function a(){var t;e.destroyed||(c=y,g&&(u=v,e.show(r.originalEvent)),(t=s.complete||o.complete)&&n.isFunction(t)&&t.apply(o.context||e,arguments))}function d(t,i,r){var a;e.destroyed||(p&&"string"==typeof t&&(t=n("<div/>").append(t.replace(l,"")).find(p)),(a=s.success||o.success)&&n.isFunction(a)?a.call(o.context||e,t,i,r):e.set("content.text",t))}function h(t,i,n){e.destroyed||0===t.status||e.set("content.text",i+": "+n)}if(u)return u=y,void 0;var p,f=o.url.lastIndexOf(" "),m=o.url,g=!o.loading&&c;if(g)try{r.preventDefault()}catch(b){}else if(r&&r.isDefaultPrevented())return i;t&&t.abort&&t.abort(),f>-1&&(p=m.substr(f),m=m.substr(0,f)),t=n.ajax(n.extend({error:s.error||h,context:e},o,{url:m,success:d,complete:a}))},destroy:function(){t&&t.abort&&t.abort(),e.destroyed=v}}),i.init()}function c(e,t,i){var n=Math.ceil(t/2),r=Math.ceil(i/2),o={bottomright:[[0,0],[t,i],[t,0]],bottomleft:[[0,0],[t,0],[0,i]],topright:[[0,i],[t,0],[t,i]],topleft:[[0,0],[0,i],[t,i]],topcenter:[[0,i],[n,0],[t,i]],bottomcenter:[[0,0],[t,0],[n,i]],rightcenter:[[0,0],[t,r],[0,i]],leftcenter:[[t,0],[t,i],[0,r]]};return o.lefttop=o.bottomright,o.righttop=o.bottomleft,o.leftbottom=o.topright,o.rightbottom=o.topleft,o[e.string()]}function u(e){function t(e){var t=M.is(":visible");M.show(),e(),M.toggle(t)}function r(){A.width=g.height,A.height=g.width}function o(){A.width=g.width,A.height=g.height}function s(t,n,r){if(E.tip){var o,s,a=m.corner.clone(),c=r.adjusted,u=e.options.position.adjust.method.split(" "),d=u[0],h=u[1]||u[0],p={left:y,top:y,x:0,y:0},f={};m.corner.fixed!==v&&(d===P&&a.precedance===w&&c.left&&a.y!==D?a.precedance=a.precedance===w?x:w:d!==P&&c.left&&(a.x=a.x===D?c.left>0?k:S:a.x===k?S:k),h===P&&a.precedance===x&&c.top&&a.x!==D?a.precedance=a.precedance===x?w:x:h!==P&&c.top&&(a.y=a.y===D?c.top>0?C:T:a.y===C?T:C),a.string()===I.corner.string()||I.top===c.top&&I.left===c.left||m.update(a,y)),o=m.position(a,c),o[a.x]+=l(a,a.x),o[a.y]+=l(a,a.y),o.right!==i&&(o.left=-o.right),o.bottom!==i&&(o.top=-o.bottom),o.user=Math.max(0,g.offset),(p.left=d===P&&!!c.left)&&(a.x===D?f["margin-left"]=p.x=o["margin-left"]-c.left:(s=o.right!==i?[c.left,-o.left]:[-c.left,o.left],(p.x=Math.max(s[0],s[1]))>s[0]&&(r.left-=c.left,p.left=y),f[o.right!==i?S:k]=p.x)),(p.top=h===P&&!!c.top)&&(a.y===D?f["margin-top"]=p.y=o["margin-top"]-c.top:(s=o.bottom!==i?[c.top,-o.top]:[-c.top,o.top],(p.y=Math.max(s[0],s[1]))>s[0]&&(r.top-=c.top,p.top=y),f[o.bottom!==i?T:C]=p.y)),E.tip.css(f).toggle(!(p.x&&p.y||a.x===D&&p.y||a.y===D&&p.x)),r.left-=o.left.charAt?o.user:d!==P||p.top||!p.left&&!p.top?o.left:0,r.top-=o.top.charAt?o.user:h!==P||p.left||!p.left&&!p.top?o.top:0,I.left=c.left,I.top=c.top,I.corner=a.clone()}}function a(){var t=g.corner,i=e.options.position,n=i.at,r=i.my.string?i.my.string():i.my;return t===y||r===y&&n===y?y:(t===v?m.corner=new f.Corner(r):t.string||(m.corner=new f.Corner(t),m.corner.fixed=v),I.corner=new f.Corner(m.corner.string()),"centercenter"!==m.corner.string())}function l(e,i,n){i=i?i:e[e.precedance];var r,o=E.titlebar&&e.y===C,s=o?E.titlebar:M,a="border-"+i+"-width",l=function(e){return parseInt(e.css(a),10)};return t(function(){r=(n?l(n):l(E.content)||l(s)||l(M))||0}),r}function u(e){var i,r=E.titlebar&&e.y===C,o=r?E.titlebar:E.content,s=n.browser.mozilla,a=s?"-moz-":n.browser.webkit?"-webkit-":"",l="border-radius-"+e.y+e.x,c="border-"+e.y+"-"+e.x+"-radius",u=function(e){return parseInt(o.css(e),10)||parseInt(M.css(e),10)};return t(function(){i=u(c)||u(a+c)||u(a+l)||u(l)||0}),i}function d(e){function i(e,t,i){var n=e.css(t)||c;return i&&n===e.css(i)?y:s.test(n)?y:n}var r=E.tip.css("cssText",""),o=e||m.corner,s=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,a="border-"+o[o.precedance]+"-color",l="background-color",c="transparent",u=" !important",d=E.titlebar,h=d&&(o.y===C||o.y===D&&r.position().top+A.height/2+g.offset<d.outerHeight(v)),p=h?d:E.content;t(function(){L.fill=i(r,l)||i(p,l)||i(E.content,l)||i(M,l)||r.css(l),L.border=i(r,a,"color")||i(p,a,"color")||i(E.content,a,"color")||i(M,a,"color")||M.css(a),n("*",r).add(r).css("cssText",l+":"+c+u+";border:0"+u+";")})}function h(e){var t,i,n,r=e.precedance===x,o=A[r?_:$],s=A[r?$:_],a=e.string().indexOf(D)>-1,l=o*(a?.5:1),c=Math.pow,u=Math.round,d=Math.sqrt(c(l,2)+c(s,2)),h=[O/l*d,O/s*d];return h[2]=Math.sqrt(c(h[0],2)-c(O,2)),h[3]=Math.sqrt(c(h[1],2)-c(O,2)),t=d+h[2]+h[3]+(a?0:h[0]),i=t/d,n=[u(i*s),u(i*o)],{height:n[r?0:1],width:n[r?1:0]}}function p(e,t,i){return"<qvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'}var m=this,g=e.options.style.tip,E=e.elements,M=E.tooltip,I={top:0,left:0},A={width:g.width,height:g.height},L={},O=g.border||0,q=".qtip-tip",N=!!(n("<canvas />")[0]||{}).getContext;m.corner=b,m.mimic=b,m.border=O,m.offset=g.offset,m.size=A,e.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){m.init()||m.destroy(),e.reposition()},"^style.tip.(height|width)$":function(){A={width:g.width,height:g.height},m.create(),m.update(),e.reposition()},"^content.title.text|style.(classes|widget)$":function(){E.tip&&E.tip.length&&m.update()}},n.extend(m,{init:function(){var e=a()&&(N||n.browser.msie);return e&&(m.create(),m.update(),M.unbind(q).bind("tooltipmove"+q,s)),e},create:function(){var e,t=A.width,i=A.height;E.tip&&E.tip.remove(),E.tip=n("<div />",{"class":"qtip-tip"}).css({width:t,height:i}).prependTo(M),N?n("<canvas />").appendTo(E.tip)[0].getContext("2d").save():(e=p("shape",'coordorigin="0,0"',"position:absolute;"),E.tip.html(e+e),n("*",E.tip).bind("click mousedown",function(e){e.stopPropagation()}))},update:function(e,t){var i,s,a,u,_,$=E.tip,P=$.children(),q=A.width,F=A.height,j=g.mimic,R=Math.round;e||(e=I.corner||m.corner),j===y?j=e:(j=new f.Corner(j),j.precedance=e.precedance,"inherit"===j.x?j.x=e.x:"inherit"===j.y?j.y=e.y:j.x===j.y&&(j[e.precedance]=e[e.precedance])),i=j.precedance,e.precedance===w?r():o(),E.tip.css({width:q=A.width,height:F=A.height}),d(e),"transparent"!==L.border?(O=l(e,b),0===g.border&&O>0&&(L.fill=L.border),m.border=O=g.border!==v?g.border:O):m.border=O=0,a=c(j,q,F),m.size=_=h(e),$.css(_).css("line-height",_.height+"px"),u=e.precedance===x?[R(j.x===k?O:j.x===S?_.width-q-O:(_.width-q)/2),R(j.y===C?_.height-F:0)]:[R(j.x===k?_.width-q:0),R(j.y===C?O:j.y===T?_.height-F-O:(_.height-F)/2)],N?(P.attr(_),s=P[0].getContext("2d"),s.restore(),s.save(),s.clearRect(0,0,3e3,3e3),s.fillStyle=L.fill,s.strokeStyle=L.border,s.lineWidth=2*O,s.lineJoin="miter",s.miterLimit=100,s.translate(u[0],u[1]),s.beginPath(),s.moveTo(a[0][0],a[0][1]),s.lineTo(a[1][0],a[1][1]),s.lineTo(a[2][0],a[2][1]),s.closePath(),O&&("border-box"===M.css("background-clip")&&(s.strokeStyle=L.fill,s.stroke()),s.strokeStyle=L.border,s.stroke()),s.fill()):(a="m"+a[0][0]+","+a[0][1]+" l"+a[1][0]+","+a[1][1]+" "+a[2][0]+","+a[2][1]+" xe",u[2]=O&&/^(r|b)/i.test(e.string())?8===parseFloat(n.browser.version,10)?2:1:0,P.css({coordsize:q+O+" "+(F+O),antialias:""+(j.string().indexOf(D)>-1),left:u[0],top:u[1],width:q+O,height:F+O}).each(function(e){var t=n(this);t[t.prop?"prop":"attr"]({coordsize:q+O+" "+(F+O),path:a,fillcolor:L.fill,filled:!!e,stroked:!e}).toggle(!(!O&&!e)),e||""!==t.html()||t.html(p("stroke",'weight="'+2*O+'px" color="'+L.border+'" miterlimit="1000" joinstyle="miter"'))})),t!==y&&m.position(e)},position:function(e){var t,i,r,o=E.tip,s={},a=Math.max(0,g.offset);return g.corner!==y&&o?(e=e||m.corner,t=e.precedance,i=h(e),r=[e.x,e.y],t===w&&r.reverse(),n.each(r,function(n,r){var o,c,d;r===D?(o=t===x?k:C,s[o]="50%",s["margin-"+o]=-Math.round(i[t===x?_:$]/2)+a):(o=l(e,r),c=l(e,r,E.content),d=u(e),s[r]=n?c:a+(d>o?d:-o))}),s[e[t]]-=i[t===w?_:$],o.css({top:"",bottom:"",left:"",right:"",margin:""}).css(s),s):y},destroy:function(){E.tip&&E.tip.remove(),E.tip=!1,M.unbind(q)}}),m.init()}function d(i){function r(){x=n(w,d).not("[disabled]").map(function(){return"function"==typeof this.focus?this:null})}function o(e){x.length<1&&e.length?e.not("body").blur():x.first().focus()}function s(e){var t,i=n(e.target),r=i.closest(".qtip");t=r.length<1?y:parseInt(r[0].style.zIndex,10)>parseInt(d[0].style.zIndex,10),t||n(e.target).closest(L)[0]===d[0]||o(i)}var a,l=this,c=i.options.show.modal,u=i.elements,d=u.tooltip,h="#qtip-overlay",p=".qtipmodal",m=p+i.id,g="is-modal-qtip",b=n(t.body),w=f.modal.focusable.join(","),x={};i.checks.modal={"^show.modal.(on|blur)$":function(){l.init(),u.overlay.toggle(d.is(":visible"))},"^content.text$":function(){r()}},n.extend(l,{init:function(){return c.on?(a=l.create(),d.attr(g,v).css("z-index",f.modal.zindex+n(L+"["+g+"]").length).unbind(p).unbind(m).bind("tooltipshow"+p+" tooltiphide"+p,function(e,t,i){var r=e.originalEvent;if(e.target===d[0])if(r&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(r.type)&&n(r.relatedTarget).closest(a[0]).length)try{e.preventDefault()}catch(o){}else(!r||r&&!r.solo)&&l[e.type.replace("tooltip","")](e,i)}).bind("tooltipfocus"+p,function(e){if(!e.isDefaultPrevented()&&e.target===d[0]){var t=n(L).filter("["+g+"]"),i=f.modal.zindex+t.length,r=parseInt(d[0].style.zIndex,10);a[0].style.zIndex=i-2,t.each(function(){this.style.zIndex>r&&(this.style.zIndex-=1)}),t.end().filter("."+q).qtip("blur",e.originalEvent),d.addClass(q)[0].style.zIndex=i;try{e.preventDefault()}catch(o){}}}).bind("tooltiphide"+p,function(e){e.target===d[0]&&n("["+g+"]").filter(":visible").not(d).last().qtip("focus",e)}),c.escape&&n(t).unbind(m).bind("keydown"+m,function(e){27===e.keyCode&&d.hasClass(q)&&i.hide(e)}),c.blur&&u.overlay.unbind(m).bind("click"+m,function(e){d.hasClass(q)&&i.hide(e)}),r(),l):l},create:function(){function t(){a.css({height:r.height(),width:r.width()})}var i=n(h),r=n(e);return i.length?u.overlay=i.insertAfter(n(L).last()):(a=u.overlay=n("<div />",{id:h.substr(1),html:"<div></div>",mousedown:function(){return y}}).hide().insertAfter(n(L).last()),r.unbind(p).bind("resize"+p,t),t(),a)},toggle:function(e,t,i){if(e&&e.isDefaultPrevented())return l;var r=c.effect,u=t?"show":"hide",h=a.is(":visible"),p=n("["+g+"]").filter(":visible").not(d);return a||(a=l.create()),a.is(":animated")&&h===t&&a.data("toggleState")!==y||!t&&p.length?l:(t?(a.css({left:0,top:0}),a.toggleClass("blurs",c.blur),c.stealfocus!==y&&(b.bind("focusin"+m,s),o(n("body :focus")))):b.unbind("focusin"+m),a.stop(v,y).data("toggleState",t),n.isFunction(r)?r.call(a,t):r===y?a[u]():a.fadeTo(parseInt(i,10)||90,t?1:0,function(){t||n(this).hide()}),t||a.queue(function(e){a.css({left:"",top:""}).removeData("toggleState"),e()}),l)},show:function(e,t){return l.toggle(e,v,t)},hide:function(e,t){return l.toggle(e,y,t)},destroy:function(){var e=a;return e&&(e=n("["+g+"]").not(d).length<1,e?(u.overlay.remove(),n(t).unbind(p)):u.overlay.unbind(p+i.id),b.unbind("focusin"+m)),d.removeAttr(g).unbind(p)}}),l.init()}function h(i){var r,o=this,s=i.elements,a=i.options,l=s.tooltip,c=".ie6-"+i.id,u=n("select, object").length<1,d=0,h=y;i.checks.ie6={"^content|style$":function(){redraw()}},n.extend(o,{init:function(){var i,a=n(e);u&&(s.bgiframe=n('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>'),s.bgiframe.appendTo(l),l.bind("tooltipmove"+c,o.adjustBGIFrame)),r=n("<div/>",{id:"qtip-rcontainer"}).appendTo(t.body),o.redraw(),s.overlay&&!h&&(i=function(){s.overlay[0].style.top=a.scrollTop()+"px"},a.bind("scroll.qtip-ie6, resize.qtip-ie6",i),i(),s.overlay.addClass("qtipmodal-ie6fix"),h=v)},adjustBGIFrame:function(){var e,t,n=i.get("dimensions"),r=i.plugins.tip,o=s.tip;t=parseInt(l.css("border-left-width"),10)||0,t={left:-t,top:-t},r&&o&&(e="x"===r.corner.precedance?["width","left"]:["height","top"],t[e[1]]-=o[e[0]]()),s.bgiframe.css(t).css(n)},redraw:function(){if(i.rendered<1||d)return o;var e,t,n,s,c=a.style,u=a.position.container;return d=1,c.height&&l.css($,c.height),c.width?l.css(_,c.width):(l.css(_,"").appendTo(r),t=l.width(),1>t%2&&(t+=1),n=l.css("max-width")||"",s=l.css("min-width")||"",e=(n+s).indexOf("%")>-1?u.width()/100:0,n=(n.indexOf("%")>-1?e:1)*parseInt(n,10)||t,s=(s.indexOf("%")>-1?e:1)*parseInt(s,10)||0,t=n+s?Math.min(Math.max(t,s),n):t,l.css(_,Math.round(t)).appendTo(u)),d=0,o},destroy:function(){u&&s.bgiframe.remove(),l.unbind(c)}}),o.init()}var p,f,m,g,v=!0,y=!1,b=null,w="x",x="y",_="width",$="height",C="top",k="left",T="bottom",S="right",D="center",E="flipinvert",P="shift",M="qtip",I={},A=["ui-widget","ui-tooltip"],L="div.qtip."+M,O=M+"-default",q=M+"-focus",N=M+"-hover",F="_replacedByqTip",j="oldtitle";p=n.fn.qtip=function(e,t,r){var s=(""+e).toLowerCase(),a=b,l=n.makeArray(arguments).slice(1),c=l[l.length-1],u=this[0]?n.data(this[0],"qtip"):b;return!arguments.length&&u||"api"===s?u:"string"==typeof e?(this.each(function(){var e=n.data(this,"qtip");if(!e)return v;if(c&&c.timeStamp&&(e.cache.event=c),"option"!==s&&"options"!==s||!t)e[s]&&e[s].apply(e[s],l);else{if(!n.isPlainObject(t)&&r===i)return a=e.get(t),y;e.set(t,r)}}),a!==b?a:this):"object"!=typeof e&&arguments.length?void 0:(u=o(n.extend(v,{},e)),p.bind.call(this,u,c))},p.bind=function(e,t){return this.each(function(o){function s(e){function t(){h.render("object"==typeof e||l.show.ready),c.show.add(c.hide).unbind(d)}return h.cache.disabled?y:(h.cache.event=n.extend({},e),h.cache.target=e?n(e.target):[i],l.show.delay>0?(clearTimeout(h.timers.show),h.timers.show=setTimeout(t,l.show.delay),u.show!==u.hide&&c.hide.bind(u.hide,function(){clearTimeout(h.timers.show)})):t(),void 0)}var l,c,u,d,h,m;return m=n.isArray(e.id)?e.id[o]:e.id,m=!m||m===y||m.length<1||I[m]?p.nextid++:I[m]=m,d=".qtip-"+m+"-create",h=a.call(this,m,e),h===y?v:(l=h.options,n.each(f,function(){"initialize"===this.initialize&&this(h)}),c={show:l.show.target,hide:l.hide.target},u={show:n.trim(""+l.show.event).replace(/ /g,d+" ")+d,hide:n.trim(""+l.hide.event).replace(/ /g,d+" ")+d},/mouse(over|enter)/i.test(u.show)&&!/mouse(out|leave)/i.test(u.hide)&&(u.hide+=" mouseleave"+d),c.show.bind("mousemove"+d,function(e){r(e),h.cache.onTarget=v}),c.show.bind(u.show,s),(l.show.ready||l.prerender)&&s(t),void 0)}).attr("data-hasqtip",v)},f=p.plugins={Corner:function(e){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,D).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var t=e.charAt(0);this.precedance="t"===t||"b"===t?x:w,this.string=function(){return this.precedance===x?this.y+this.x:this.x+this.y},this.abbrev=function(){var e=this.x.substr(0,1),t=this.y.substr(0,1);return e===t?e:this.precedance===x?t+e:e+t},this.invertx=function(e){this.x=this.x===k?S:this.x===S?k:e||this.x},this.inverty=function(e){this.y=this.y===C?T:this.y===T?C:e||this.y},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(e,i){function r(e,t){l.left+=t*e.scrollLeft(),l.top+=t*e.scrollTop()}var o,s,a,l=e.offset(),c=e.closest("body"),u=n.browser.msie&&"CSS1Compat"!==t.compatMode,d=i;if(d){do"static"!==d.css("position")&&(s=d.position(),l.left-=s.left+(parseInt(d.css("borderLeftWidth"),10)||0)+(parseInt(d.css("marginLeft"),10)||0),l.top-=s.top+(parseInt(d.css("borderTopWidth"),10)||0)+(parseInt(d.css("marginTop"),10)||0),o||"hidden"===(a=d.css("overflow"))||"visible"===a||(o=d));while((d=n(d[0].offsetParent)).length);(o&&o[0]!==c[0]||u)&&r(o||c,1)}return l},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||y,fn:{attr:function(e,t){if(this.length){var i=this[0],r="title",o=n.data(i,"qtip");if(e===r&&o&&"object"==typeof o&&o.options.suppress)return arguments.length<2?n.attr(i,j):(o&&o.options.content.attr===r&&o.cache.attr&&o.set("content.text",t),this.attr(j,t))}return n.fn["attr"+F].apply(this,arguments)},clone:function(e){var t=(n([]),n.fn["clone"+F].apply(this,arguments));return e||t.filter("["+j+"]").attr("title",function(){return n.attr(this,j)
}).removeAttr(j),t}}},n.each(f.fn,function(e,t){if(!t||n.fn[e+F])return v;var i=n.fn[e+F]=n.fn[e];n.fn[e]=function(){return t.apply(this,arguments)||i.apply(this,arguments)}}),n.ui||(n["cleanData"+F]=n.cleanData,n.cleanData=function(e){for(var t,r=0;(t=e[r])!==i;r++)try{n(t).triggerHandler("removeqtip")}catch(o){}n["cleanData"+F](e)}),p.version="2.0.0pre-nightly-214951b9f3",p.nextid=0,p.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),p.zindex=15e3,p.defaults={prerender:y,id:y,overwrite:v,suppress:v,content:{text:v,attr:"title",deferred:y,title:{text:y,button:y}},position:{my:"top left",at:"bottom right",target:y,container:y,viewport:y,adjust:{x:0,y:0,mouse:v,resize:v,method:"flipinvert flipinvert"},effect:function(e,t){n(this).animate(t,{duration:200,queue:y})}},show:{target:y,event:"mouseenter",effect:v,delay:90,solo:y,ready:y,autofocus:y},hide:{target:y,event:"mouseleave",effect:v,delay:0,fixed:y,inactive:y,leave:"window",distance:y},style:{classes:"",widget:y,width:y,height:y,def:v},events:{render:b,move:b,show:b,hide:b,toggle:b,visible:b,hidden:b,focus:b,blur:b}},f.svg=function(e,i){for(var r,o,s,a,l,c=n(t),u=i[0],d={width:0,height:0,position:{top:1e10,left:1e10}};!u.getBBox;)u=u.parentNode;if(u.getBBox&&u.parentNode){if(r=u.getBBox(),o=u.getScreenCTM(),s=u.farthestViewportElement||u,!s.createSVGPoint)return d;a=s.createSVGPoint(),a.x=r.x,a.y=r.y,l=a.matrixTransform(o),d.position.left=l.x,d.position.top=l.y,console.log(d,a,l),a.x+=r.width,a.y+=r.height,l=a.matrixTransform(o),d.width=l.x-d.position.left,d.height=l.y-d.position.top,d.position.left+=c.scrollLeft(),d.position.top+=c.scrollTop()}return d},f.ajax=function(e){var t=e.plugins.ajax;return"object"==typeof t?t:e.plugins.ajax=new l(e)},f.ajax.initialize="render",f.ajax.sanitize=function(e){var t,i=e.content;i&&"ajax"in i&&(t=i.ajax,"object"!=typeof t&&(t=e.content.ajax={url:t}),"boolean"!=typeof t.once&&t.once&&(t.once=!!t.once))},n.extend(v,p.defaults,{content:{ajax:{loading:v,once:v}}}),f.tip=function(e){var t=e.plugins.tip;return"object"==typeof t?t:e.plugins.tip=new u(e)},f.tip.initialize="render",f.tip.sanitize=function(e){var t,i=e.style;i&&"tip"in i&&(t=e.style.tip,"object"!=typeof t&&(e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=v),"number"!=typeof t.width&&delete t.width,"number"!=typeof t.height&&delete t.height,"number"!=typeof t.border&&t.border!==v&&delete t.border,"number"!=typeof t.offset&&delete t.offset)},n.extend(v,p.defaults,{style:{tip:{corner:v,mimic:y,width:6,height:6,border:v,offset:0}}}),f.modal=function(e){var t=e.plugins.modal;return"object"==typeof t?t:e.plugins.modal=new d(e)},f.modal.initialize="render",f.modal.sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:"undefined"==typeof e.show.modal.on&&(e.show.modal.on=v))},f.modal.zindex=p.zindex-200,f.modal.focusable=["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"],n.extend(v,p.defaults,{show:{modal:{on:y,effect:v,blur:v,stealfocus:v,escape:v}}}),f.viewport=function(i,n,r,o,s,a,l){function c(e,t,i,r,o,s,a,l,c){var u=n[o],h=m[e],p=g[e],f=i===P,v=-L.offset[o]+A.offset[o]+A["scroll"+o],y=h===o?c:h===s?-c:-c/2,b=p===o?l:p===s?-l:-l/2,w=q&&q.size?q.size[a]||0:0,x=q&&q.corner&&q.corner.precedance===e&&!f?w:0,_=v-u+x,$=u+c-A[a]-v+x,C=y-(m.precedance===e||h===m[t]?b:0)-(p===D?l/2:0);return f?(x=q&&q.corner&&q.corner.precedance===t?w:0,C=(h===o?1:-1)*y-x,n[o]+=_>0?_:$>0?-$:0,n[o]=Math.max(-L.offset[o]+A.offset[o]+(x&&q.corner[e]===D?q.offset:0),u-C,Math.min(Math.max(-L.offset[o]+A.offset[o]+A[a],u+C),n[o]))):(r*=i===E?2:0,_>0&&(h!==o||$>0)?(n[o]-=C+r,d["invert"+e](o)):$>0&&(h!==s||_>0)&&(n[o]-=(h===D?-C:C)+r,d["invert"+e](s)),n[o]<v&&-n[o]>$&&(n[o]=u,d=m.clone())),n[o]-u}var u,d,h,p=r.target,f=i.elements.tooltip,m=r.my,g=r.at,v=r.adjust,y=v.method.split(" "),b=y[0],I=y[1]||y[0],A=r.viewport,L=r.container,O=i.cache,q=i.plugins.tip,N={left:0,top:0};return A.jquery&&p[0]!==e&&p[0]!==t.body&&"none"!==v.method?(u="fixed"===f.css("position"),A={elem:A,height:A[(A[0]===e?"h":"outerH")+"eight"](),width:A[(A[0]===e?"w":"outerW")+"idth"](),scrollleft:u?0:A.scrollLeft(),scrolltop:u?0:A.scrollTop(),offset:A.offset()||{left:0,top:0}},L={elem:L,scrollLeft:L.scrollLeft(),scrollTop:L.scrollTop(),offset:L.offset()||{left:0,top:0}},("shift"!==b||"shift"!==I)&&(d=m.clone()),N={left:"none"!==b?c(w,x,b,v.x,k,S,_,o,a):0,top:"none"!==I?c(x,w,I,v.y,C,T,$,s,l):0},d&&O.lastClass!==(h=M+"-pos-"+d.abbrev())&&f.removeClass(i.cache.lastClass).addClass(i.cache.lastClass=h),N):N},f.imagemap=function(e,t,i,r){function o(e,t,i){for(var n=0,r=1,o=1,s=0,a=0,l=e.width,c=e.height;l>0&&c>0&&r>0&&o>0;)for(l=Math.floor(l/2),c=Math.floor(c/2),i.x===k?r=l:i.x===S?r=e.width-l:r+=Math.floor(l/2),i.y===C?o=c:i.y===T?o=e.height-c:o+=Math.floor(c/2),n=t.length;n--&&!(t.length<2);)s=t[n][0]-e.position.left,a=t[n][1]-e.position.top,(i.x===k&&s>=r||i.x===S&&r>=s||i.x===D&&(r>s||s>e.width-r)||i.y===C&&a>=o||i.y===T&&o>=a||i.y===D&&(o>a||a>e.height-o))&&t.splice(n,1);return{left:t[0][0],top:t[0][1]}}t.jquery||(t=n(t));var s=e.cache.areas={},a=(t[0].shape||t.attr("shape")).toLowerCase(),l=t[0].coords||t.attr("coords"),c=l.split(","),u=[],d=n('img[usemap="#'+t.parent("map").attr("name")+'"]'),h=d.offset(),p={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10}},f=0,m=0;if(h.left+=Math.ceil((d.outerWidth()-d.width())/2),h.top+=Math.ceil((d.outerHeight()-d.height())/2),"poly"===a)for(f=c.length;f--;)m=[parseInt(c[--f],10),parseInt(c[f+1],10)],m[0]>p.position.right&&(p.position.right=m[0]),m[0]<p.position.left&&(p.position.left=m[0]),m[1]>p.position.bottom&&(p.position.bottom=m[1]),m[1]<p.position.top&&(p.position.top=m[1]),u.push(m);else for(f=-1;f++<c.length;)u.push(parseInt(c[f],10));switch(a){case"rect":p={width:Math.abs(u[2]-u[0]),height:Math.abs(u[3]-u[1]),position:{left:Math.min(u[0],u[2]),top:Math.min(u[1],u[3])}};break;case"circle":p={width:u[2]+2,height:u[2]+2,position:{left:u[0],top:u[1]}};break;case"poly":p.width=Math.abs(p.position.right-p.position.left),p.height=Math.abs(p.position.bottom-p.position.top),"c"===i.abbrev()?p.position={left:p.position.left+p.width/2,top:p.position.top+p.height/2}:(s[i+l]||(p.position=o(p,u.slice(),i),!r||"flip"!==r[0]&&"flip"!==r[1]||(p.offset=o(p,u.slice(),{x:i.x===k?S:i.x===S?k:D,y:i.y===C?T:i.y===T?C:D}),p.offset.left-=p.position.left,p.offset.top-=p.position.top),s[i+l]=p),p=s[i+l]),p.width=p.height=0}return p.position.left+=h.left,p.position.top+=h.top,p},f.ie6=function(e){var t=n.browser,i=e.plugins.ie6;return t.msie&&"6"===(""+t.version).charAt(0)?"object"==typeof i?i:e.plugins.ie6=new h(e):y},f.ie6.initialize="render"})}(window,document),$.fn.qtip.defaults.position.effect=!1,eval(function(e,t,i,n,r,o){if(r=function(e){return(t>e?"":r(parseInt(e/t)))+((e%=t)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;i--;)o[r(i)]=n[i]||r(i);n=[function(e){return o[e]}],r=function(){return"\\w+"},i=1}for(;i--;)n[i]&&(e=e.replace(new RegExp("\\b"+r(i)+"\\b","g"),n[i]));return e}(";5(20.1A)(7($){5((!$.1x.1Z&&!$.1x.1Y))1X{1t.1Q(\"1P\",M,q)}1O(e){};$.o.4=7(i){5(3.K==0)k 3;5(J O[0]=='1q'){5(3.K>1){8 j=O;k 3.17(7(){$.o.4.C($(3),j)})};$.o.4[O[0]].C(3,$.22(O).1U(1)||[]);k 3};8 i=$.X({},$.o.4.1k,i||{});$.o.4.Q++;3.1L('.l-4-1j').p('l-4-1j').17(7(){8 a,9=$(3);8 b=(3.29||'27-4').1g(/\\[|\\]/g,'11').1g(/^\\11+|\\11+$/g,'');8 c=$(3.1R||1t.1C);8 d=c.6('4');5(!d||d.1d!=$.o.4.Q)d={D:0,1d:$.o.4.Q};8 e=d[b];5(e)a=e.6('4');5(e&&a)a.D++;E{a=$.X({},i||{},($.1c?9.1c():($.1D?9.6():v))||{},{D:0,H:[],w:[]});a.x=d.D++;e=$('<24 14=\"l-4-1J\"/>');9.1N(e);e.p('4-18-19-1a');5(9.T('L')||9.U('L'))a.m=q;5(9.U('Z'))a.Z=q;e.1o(a.F=$('<S 14=\"4-F\"><a 15=\"'+a.F+'\">'+a.1e+'</a></S>').1f(7(){$(3).4('P');$(3).p('l-4-N')}).1h(7(){$(3).4('t');$(3).G('l-4-N')}).1i(7(){$(3).4('s')}).6('4',a))};8 f=$('<S 14=\"l-4 r-'+a.x+'\"><a 15=\"'+(3.15||3.1l)+'\">'+3.1l+'</a></S>');e.1o(f);5(3.W)f.T('W',3.W);5(3.1m)f.p(3.1m);5(a.21)a.u=2;5(J a.u=='1n'&&a.u>0){8 g=($.o.13?f.13():0)||a.1p;8 h=(a.D%a.u),10=1E.1F(g/a.u);f.13(10).1G('a').1H({'1I-1B':'-'+(h*10)+'1K'})};5(a.m)f.p('l-4-1r');E f.p('l-4-1M').1f(7(){$(3).4('1s');$(3).4('B')}).1h(7(){$(3).4('t');$(3).4('I')}).1i(7(){$(3).4('s')});5(3.y)a.n=f;5(3.1S==\"A\"){5($(3).U('1T'))a.n=f};9.1u();9.1V(7(){$(3).4('s')});f.6('4.9',9.6('4.l',f));a.H[a.H.K]=f[0];a.w[a.w.K]=9[0];a.r=d[b]=e;a.1W=c;9.6('4',a);e.6('4',a);f.6('4',a);c.6('4',d)});$('.4-18-19-1a').4('t').G('4-18-19-1a');k 3};$.X($.o.4,{Q:0,B:7(){8 a=3.6('4');5(!a)k 3;5(!a.B)k 3;8 b=$(3).6('4.9')||$(3.Y=='V'?3:v);5(a.B)a.B.C(b[0],[b.R(),$('a',b.6('4.l'))[0]])},I:7(){8 a=3.6('4');5(!a)k 3;5(!a.I)k 3;8 b=$(3).6('4.9')||$(3.Y=='V'?3:v);5(a.I)a.I.C(b[0],[b.R(),$('a',b.6('4.l'))[0]])},1s:7(){8 a=3.6('4');5(!a)k 3;5(a.m)k;3.4('P');3.1v().1w().12('.r-'+a.x).p('l-4-N')},P:7(){8 a=3.6('4');5(!a)k 3;5(a.m)k;a.r.23().12('.r-'+a.x).G('l-4-1y').G('l-4-N')},t:7(){8 a=3.6('4');5(!a)k 3;3.4('P');5(a.n){a.n.6('4.9').T('y','y');a.n.1v().1w().12('.r-'+a.x).p('l-4-1y')}E $(a.w).1z('y');a.F[a.m||a.Z?'1u':'25']();3.26()[a.m?'p':'G']('l-4-1r')},s:7(a,b){8 c=3.6('4');5(!c)k 3;5(c.m)k;c.n=v;5(J a!='z'||3.K>1){5(J a=='1n')k $(c.H[a]).4('s',z,b);5(J a=='1q'){$.17(c.H,7(){5($(3).6('4.9').R()==a)$(3).4('s',z,b)});k 3}}E{c.n=3[0].Y=='V'?3.6('4.l'):(3.28('.r-'+c.x)?3:v)};3.6('4',c);3.4('t');8 d=$(c.n?c.n.6('4.9'):v);$(d)[0].y=q;5((b||b==z)&&c.1b)c.1b.C(d[0],[d.R(),$('a',c.n)[0]]);k 3},m:7(a,b){8 c=3.6('4');5(!c)k 3;c.m=a||a==z?q:M;5(b)$(c.w).T(\"L\",\"L\");E $(c.w).1z(\"L\");3.6('4',c);3.4('t')},2a:7(){3.4('m',q,q)},2b:7(){3.4('m',M,M)}});$.o.4.1k={F:'2c 2d',1e:'',u:0,1p:16};$(7(){$('9[2e=2f].l').4()})})(1A);",62,140,"|||this|rating|if|data|function|var|input|||||||||||return|star|readOnly|current|fn|addClass|true|rater|select|draw|split|null|inputs|serial|checked|undefined||focus|apply|count|else|cancel|removeClass|stars|blur|typeof|length|disabled|false|hover|arguments|drain|calls|val|div|attr|hasClass|INPUT|id|extend|tagName|required|spw|_|filter|width|class|title||each|to|be|drawn|callback|metadata|call|cancelValue|mouseover|replace|mouseout|click|applied|options|value|className|number|append|starWidth|string|readonly|fill|document|hide|prevAll|andSelf|support|on|removeAttr|jQuery|left|body|meta|Math|floor|find|css|margin|control|px|not|live|before|catch|BackgroundImageCache|execCommand|form|nodeName|selected|slice|change|context|try|style|opacity|window|half|makeArray|children|span|show|siblings|unnamed|is|name|disable|enable|Cancel|Rating|type|radio".split("|"),0,{}));/**
* jQuery.UI.iPad plugin
* Copyright (c) 2010 Stephen von Takach
* licensed under MIT.
* Date: 27/8/2010
*
* Project Home: 
* http://code.google.com/p/jquery-ui-for-ipad-and-iphone/
*/
var lastTap=null,tapValid=!1,tapTimeout=null,rightClickPending=!1,rightClickEvent=null,holdTimeout=null,cancelMouseUp=!1,lastX=0,lastY=0,scrollDir;/*! jQuery UI - v1.10.2 - 2013-03-14
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
!function(e,t){function i(t,i){var r,o,s,a=t.nodeName.toLowerCase();return"area"===a?(r=t.parentNode,o=r.name,t.href&&o&&"map"===r.nodeName.toLowerCase()?(s=e("img[usemap=#"+o+"]")[0],!!s&&n(s)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,r,o=e(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function r(t,i,n,r){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(s,r(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var r,o=e.ui[t].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(e,t,i){var n,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<r.length;n++)e.options[r[n][0]]&&r[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return t[n]>0?!0:(t[n]=1,r=t[n]>0,t[n]=0,r)}})}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(t,i,n){var r,o,s,a,l={},c=t.split(".")[0];t=t.split(".")[1],r=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},o=e[c][t],s=e[c][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new s(e,t)},e.extend(s,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},r=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}(),void 0):(l[t]=n,void 0)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:t},l,{constructor:s,namespace:c,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(i){for(var r,o,s=n.call(arguments,1),a=0,l=s.length;l>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==t&&(i[r]=e.isPlainObject(o)?e.isPlainObject(i[r])?e.widget.extend({},i[r],o):e.widget.extend({},o):o);return i},e.widget.bridge=function(i,r){var o=r.prototype.widgetFullName||i;e.fn[i]=function(s){var a="string"==typeof s,l=n.call(arguments,1),c=this;return s=!a&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var n,r=e.data(this,o);return r?e.isFunction(r[s])&&"_"!==s.charAt(0)?(n=r[s].apply(r,l),n!==r&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+s+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+s+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(s||{})._init():e.data(this,o,new r(s,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var r,o,s,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},r=i.split("."),i=r.shift(),r.length){for(o=a[i]=e.widget.extend({},this.options[i]),s=0;s<r.length-1;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(i=r.pop(),n===t)return o[i]===t?null:o[i];o[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var r,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(n,s){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):i.bind(c,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var r,o,s=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(e.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?i:r.effect||i:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&e.effects&&e.effects.effect[a]?n[t](r):a!==t&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i,n=this,r=!1,o=!1;for(e.ui.ddmanager&&!this.options.dropBehaviour&&(o=e.ui.ddmanager.drop(this,t)),this.dropped&&(o=this.dropped,this.dropped=!1),i=this.element[0];i&&(i=i.parentNode);)i===document&&(r=!0);return r||"original"!==this.options.helper?("invalid"===this.options.revert&&!o||"valid"===this.options.revert&&o||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,o)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;if("parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=["document"===r.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===r.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===r.containment?0:e(window).scrollLeft())+e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===r.containment?0:e(window).scrollTop())+(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||r.containment.constructor===Array)r.containment.constructor===Array&&(this.containment=r.containment);else{if(i=e(r.containment),n=i[0],!n)return;t="hidden"!==e(n).css("overflow"),this.containment=[(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0),(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderRightWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderBottomWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r,o,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName),c=t.pageX,u=t.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(c=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(c=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,c=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-s.grid[0]:o+s.grid[0]:o)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),r=n.options,o=e.extend({},i,{item:n.element});n.sortables=[],e(r.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,o))})},stop:function(t,i){var n=e(this).data("ui-draggable"),r=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,i){var n=e(this).data("ui-draggable"),r=this;e.each(n.sortables,function(){var o=!1,s=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),r=e(this).data("ui-draggable").options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,r=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,r,o,s,a,l,c,u,d,h,p=e(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,y=i.offset.top,b=y+p.helperProportions.height;for(d=p.snapElements.length-1;d>=0;d--)a=p.snapElements[d].left,l=a+p.snapElements[d].width,c=p.snapElements[d].top,u=c+p.snapElements[d].height,g>a-m&&l+m>g&&y>c-m&&u+m>y||g>a-m&&l+m>g&&b>c-m&&u+m>b||v>a-m&&l+m>v&&y>c-m&&u+m>y||v>a-m&&l+m>v&&b>c-m&&u+m>b?("inner"!==f.snapMode&&(n=Math.abs(c-b)<=m,r=Math.abs(u-y)<=m,o=Math.abs(a-v)<=m,s=Math.abs(l-g)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),r&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),h=n||r||o||s,"outer"!==f.snapMode&&(n=Math.abs(c-y)<=m,r=Math.abs(u-b)<=m,o=Math.abs(a-g)<=m,s=Math.abs(l-v)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),r&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[d].snapping&&(n||r||o||s||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=n||r||o||s||h):(p.snapElements[d].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=!1)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),r=e(this).data("ui-draggable").options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(e){function t(e,t,i){return e>t&&t+i>e}e.widget("ui.droppable",{version:"1.10.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];t<i.length;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))
},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,r=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,i,n){if(!i.offset)return!1;var r,o,s=(e.positionAbs||e.position.absolute).left,a=s+e.helperProportions.width,l=(e.positionAbs||e.position.absolute).top,c=l+e.helperProportions.height,u=i.offset.left,d=u+i.proportions.width,h=i.offset.top,p=h+i.proportions.height;switch(n){case"fit":return s>=u&&d>=a&&l>=h&&p>=c;case"intersect":return u<s+e.helperProportions.width/2&&a-e.helperProportions.width/2<d&&h<l+e.helperProportions.height/2&&c-e.helperProportions.height/2<p;case"pointer":return r=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,o=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(o,h,i.proportions.height)&&t(r,u,i.proportions.width);case"touch":return(l>=h&&p>=l||c>=h&&p>=c||h>l&&c>p)&&(s>=u&&d>=s||a>=u&&d>=a||u>s&&a>d);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||t&&!o[n].accept.call(o[n].element[0],t.currentItem||t.element))){for(r=0;r<a.length;r++)if(a[r]===o[n].element[0]){o[n].proportions.height=0;continue e}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===s&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions={width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,r,o,s=e.ui.intersect(t,this,this.options.tolerance),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===r}),o.length&&(n=e.data(o[0],"ui-droppable"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,r,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)n=e.trim(t[i]),o="ui-resizable-"+n,r=e("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:a.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(t){var i,n,r,o;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,r=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(i){var n,r,o,s=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=t(this.helper.css("left")),r=t(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i,n=this.helper,r={},o=this.originalMousePosition,s=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,d=t.pageX-o.left||0,h=t.pageY-o.top||0,p=this._change[s];return p?(i=p.apply(this,[t,d,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==a&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==u&&(r.height=this.size.height+"px"),n.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,r,o,s,a,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&e.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,o=n?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,r,o,s,a=this.options;s={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),r>s.minHeight&&(s.minHeight=r),n<s.maxWidth&&(s.maxWidth=n),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=i(e.width)&&t.minWidth&&t.minWidth>e.width,a=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(n),d=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),a&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),s&&u&&(e.left=l-t.minWidth),r&&u&&(e.left=l-t.maxWidth),a&&d&&(e.top=c-t.minHeight),o&&d&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,r,o=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(r=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],n=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);r.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&e.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,n,r,o,s,a,l,c=e(this).data("ui-resizable"),u=c.options,d=c.element,h=u.containment,p=h instanceof e?h.get(0):/parent/.test(h)?d.parent().get(0):h;p&&(c.containerElement=e(p),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(p),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=t(i.css("padding"+r))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},r=c.containerOffset,o=c.containerSize.height,s=c.containerSize.width,a=e.ui.hasScroll(p,"left")?p.scrollWidth:s,l=e.ui.hasScroll(p)?p.scrollHeight:o,c.parentData={element:p,left:r.left,top:r.top,width:a,height:l}))},resize:function(t){var i,n,r,o,s=e(this).data("ui-resizable"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||t.shiftKey,d={top:0,left:0},h=s.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),u&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?l.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,i=Math.abs((s._helper?s.offset.left-d.left:s.offset.left-d.left)+s.sizeDiff.width),n=Math.abs((s._helper?s.offset.top-d.top:s.offset.top-l.top)+s.sizeDiff.height),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o&&(i-=s.parentData.left),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,u&&(s.size.height=s.size.width/s.aspectRatio)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,u&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,r=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-r.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-r.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("ui-resizable"),r=n.options,o=n.originalSize,s=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0},l=function(t,n){e(t).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),o={},s=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var i=(r[t]||0)+(a[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,r=t.originalSize,o=t.originalPosition,s=t.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,c=a[1]||1,u=Math.round((n.width-r.width)/l)*l,d=Math.round((n.height-r.height)/c)*c,h=r.width+u,p=r.height+d,f=i.maxWidth&&i.maxWidth<h,m=i.maxHeight&&i.maxHeight<p,g=i.minWidth&&i.minWidth>h,v=i.minHeight&&i.minHeight>p;i.grid=a,g&&(h+=l),v&&(p+=c),f&&(h-=l),m&&(p-=c),/^(se|s|e)$/.test(s)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(s)?(t.size.width=h,t.size.height=p,t.position.top=o.top-d):/^(sw)$/.test(s)?(t.size.width=h,t.size.height=p,t.position.left=o.left-u):(t.size.width=h,t.size.height=p,t.position.top=o.top-d,t.position.left=o.left-u)}})}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,r=e.data(this,"selectable-item");return r?(n=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),r.unselecting=!n,r.selecting=n,r.selected=n,n?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,r=this.options,o=this.opos[0],s=this.opos[1],a=t.pageX,l=t.pageY;return o>a&&(i=a,a=o,o=i),s>l&&(i=l,l=s,s=i),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===r.tolerance?c=!(i.left>a||i.right<o||i.top>l||i.bottom<s):"fit"===r.tolerance&&(c=i.left>o&&i.right<a&&i.top>s&&i.bottom<l),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){function t(e,t,i){return e>t&&t+i>e}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(n=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(n=e(t.target)),n?!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,n){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-e(document).scrollTop()<s.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed)),t.pageX-e(document).scrollLeft()<s.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this
},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d=n+c>a&&l>n+c&&t+u>o&&s>t+u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=i&&n,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(e){var i=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:r&&("down"===r&&i||"up"===r&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,r,o,s=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(r=e(l[i]),n=r.length-1;n>=0;n--)o=e.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(function(){s.push(this)});return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,r,o,s,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(r=e(h[i]),n=r.length-1;n>=0;n--)o=e.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(i=d.length-1;i>=0;i--)for(s=d[i][1],a=d[i][0],n=0,c=a.length;c>n;n++)l=e(a[n]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),r=e(t.document[0].createElement(n)).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?r.append("<td colspan='99'>&#160;</td>"):"img"===n&&r.attr("src",t.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(e,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(n){var r,o,s,a,l,c,u,d,h,p,f=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&e.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",n,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(s=1e4,a=null,p=f.floating||i(this.currentItem),l=p?"left":"top",c=p?"width":"height",u=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)e.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||t(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(d=this.items[o].item.offset()[l],h=!1,Math.abs(d-u)>Math.abs(d+this.items[o][c]-u)&&(h=!0,d+=this.items[o][c]),Math.abs(d-u)<s&&(s=Math.abs(d-u),a=this.items[o],this.direction=h?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(n,a,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],i=e(r.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(t){var i,n,r=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var i="ui-effects-";e.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(e,t){function i(e,t,i){var n=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=c(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,r){var o,s=r.re.exec(t),a=s&&r.parse(s),l=r.space||"rgba";return a?(o=i[l](a),i[u[l].cache]=o[u[l].cache],n=i._rgba=o._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,o.transparent),i):o[t]}function r(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(r,s,a,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(s),s=t);var d=this,h=e.type(r),p=this._rgba=[];return s!==t&&(r=[r,s,a,l],h="array"),"string"===h?this.parse(n(r)||o._default):"array"===h?(f(u.rgba.props,function(e,t){p[t.idx]=i(r[t.idx],t)}),this):"object"===h?(r instanceof c?f(u,function(e,t){r[t.cache]&&(d[t.cache]=r[t.cache].slice())}):f(u,function(t,n){var o=n.cache;f(n.props,function(e,t){if(!d[o]&&n.to){if("alpha"===e||null==r[e])return;d[o]=n.to(d._rgba)}d[o][t.idx]=i(r[e],t,!0)}),d[o]&&e.inArray(null,d[o].slice(0,3))<0&&(d[o][3]=1,n.from&&(d._rgba=n.from(d[o])))}),this):void 0},is:function(e){var t=c(e),i=!0,n=this;return f(u,function(e,r){var o,s=t[r.cache];return s&&(o=n[r.cache]||r.to&&r.to(n._rgba)||[],f(r.props,function(e,t){return null!=s[t.idx]?i=s[t.idx]===o[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return f(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=c(e),r=n._space(),o=u[r],s=0===this.alpha()?c("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return n=n[o.cache],f(o.props,function(e,r){var o=r.idx,s=a[o],c=n[o],u=d[r.type]||{};null!==c&&(null===s?l[o]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[o]=i((c-s)*t+s,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=c(t)._rgba;return c(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,s=e[3],a=Math.max(n,r,o),l=Math.min(n,r,o),c=a-l,u=a+l,d=.5*u;return t=l===a?0:n===a?60*(r-o)/c+360:r===a?60*(o-n)/c+120:60*(n-r)/c+240,i=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(t)%360,i,d,null==s?1:s]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],s=.5>=n?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*r(a,s,t+1/3)),Math.round(255*r(a,s,t)),Math.round(255*r(a,s,t-1/3)),o]},f(u,function(n,r){var o=r.props,s=r.cache,l=r.to,u=r.from;c.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===t)return this[s].slice();var r,a=e.type(n),d="array"===a||"object"===a?n:arguments,h=this[s].slice();return f(o,function(e,t){var n=d["object"===a?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),u?(r=c(u(h)),r[s]=h,r):c(h)},f(o,function(t,i){c.fn[t]||(c.fn[t]=function(r){var o,s=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=e.type(r)),null==r&&i.empty?this:("string"===s&&(o=a.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[i.idx]=r,this[l](c)))})})}),c.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,r){var o,s,a="";if("transparent"!==r&&("string"!==e.type(r)||(o=n(r)))){if(r=c(o||r),!h.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=c(t.elem,i),t.end=c(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(s),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(t){var i,n,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(o[e.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(o[i]=r[i]);return o}function n(t,i){var n,r,s={};for(n in i)r=i[n],t[n]!==r&&(o[n]||(e.fx.step[n]||!isNaN(parseFloat(r)))&&(s[n]=r));return s}var r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,o,s,a){var l=e.speed(o,s,a);return this.queue(function(){var o,s=e(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var t=e(this);return{el:t,start:i(this)}}),o=function(){e.each(r,function(e,i){t[i]&&s[i+"Class"](t[i])})},o(),c=c.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(i,n,r,o){return n?e.effects.animateClass.call(this,{add:i},n,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(i){return function(n,r,o,s,a){return"boolean"==typeof r||r===t?o?e.effects.animateClass.call(this,r?{add:n}:{remove:n},o,s,a):i.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},r,o,s)}}(e.fn.toggleClass),switchClass:function(t,i,n,r,o){return e.effects.animateClass.call(this,{add:i,remove:t},n,r,o)}})}(),function(){function n(t,i,n,r){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(r=n,n=i,i={}),e.isFunction(n)&&(r=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=r||i.complete,t}function r(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.10.2",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data(i+t[n],e[0].style[t[n]])},restore:function(e,n){var r,o;for(o=0;o<n.length;o++)null!==n[o]&&(r=e.data(i+n[o]),r===t&&(r=""),e.css(n[o],r))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(s){o=document.body}return t.wrap(n),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,r){return r=r||{},e.each(i,function(e,i){var o=t.cssUnit(i);o[0]>0&&(r[i]=o[0]*n+o[1])}),r}}),e.fn.extend({effect:function(){function t(t){function n(){e.isFunction(o)&&o.call(r[0]),e.isFunction(t)&&t()}var r=e(this),o=i.complete,a=i.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),n()):s.call(r[0],i,n)}var i=n.apply(this,arguments),r=i.mode,o=i.queue,s=e.effects.effect[i.effect];return e.fx.off||!s?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(t):this.queue(o||"fx",t)},show:function(e){return function(t){if(r(t))return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(t){if(r(t))return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(t){if(r(t)||"boolean"==typeof t)return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(jQuery),function(e){var t=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,r=this.headers.index(t.target),o=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(r+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(r-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),(t.active===!1&&t.collapsible===!0||!this.headers.length)&&(t.active=!1,this.active=e()),t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,n=this.options,r=n.heightStyle,o=this.element.parent(),s=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),n=i.attr("id"),r=i.next(),o=r.attr("id");n||(n=s+"-header-"+t,i.attr("id",n)),o||(o=s+"-panel-"+t,r.attr("id",o)),i.attr("aria-controls",o),r.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===r?(i=o.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===r&&(i=0,this.headers.next().each(function(){i=Math.max(i,e(this).css("height","").height())}).height(i))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,r=e(t.currentTarget),o=r[0]===n[0],s=o&&i.collapsible,a=s?e():r.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:s?e():r,newPanel:a};t.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=s?!1:this.headers.index(r),this.active=o?e():r,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,r){var o,s,a,l=this,c=0,u=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},h=u&&d.down||d,p=function(){l._toggleComplete(r)};return"number"==typeof h&&(a=h),"string"==typeof h&&(s=h),s=s||h.easing||d.easing,a=a||h.duration||d.duration,t.length?e.length?(o=e.show().outerHeight(),t.animate(i,{duration:a,easing:s,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(n,{duration:a,easing:s,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(o-t.outerHeight()-c),c=0)}}),void 0):t.animate(i,a,s,p):e.animate(n,a,s,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.10.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,n,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o?!0:s?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,n=!0,i=!0,void 0;t=!1,n=!1,i=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:i=!0,this._searchTimeout(r)}},keypress:function(n){if(t)return t=!1,n.preventDefault(),void 0;if(!i){var r=e.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:this._move("previousPage",n);break;case r.PAGE_DOWN:this._move("nextPage",n);break;case r.UP:this._keyEvent("previous",n);break;case r.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:e(),role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0;var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,r){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,i=++t;return function(n){i===t&&e.__response(n),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t,i,n,r,o="ui-button ui-widget ui-state-default ui-corner-all",s="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var i=t.name,n=t.form,r=e([]);return i&&(i=i.replace(/'/g,"\\'"),r=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.10.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var s=this,a=this.options,u="checkbox"===this.type||"radio"===this.type,d=u?"":"ui-state-active",h="ui-state-focus";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||e(this).removeClass(d)}).bind("click"+this.eventNamespace,function(e){a.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){s.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){s.buttonElement.removeClass(h)}),u&&(this.element.bind("change"+this.eventNamespace,function(){r||s.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){a.disabled||(r=!1,i=e.pageX,n=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){a.disabled||(i!==e.pageX||n!==e.pageY)&&(r=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled||r?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||r)return!1;e(this).addClass("ui-state-active"),s.buttonElement.attr("aria-pressed","true");var t=s.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(e(this).addClass("ui-state-active"),t=this,s.document.one("mouseup",function(){t=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return a.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+s+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")
},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(a),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,r=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(o.inline?t.parent()[0]:o.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function r(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.extend(e.ui,{datepicker:{version:"1.10.2"}});var o,s="datepicker",a=(new Date).getTime();e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,r,o;n=t.nodeName.toLowerCase(),r="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),r),o.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,s,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,r,o,s=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[a?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(r=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r)),t[a?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,r,o=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(i=0,n=0,r=0;r<e.length;r++)e[r].length>i&&(i=e[r].length,n=r);return n},o.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,s,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,o,a){var l,c,u,d,h,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],s,p)),r(p.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+d,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],s,p),this},_destroyDatepicker:function(t){var i,n=e(t),r=e.data(t,s);n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,s),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,n,r=e(t),o=e.data(t,s);r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,r=e(t),o=e.data(t,s);r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,s)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,o){var s,a,l,c,u=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null:(s=n||{},"string"==typeof n&&(s={},s[n]=o),u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),r(u.settings,s),null!==l&&s.dateFormat!==t&&s.minDate===t&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&s.dateFormat!==t&&s.maxDate===t&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in s&&(s.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,r,o=e.datepicker._getInst(t.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),r[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]),i=e.datepicker._get(o,"onSelect"),i?(n=e.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(r){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,o,s,a,l,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),o=n?n.apply(t,[t,i]):{},o!==!1&&(r(i.settings,o),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each(function(){return s|="fixed"===e(this).css("position"),!s}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),a=e.datepicker._checkOffset(i,a,s),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),c=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,o=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(t),r=n[1],s=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!==document.activeElement&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(t,i,n){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?r-s:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+a?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+a):0),i},_findPos:function(t){for(var i,n=this._getInst(t),r=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,r,o,a=this._curInst;!a||t&&a!==e.data(t,s)||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),r=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[i]||e.effects[i])?a.dpDiv.hide(i,e.datepicker._get(a,"showOptions"),n,r):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var r=e(t),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(t){var i,n=e(t),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(t,i,n,r){var o,s=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=e("a",r).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,r=e(t),o=this._getInst(r[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,r,o=this._get(t,"altField");o&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),r=this.formatDate(i,n,this._getFormatConfig(t)),e(o).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var r,o,s,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,h=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,w=function(e){var i=r+1<t.length&&t.charAt(r+1)===e;return i&&r++,i},x=function(e){var t=w(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r=new RegExp("^\\d{1,"+n+"}"),o=i.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},_=function(t,n,r){var o=-1,s=e.map(w(t)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(o=t[0],l+=n.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},$=function(){if(i.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(b)"'"!==t.charAt(r)||w("'")?$():b=!1;else switch(t.charAt(r)){case"d":v=x("d");break;case"D":_("D",d,h);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=_("M",p,f);break;case"y":m=x("y");break;case"@":a=new Date(x("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((x("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?$():b=!0;break;default:$()}if(l<i.length&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(o=this._getDaysInMonth(m,g-1),o>=v)break;g++,v-=o}if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},d="",h=!1;if(t)for(n=0;n<e.length;n++)if(h)"'"!==e.charAt(n)||l("'")?d+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),r,o);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),s,a);break;case"y":d+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(n)}return d},_possibleChars:function(e){var t,i="",n=!1,r=function(i){var n=t+1<e.length&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;t<e.length;t++)if(n)"'"!==e.charAt(t)||r("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,s=this._getFormatConfig(e);try{o=this.parseDate(i,n,s)||r}catch(a){n=t?"":n}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=n?o.getDate():0,e.currentMonth=n?o.getMonth():0,e.currentYear=n?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var r=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,o=r.getFullYear(),s=r.getMonth(),a=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":s+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,s));break;case"y":case"Y":o+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,s))}c=l.exec(i)}return new Date(o,s,a)},s=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:r(i):new Date(i.getTime());return s=s&&"Invalid Date"===s.toString()?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,r=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+a].datepicker._adjustDate(n,-i,"M")},next:function(){window["DP_jQuery_"+a].datepicker._adjustDate(n,+i,"M")},hide:function(){window["DP_jQuery_"+a].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+a].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+a].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+a].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+a].datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,w,x,_,$,C,k,T,S,D,E,P,M,I,A,L,O,q,N,F,j,R=new Date,U=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),H=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),B=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),X=1!==V[0]||1!==V[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-Y,et=e.drawYear;if(0>Z&&(Z+=12,et--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-V[0]*V[1]+1,J.getDate())),t=K&&K>t?K:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=B?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-G,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>",r=this._get(e,"nextText"),r=B?this.formatDate(r,this._daylightSavingAdjust(new Date(et,Z+G,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>",s=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?Q:U,s=B?this.formatDate(s,a,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(H?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",_=0;_<V[0];_++){for($="",this.maxRows=4,C=0;C<V[1];C++){if(k=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),T=" ui-corner-all",S="",X){if(S+="<div class='ui-datepicker-group",V[1]>1)switch(C){case 0:S+=" ui-datepicker-group-first",T=" ui-corner-"+(H?"right":"left");break;case V[1]-1:S+=" ui-datepicker-group-last",T=" ui-corner-"+(H?"left":"right");break;default:S+=" ui-datepicker-group-middle",T=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===_?H?o:n:"")+(/all|right/.test(T)&&0===_?H?n:o:"")+this._generateMonthYearHeader(e,Z,et,K,J,_>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",D=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)E=(x+u)%7,D+="<th"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[E]+"'>"+p[E]+"</span></th>";for(S+=D+"</tr></thead><tbody>",P=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,P)),M=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((M+P)/7),A=X?this.maxRows>I?this.maxRows:I:I,this.maxRows=A,L=this._daylightSavingAdjust(new Date(et,Z,1-M)),O=0;A>O;O++){for(S+="<tr>",q=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(L)+"</td>":"",x=0;7>x;x++)N=g?g.apply(e.input?e.input[0]:null,[L]):[!0,""],F=L.getMonth()!==Z,j=F&&!y||!N[0]||K&&K>L||J&&L>J,q+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(L.getTime()===k.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===L.getTime()&&b.getTime()===k.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+N[1]+(L.getTime()===Q.getTime()?" "+this._currentClass:"")+(L.getTime()===U.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===U.getTime()?" ui-state-highlight":"")+(L.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);
S+=q+"</tr>"}Z++,Z>11&&(Z=0,et++),S+="</tbody></table>"+(X?"</div>"+(V[0]>0&&C===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),$+=S}w+=$}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,i,n,r,o,s,a){var l,c,u,d,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!g)w+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=r&&r.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||u<=r.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!o&&g&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),r=e.drawMonth+("M"===i?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(n,r))+("D"===i?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,r,o)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=i&&i>t?i:t;return n&&r>n?n:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(i,n+(0>t?t:r[0]*r[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var i,n,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!s||t.getFullYear()>=s)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.2",window["DP_jQuery_"+a]=e}(jQuery),function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||e(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(r.focus(1),t.preventDefault()):(n.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,n){var r,o;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),r=n.click,n.click=function(){r.apply(t.element[0],arguments)},o={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(r))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(r,o){n.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,r=n.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,r){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(r))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(r,o){n.height=e(this).height(),n.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,t(o))}}).css("position",o)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(n){var r=this,o=!1,s={};e.each(n,function(e,n){r._setOption(e,n),e in t&&(o=!0),e in i&&(s[e]=n)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,t){var i,n,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=r.is(":data(ui-draggable)"),i&&!t&&r.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=r.is(":data(ui-resizable)"),n&&!t&&r.resizable("destroy"),n&&"string"==typeof t&&r.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){t._allowInteraction(n)||(n.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,n=[],r=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(r[e]=n[e],n[e]=t)}),i={my:n[0]+(r[0]<0?r[0]:"+"+r[0])+" "+n[1]+(r[1]<0?r[1]:"+"+r[1]),at:n.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})}(jQuery),function(e){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;e.effects.effect.blind=function(n,r){var o,s,a,l=e(this),c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(l,n.mode||"hide"),d=n.direction||"up",h=t.test(d),p=h?"height":"width",f=h?"top":"left",m=i.test(d),g={},v="show"===u;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),o=e.effects.createWrapper(l).css({overflow:"hidden"}),s=o[p](),a=parseFloat(o.css(f))||0,g[p]=v?s:0,m||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:s+a),v&&(o.css(p,0),m||o.css(f,a+s)),o.animate(g,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),r()}})}}(jQuery),function(e){e.effects.effect.bounce=function(t,i){var n,r,o,s=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"effect"),c="hide"===l,u="show"===l,d=t.direction||"up",h=t.distance,p=t.times||5,f=2*p+(u||c?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=s.queue(),w=b.length;for((u||c)&&a.push("opacity"),e.effects.save(s,a),s.show(),e.effects.createWrapper(s),h||(h=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,s.css("opacity",0).css(v,y?2*-h:2*h).animate(o,m,g)),c&&(h/=Math.pow(2,p-1)),o={},o[v]=0,n=0;p>n;n++)r={},r[v]=(y?"-=":"+=")+h,s.animate(r,m,g).animate(o,m,g),h=c?2*h:h/2;c&&(r={opacity:0},r[v]=(y?"-=":"+=")+h,s.animate(r,m,g)),s.queue(function(){c&&s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),i()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,f+1))),s.dequeue()}}(jQuery),function(e){e.effects.effect.clip=function(t,i){var n,r,o,s=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(s,t.mode||"hide"),c="show"===l,u=t.direction||"vertical",d="vertical"===u,h=d?"height":"width",p=d?"top":"left",f={};e.effects.save(s,a),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),r="IMG"===s[0].tagName?n:s,o=r[h](),c&&(r.css(h,0),r.css(p,o/2)),f[h]=c?o:0,f[p]=c?0:o/2,r.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||s.hide(),e.effects.restore(s,a),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e){e.effects.effect.drop=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(r,t.mode||"hide"),a="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:a?1:0};e.effects.save(r,o),r.show(),e.effects.createWrapper(r),n=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(c,"pos"===u?-n:n),d[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}})}}(jQuery),function(e){e.effects.effect.explode=function(t,i){function n(){b.push(this),b.length===d*h&&r()}function r(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var o,s,a,l,c,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/d),b=[];for(o=0;d>o;o++)for(l=g.top+o*y,u=o-(d-1)/2,s=0;h>s;s++)a=g.left+s*v,c=s-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(m?c*v:0),top:l+(m?u*y:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,n)}}(jQuery),function(e){e.effects.effect.fade=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(e){e.effects.effect.fold=function(t,i){var n,r,o=e(this),s=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"hide"),l="show"===a,c="hide"===a,u=t.size||15,d=/([0-9]+)%/.exec(u),h=!!t.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(o,s),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r=p?[n.width(),n.height()]:[n.height(),n.width()],d&&(u=parseInt(d[1],10)/100*r[c?0:1]),l&&n.css(h?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?r[0]:u,v[f[1]]=l?r[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()})}}(jQuery),function(e){e.effects.effect.highlight=function(t,i){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(n,t.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===o&&(s.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,r),i()}})}}(jQuery),function(e){e.effects.effect.pulsate=function(t,i){var n,r=e(this),o=e.effects.setMode(r,t.mode||"show"),s="show"===o,a="hide"===o,l=s||"hide"===o,c=2*(t.times||5)+(l?1:0),u=t.duration/c,d=0,h=r.queue(),p=h.length;for((s||!r.is(":visible"))&&(r.css("opacity",0).show(),d=1),n=1;c>n;n++)r.animate({opacity:d},u,t.easing),d=1-d;r.animate({opacity:d},u,t.easing),r.queue(function(){a&&r.hide(),i()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),r.dequeue()}}(jQuery),function(e){e.effects.effect.puff=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"hide"),o="hide"===r,s=parseInt(t.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:o?s:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),r=e.extend(!0,{},t),o=e.effects.setMode(n,t.mode||"effect"),s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),a=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),r.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)},e.effects.effect.size=function(t,i){var n,r,o,s=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(s,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=s.css("position"),y=f?a:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===t.mode&&"show"===p?(s.from=t.to||b,s.to=t.from||n):(s.from=t.from||("show"===p?b:n),s.to=t.to||("hide"===p?b:n)),o={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(y=y.concat(d),s.from=e.effects.setTransition(s,d,o.from.y,s.from),s.to=e.effects.setTransition(s,d,o.to.y,s.to)),o.from.x!==o.to.x&&(y=y.concat(h),s.from=e.effects.setTransition(s,h,o.from.x,s.from),s.to=e.effects.setTransition(s,h,o.to.x,s.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(y=y.concat(u).concat(c),s.from=e.effects.setTransition(s,u,o.from.y,s.from),s.to=e.effects.setTransition(s,u,o.to.y,s.to)),e.effects.save(s,y),s.show(),e.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),g&&(r=e.effects.getBaseline(g,n),s.from.top=(n.outerHeight-s.outerHeight())*r.y,s.from.left=(n.outerWidth-s.outerWidth())*r.x,s.to.top=(n.outerHeight-s.to.outerHeight)*r.y,s.to.left=(n.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),c=a.concat(d).concat(h),s.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,c),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=e.effects.setTransition(i,d,o.from.y,i.from),i.to=e.effects.setTransition(i,d,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=e.effects.setTransition(i,h,o.from.x,i.from),i.to=e.effects.setTransition(i,h,o.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,c)})})),s.animate(s.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),e.effects.restore(s,y),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):e.each(["top","left"],function(e,t){s.css(t,function(t,i){var n=parseInt(i,10),r=e?s.to.left:s.to.top;return"auto"===i?r+"px":n+r+"px"})})),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e){e.effects.effect.shake=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,d=Math.round(t.duration/u),h="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=r.queue(),y=v.length;for(e.effects.save(r,o),r.show(),e.effects.createWrapper(r),f[h]=(p?"-=":"+=")+l,m[h]=(p?"+=":"-=")+2*l,g[h]=(p?"-=":"+=")+2*l,r.animate(f,d,t.easing),n=1;c>n;n++)r.animate(m,d,t.easing).animate(g,d,t.easing);r.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===s&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),r.dequeue()}}(jQuery),function(e){e.effects.effect.slide=function(t,i){var n,r=e(this),o=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(r,t.mode||"show"),a="show"===s,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(r,o),r.show(),n=t.distance||r["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(c,u?isNaN(n)?"-"+n:-n:n),d[c]=(a?u?"+=":"-=":u?"-=":"+=")+n,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}})}}(jQuery),function(e){e.effects.effect.transfer=function(t,i){var n=e(this),r=e(t.to),o="fixed"===r.css("position"),s=e("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=n.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-a,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),i()})}}(jQuery),function(e){e.widget("ui.menu",{version:"1.10.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,o,s,a,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),o===r?s=!0:o=r+o,a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(t.keyCode),a=new RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",n.attr("id"))}),t=n.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]
},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,r,o,s,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=t.height(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,r;return this.active?(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n-r<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,n,r;return this.active?(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+r>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(e,t){function i(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function n(t,i){return parseInt(e.css(t,i),10)||0}function r(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,s=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var i,n,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),i=s.offsetWidth,r.css("overflow","scroll"),n=s.offsetWidth,i===n&&(n=r[0].clientWidth),r.remove(),o=i-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,o="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var o,p,m,g,v,y,b=e(t.of),w=e.position.getWithinInfo(t.within),x=e.position.getScrollInfo(w),_=(t.collision||"flip").split(" "),$={};return y=r(b),b[0].preventDefault&&(t.at="left top"),p=y.width,m=y.height,g=y.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",e=d.exec(n[0]),i=d.exec(n[1]),$[this]=[e?e[0]:0,i?i[0]:0],t[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===t.at[0]?v.left+=p:"center"===t.at[0]&&(v.left+=p/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),o=i($.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var r,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),f=n(this,"marginLeft"),y=n(this,"marginTop"),C=d+f+n(this,"marginRight")+x.width,k=h+y+n(this,"marginBottom")+x.height,T=e.extend({},v),S=i($.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?T.left-=d:"center"===t.my[0]&&(T.left-=d/2),"bottom"===t.my[1]?T.top-=h:"center"===t.my[1]&&(T.top-=h/2),T.left+=S[0],T.top+=S[1],e.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),r={marginLeft:f,marginTop:y},e.each(["left","top"],function(i,n){e.ui.position[_[i]]&&e.ui.position[_[i]][n](T,{targetWidth:p,targetHeight:m,elemWidth:d,elemHeight:h,collisionPosition:r,collisionWidth:C,collisionHeight:k,offset:[o[0]+S[0],o[1]+S[1]],my:t.my,at:t.at,within:w,elem:u})}),t.using&&(c=function(e){var i=g.left-T.left,n=i+p-d,r=g.top-T.top,o=r+m-h,l={target:{element:b,left:g.left,top:g.top,width:p,height:m},element:{element:u,left:T.left,top:T.top,width:d,height:h},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":r>0?"bottom":"middle"};d>p&&a(i+n)<p&&(l.horizontal="center"),h>m&&a(r+o)<m&&(l.vertical="middle"),l.important=s(a(i),a(n))>s(a(r),a(o))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(T,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=e.left-t.collisionPosition.marginLeft,l=r-a,c=a+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&0>=c?(i=e.left+l+t.collisionWidth-o-r,e.left+=l-i):e.left=c>0&&0>=l?r:l>c?r+o-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=s(e.left-a,e.left)},top:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,l=r-a,c=a+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&0>=c?(i=e.top+l+t.collisionHeight-o-r,e.top+=l-i):e.top=c>0&&0>=l?r:l>c?r+o-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=s(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+h+p+f+t.collisionWidth-s-o,(0>i||i<a(u))&&(e.left+=h+p+f)):d>0&&(n=e.left-t.collisionPosition.marginLeft+h+p+f-l,(n>0||a(n)<d)&&(e.left+=h+p+f))},top:function(e,t){var i,n,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-s-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(n=e.top+p+f+m+t.collisionHeight-s-o,e.top+p+f+m>u&&(0>n||n<a(u))&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>d&&(i>0||a(i)<d)&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(s?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)t.style[o]=n[o];t.appendChild(a),i=s||document.documentElement,i.insertBefore(t,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=e(a).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",i.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.10.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",s=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),t=r.length;i>t;t++)s.push(o);this.handles=r.add(e(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,r,o,s,a,l,c,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(r>i||r===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(r=i,o=e(this),s=t)}),a=this._start(t,s),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),l=o.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,r,o;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(r=this.values(),r[t]=i,o=this._trigger("slide",e,{handle:this.handles[t],value:i,values:r}),n=this.values(t?0:1),o!==!1&&this.values(t,i,!0))):i!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:i}),o!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var n,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,r=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,i){var n,r=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;r>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,r,o,s=this.options.range,a=this.options,l=this,c=this._animateOff?!1:a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?100*((n-r)/(o-r)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(i){var n,r,o,s,a=e(i.target).data("ui-slider-handle-index");switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(i.target).addClass("ui-state-active"),n=this._start(i,a),n===!1))return}switch(s=this.options.step,r=o=this.options.values&&this.options.values.length?this.values(a):this.value(),i.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;o=this._trimAlignValue(r+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;o=this._trimAlignValue(r-s)}this._slide(i,a,o)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var r=i.attr(n);void 0!==r&&r.length&&(t[n]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(t(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function i(){return++r}function n(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var r=0,o=/#.*$/;e.widget("ui.tabs",{version:"1.10.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,r){return e(r).attr("aria-controls")===n?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(n),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,r),t.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""
},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,r){var o,s,a,l=e(r).uniqueId().attr("id"),c=e(r).closest("li"),u=c.attr("aria-controls");n(r)?(o=r.hash,s=t.element.find(t._sanitizeSelector(o))):(a=t._tabId(c),o="#"+a,s=t.element.find(o),s.length||(s=t._createPanel(a),s.insertAfter(t.panels[i-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),s.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,r=e(t.currentTarget),o=r.closest("li"),s=o[0]===n[0],a=s&&i.collapsible,l=a?e():this._getPanelForTab(o),c=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:c,newTab:a?e():o,newPanel:l};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=a?!1:this.tabs.index(o),this.active=s?e():o,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),t),this._toggle(t,u))},_toggle:function(t,i){function n(){o.running=!1,o._trigger("activate",t,i)}function r(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,n):(s.show(),n())}var o=this,s=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),r()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),s.length&&a.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===t)n=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,n))return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var r=this,o=this.tabs.eq(t),s=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),l={tab:o,panel:a};n(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){a.html(e),r._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&r.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr},1)})))},_ajaxSettings:function(t,i,n){var r=this;return{url:t.attr("href"),beforeSend:function(t,o){return r._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:o},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(e){}(jQuery),//  * Copyright 2010, Dave Furfero
/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
window.matchMedia=window.matchMedia||function(e){"use strict";var t,i=e.documentElement,n=i.firstElementChild||i.firstChild,r=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(r,n),t=42===o.offsetWidth,i.removeChild(r),{matches:t,media:e}}}(document),window.Modernizr=function(e,t,i){function n(e){b.cssText=e}function r(e,t){return n($.join(e+";")+(t||""))}function o(e,t){return typeof e===t}function s(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var n in e){var r=e[n];if(!s(r,"-")&&b[r]!==i)return"pfx"==t?r:!0}return!1}function l(e,t,n){for(var r in e){var s=t[e[r]];if(s!==i)return n===!1?e[r]:o(s,"function")?s.bind(n||t):s}return!1}function c(e,t,i){var n=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+k.join(n+" ")+n).split(" ");return o(t,"string")||o(t,"undefined")?a(r,t):(r=(e+" "+T.join(n+" ")+n).split(" "),l(r,t,i))}function u(){f.input=function(i){for(var n=0,r=i.length;r>n;n++)P[i[n]]=i[n]in w;return P.list&&(P.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),P}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(e){for(var n,r,o,s=0,a=e.length;a>s;s++)w.setAttribute("type",r=e[s]),n="text"!==w.type,n&&(w.value=x,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&w.style.WebkitAppearance!==i?(g.appendChild(w),o=t.defaultView,n=o.getComputedStyle&&"textfield"!==o.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,g.removeChild(w)):/^(search|tel)$/.test(r)||(n=/^(url|email)$/.test(r)?w.checkValidity&&w.checkValidity()===!1:w.value!=x)),E[e[s]]=!!n;return E}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,h,p="2.6.1",f={},m=!0,g=t.documentElement,v="modernizr",y=t.createElement(v),b=y.style,w=t.createElement("input"),x=":)",_={}.toString,$=" -webkit- -moz- -o- -ms- ".split(" "),C="Webkit Moz O ms",k=C.split(" "),T=C.toLowerCase().split(" "),S={svg:"http://www.w3.org/2000/svg"},D={},E={},P={},M=[],I=M.slice,A=function(e,i,n,r){var o,s,a,l=t.createElement("div"),c=t.body,u=c?c:t.createElement("body");if(parseInt(n,10))for(;n--;)a=t.createElement("div"),a.id=r?r[n]:v+(n+1),l.appendChild(a);return o=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),l.id=v,(c?l:u).innerHTML+=o,u.appendChild(l),c||(u.style.background="",g.appendChild(u)),s=i(l,e),c?l.parentNode.removeChild(l):u.parentNode.removeChild(u),!!s},L=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t).matches;var n;return A("@media "+t+" { #"+v+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},O=function(){function e(e,r){r=r||t.createElement(n[e]||"div"),e="on"+e;var s=e in r;return s||(r.setAttribute||(r=t.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(e,""),s=o(r[e],"function"),o(r[e],"undefined")||(r[e]=i),r.removeAttribute(e))),r=null,s}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),q={}.hasOwnProperty;h=o(q,"undefined")||o(q.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return q.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=I.call(arguments,1),n=function(){if(this instanceof n){var r=function(){};r.prototype=t.prototype;var o=new r,s=t.apply(o,i.concat(I.call(arguments)));return Object(s)===s?s:o}return t.apply(e,i.concat(I.call(arguments)))};return n}),D.flexbox=function(){return c("flexWrap")},D.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},D.canvastext=function(){return!!f.canvas&&!!o(t.createElement("canvas").getContext("2d").fillText,"function")},D.webgl=function(){return!!e.WebGLRenderingContext},D.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:A(["@media (",$.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i},D.geolocation=function(){return"geolocation"in navigator},D.postmessage=function(){return!!e.postMessage},D.websqldatabase=function(){return!!e.openDatabase},D.indexedDB=function(){return!!c("indexedDB",e)},D.hashchange=function(){return O("hashchange",e)&&(t.documentMode===i||t.documentMode>7)},D.history=function(){return!!e.history&&!!history.pushState},D.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},D.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},D.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),s(b.backgroundColor,"rgba")},D.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),s(b.backgroundColor,"rgba")||s(b.backgroundColor,"hsla")},D.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},D.backgroundsize=function(){return c("backgroundSize")},D.borderimage=function(){return c("borderImage")},D.borderradius=function(){return c("borderRadius")},D.boxshadow=function(){return c("boxShadow")},D.textshadow=function(){return""===t.createElement("div").style.textShadow},D.opacity=function(){return r("opacity:.55"),/^0.55$/.test(b.opacity)},D.cssanimations=function(){return c("animationName")},D.csscolumns=function(){return c("columnCount")},D.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return n((e+"-webkit- ".split(" ").join(t+e)+$.join(i+e)).slice(0,-e.length)),s(b.backgroundImage,"gradient")},D.cssreflections=function(){return c("boxReflect")},D.csstransforms=function(){return!!c("transform")},D.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in g.style&&A("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},D.csstransitions=function(){return c("transition")},D.fontface=function(){var e;return A('@font-face {font-family:"font";src:url("https://")}',function(i,n){var r=t.getElementById("smodernizr"),o=r.sheet||r.styleSheet,s=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(s)&&0===s.indexOf(n.split(" ")[0])}),e},D.generatedcontent=function(){var e;return A(['#modernizr:after{content:"',x,'";visibility:hidden}'].join(""),function(t){e=t.offsetHeight>=1}),e},D.video=function(){var e=t.createElement("video"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return i},D.audio=function(){var e=t.createElement("audio"),i=!1;try{(i=!!e.canPlayType)&&(i=new Boolean(i),i.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return i},D.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},D.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},D.webworkers=function(){return!!e.Worker},D.applicationcache=function(){return!!e.applicationCache},D.svg=function(){return!!t.createElementNS&&!!t.createElementNS(S.svg,"svg").createSVGRect},D.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==S.svg},D.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(_.call(t.createElementNS(S.svg,"animate")))},D.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(_.call(t.createElementNS(S.svg,"clipPath")))};for(var N in D)h(D,N)&&(d=N.toLowerCase(),f[d]=D[N](),M.push((f[d]?"":"no-")+d));return f.input||u(),f.addTest=function(e,t){if("object"==typeof e)for(var n in e)h(e,n)&&f.addTest(n,e[n]);else{if(e=e.toLowerCase(),f[e]!==i)return f;t="function"==typeof t?t():t,m&&(g.className+=" "+(t?"":"no-")+e),f[e]=t}return f},n(""),y=w=null,function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=g[e[f]];return t||(t={},m++,e[f]=m,g[m]=t),t}function o(e,i,n){if(i||(i=t),u)return i.createElement(e);n||(n=r(i));var o;return o=n.cache[e]?n.cache[e].cloneNode():p.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),o.canHaveChildren&&!h.test(e)?n.frag.appendChild(o):o}function s(e,i){if(e||(e=t),u)return e.createDocumentFragment();i=i||r(e);for(var o=i.frag.cloneNode(),s=0,a=n(),l=a.length;l>s;s++)o.createElement(a[s]);return o}function a(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return v.shivMethods?o(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function l(e){e||(e=t);var n=r(e);return v.shivCSS&&!c&&!n.hasCSS&&(n.hasCSS=!!i(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),u||a(e,n),e}var c,u,d=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,f="_html5shiv",m=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(i){c=!0,u=!0}}();var v={elements:d.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:d.shivCSS!==!1,supportsUnknownElements:u,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:s};e.html5=v,l(t)}(this,t),f._version=p,f._prefixes=$,f._domPrefixes=T,f._cssomPrefixes=k,f.mq=L,f.hasEvent=O,f.testProp=function(e){return a([e])},f.testAllProps=c,f.testStyles=A,f.prefixed=function(e,t,i){return t?c(e,t,i):c(e,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+M.join(" "):""),f}(this,this.document),function(e,t,i){function n(e){return"[object Function]"==g.call(e)}function r(e){return"string"==typeof e}function o(){}function s(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function a(){var e=v.shift();y=1,e?e.t?f(function(){("c"==e.t?h.injectCss:h.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),a()):y=0}function l(e,i,n,r,o,l,c){function u(t){if(!p&&s(d.readyState)&&(b.r=p=1,!y&&a(),d.onload=d.onreadystatechange=null,t)){"img"!=e&&f(function(){x.removeChild(d)},50);for(var n in T[i])T[i].hasOwnProperty(n)&&T[i][n].onload()}}var c=c||h.errorTimeout,d={},p=0,g=0,b={t:n,s:i,e:o,a:l,x:c};1===T[i]&&(g=1,T[i]=[],d=t.createElement(e)),"object"==e?d.data=i:(d.src=i,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,g)},v.splice(r,0,b),"img"!=e&&(g||2===T[i]?(x.insertBefore(d,w?null:m),f(u,c)):T[i].push(d))}function c(e,t,i,n,o){return y=0,t=t||"j",r(e)?l("c"==t?$:_,e,t,this.i++,i,n,o):(v.splice(this.i++,0,e),1==v.length&&a()),this}function u(){var e=h;return e.loader={load:c,i:0},e}var d,h,p=t.documentElement,f=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in p.style,w=b&&!!t.createRange().compareNode,x=w?p:m.parentNode,p=e.opera&&"[object Opera]"==g.call(e.opera),p=!!t.attachEvent&&!p,_=b?"object":p?"script":"img",$=p?"script":_,C=Array.isArray||function(e){return"[object Array]"==g.call(e)},k=[],T={},S={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};h=function(e){function t(e){var t,i,n,e=e.split("!"),r=k.length,o=e.pop(),s=e.length,o={url:o,origUrl:o,prefixes:e};for(i=0;s>i;i++)n=e[i].split("="),(t=S[n.shift()])&&(o=t(o,n));for(i=0;r>i;i++)o=k[i](o);return o}function s(e,r,o,s,l){var c=t(e),d=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(r&&(r=n(r)?r:r[e]||r[s]||r[e.split("/").pop().split("?")[0]]||a),c.instead?c.instead(e,r,o,s,l):(T[c.url]?c.noexec=!0:T[c.url]=1,o.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":i,c.noexec,c.attrs,c.timeout),(n(r)||n(d))&&o.load(function(){u(),r&&r(c.origUrl,l,s),d&&d(c.origUrl,l,s),T[c.url]=2})))}function l(e,t){function i(e,i){if(e){if(r(e))i||(d=function(){var e=[].slice.call(arguments);h.apply(this,e),p()}),s(e,d,t,0,c);else if(Object(e)===e)for(l in a=function(){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(),e)e.hasOwnProperty(l)&&(!i&&!--a&&(n(d)?d=function(){var e=[].slice.call(arguments);h.apply(this,e),p()}:d[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),p()}}(h[l])),s(e[l],d,t,l,c))}else!i&&p()}var a,l,c=!!e.test,u=e.load||e.both,d=e.callback||o,h=d,p=e.complete||o;i(c?e.yep:e.nope,!!u),u&&i(u)}var c,d,p=this.yepnope.loader;if(r(e))s(e,0,p,0);else if(C(e))for(c=0;c<e.length;c++)d=e[c],r(d)?s(d,0,p,0):C(d)?h(d):Object(d)===d&&l(d,p);else Object(e)===e&&l(e,p)},h.addPrefix=function(e,t){S[e]=t},h.addFilter=function(e){k.push(e)},h.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=a,e.yepnope.injectJs=function(e,i,n,r,l,c){var u,d,p=t.createElement("script"),r=r||h.errorTimeout;p.src=e;for(d in n)p.setAttribute(d,n[d]);i=c?a:i||o,p.onreadystatechange=p.onload=function(){!u&&s(p.readyState)&&(u=1,i(),p.onload=p.onreadystatechange=null)},f(function(){u||(u=1,i(1))},r),l?p.onload():m.parentNode.insertBefore(p,m)},e.yepnope.injectCss=function(e,i,n,r,s,l){var c,r=t.createElement("link"),i=l?a:i||o;r.href=e,r.rel="stylesheet",r.type="text/css";for(c in n)r.setAttribute(c,n[c]);s||(m.parentNode.insertBefore(r,m),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("pointerevents",function(){var e,t=document.createElement("x"),i=document.documentElement,n=window.getComputedStyle;return"pointerEvents"in t.style?(t.style.pointerEvents="auto",t.style.pointerEvents="x",i.appendChild(t),e=n&&"auto"===n(t,"").pointerEvents,i.removeChild(t),!!e):!1}),function(e){function t(e,t){return function(i){return l(e.call(this,i),t)}}function i(e){return function(t){return this.lang().ordinal(e.call(this,t))}}function n(){}function r(e){s(this,e)}function o(e){var t=this._data={},i=e.years||e.year||e.y||0,n=e.months||e.month||e.M||0,r=e.weeks||e.week||e.w||0,o=e.days||e.day||e.d||0,s=e.hours||e.hour||e.h||0,l=e.minutes||e.minute||e.m||0,c=e.seconds||e.second||e.s||0,u=e.milliseconds||e.millisecond||e.ms||0;this._milliseconds=u+1e3*c+6e4*l+36e5*s,this._days=o+7*r,this._months=n+12*i,t.milliseconds=u%1e3,c+=a(u/1e3),t.seconds=c%60,l+=a(c/60),t.minutes=l%60,s+=a(l/60),t.hours=s%24,o+=a(s/24),o+=7*r,t.days=o%30,n+=a(o/30),t.months=n%12,i+=a(n/12),t.years=i}function s(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function a(e){return 0>e?Math.ceil(e):Math.floor(e)}function l(e,t){for(var i=e+"";i.length<t;)i="0"+i;return i}function c(e,t,i){var n,r=t._milliseconds,o=t._days,s=t._months;r&&e._d.setTime(+e+r*i),o&&e.date(e.date()+o*i),s&&(n=e.date(),e.date(1).month(e.month()+s*i).date(Math.min(n,e.daysInMonth())))}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e,t){var i,n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0;for(i=0;n>i;i++)~~e[i]!==~~t[i]&&o++;return o+r}function h(e,t){return t.abbr=e,O[e]||(O[e]=new n),O[e].set(t),O[e]}function p(e){return e?(!O[e]&&q&&require("./lang/"+e),O[e]):M.fn._lang}function f(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function m(e){var t,i,n=e.match(F);for(t=0,i=n.length;i>t;t++)n[t]=rt[n[t]]?rt[n[t]]:f(n[t]);return function(r){var o="";for(t=0;i>t;t++)o+="function"==typeof n[t].call?n[t].call(r,e):n[t];return o}}function g(e,t){function i(t){return e.lang().longDateFormat(t)||t}for(var n=5;n--&&j.test(t);)t=t.replace(j,i);return tt[t]||(tt[t]=m(t)),tt[t](e)}function v(e){switch(e){case"DDDD":return H;case"YYYY":return z;case"YYYYY":return W;case"S":case"SS":case"SSS":case"DDD":return U;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return B;case"X":return G;case"Z":case"ZZ":return V;case"T":return Y;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return R;default:return new RegExp(e.replace("\\",""))}}function y(e,t,i){var n,r=i._a;switch(e){case"M":case"MM":r[1]=null==t?0:~~t-1;break;case"MMM":case"MMMM":n=p(i._l).monthsParse(t),null!=n?r[1]=n:i._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=t&&(r[2]=~~t);break;case"YY":r[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~t;break;case"a":case"A":i._isPm="pm"===(t+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":r[3]=~~t;break;case"m":case"mm":r[4]=~~t;break;case"s":case"ss":r[5]=~~t;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+t));break;case"X":i._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":i._useUTC=!0,n=(t+"").match(J),n&&n[1]&&(i._tzh=~~n[1]),n&&n[2]&&(i._tzm=~~n[2]),n&&"+"===n[0]&&(i._tzh=-i._tzh,i._tzm=-i._tzm)}null==t&&(i._isValid=!1)}function b(e){var t,i,n=[];if(!e._d){for(t=0;7>t;t++)e._a[t]=n[t]=null==e._a[t]?2===t?1:0:e._a[t];n[3]+=e._tzh||0,n[4]+=e._tzm||0,i=new Date(0),e._useUTC?(i.setUTCFullYear(n[0],n[1],n[2]),i.setUTCHours(n[3],n[4],n[5],n[6])):(i.setFullYear(n[0],n[1],n[2]),i.setHours(n[3],n[4],n[5],n[6])),e._d=i}}function w(e){var t,i,n=e._f.match(F),r=e._i;for(e._a=[],t=0;t<n.length;t++)i=(v(n[t]).exec(r)||[])[0],i&&(r=r.slice(r.indexOf(i)+i.length)),rt[n[t]]&&y(n[t],i,e);e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&12===e._a[3]&&(e._a[3]=0),b(e)}function x(e){for(var t,i,n,o,a=99;e._f.length;){if(t=s({},e),t._f=e._f.pop(),w(t),i=new r(t),i.isValid()){n=i;break}o=d(t._a,i.toArray()),a>o&&(a=o,n=i)}s(e,n)}function _(e){var t,i=e._i;if(X.exec(i)){for(e._f="YYYY-MM-DDT",t=0;4>t;t++)if(K[t][1].exec(i)){e._f+=K[t][0];break}V.exec(i)&&(e._f+=" Z"),w(e)}else e._d=new Date(i)}function $(t){var i=t._i,n=N.exec(i);i===e?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof i?_(t):u(i)?(t._a=i.slice(0),b(t)):t._d=i instanceof Date?new Date(+i):new Date(i)}function C(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function k(e,t,i){var n=L(Math.abs(e)/1e3),r=L(n/60),o=L(r/60),s=L(o/24),a=L(s/365),l=45>n&&["s",n]||1===r&&["m"]||45>r&&["mm",r]||1===o&&["h"]||22>o&&["hh",o]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",L(s/30)]||1===a&&["y"]||["yy",a];return l[2]=t,l[3]=e>0,l[4]=i,C.apply({},l)}function T(e,t,i){var n=i-t,r=i-e.day();return r>n&&(r-=7),n-7>r&&(r+=7),Math.ceil(M(e).add("d",r).dayOfYear()/7)}function S(e){var t=e._i,i=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=p().preparse(t)),M.isMoment(t)?(e=s({},t),e._d=new Date(+t._d)):i?u(i)?x(e):w(e):$(e),new r(e))}function D(e,t){M.fn[e]=M.fn[e+"s"]=function(e){var i=this._isUTC?"UTC":"";return null!=e?(this._d["set"+i+t](e),this):this._d["get"+i+t]()}}function E(e){M.duration.fn[e]=function(){return this._data[e]}}function P(e,t){M.duration.fn["as"+e]=function(){return+this/t}}for(var M,I,A="2.0.0",L=Math.round,O={},q="undefined"!=typeof module&&module.exports,N=/^\/?Date\((\-?\d+)/i,F=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,R=/\d\d?/,U=/\d{1,3}/,H=/\d{3}/,z=/\d{1,4}/,W=/[+\-]?\d{1,6}/,B=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,V=/Z|[\+\-]\d\d:?\d\d/i,Y=/T/i,G=/[\+\-]?\d+(\.\d{1,3})?/,X=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Q="YYYY-MM-DDTHH:mm:ssZ",K=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],J=/([\+\-]|\d\d)/gi,Z="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),et={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},tt={},it="DDD w W M D d".split(" "),nt="M D H h m s w W".split(" "),rt={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(~~(e/60),2)+":"+l(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(~~(10*e/6),4)},X:function(){return this.unix()}};it.length;)I=it.pop(),rt[I+"o"]=i(rt[I]);for(;nt.length;)I=nt.pop(),rt[I+I]=t(rt[I],2);for(rt.DDDD=t(rt.DDD,3),n.prototype={set:function(e){var t,i;for(i in e)t=e[i],"function"==typeof t?this[i]=t:this["_"+i]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,i,n;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(i=M([2e3,t]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[t]=new RegExp(n.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},meridiem:function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var i=this._calendar[e];return"function"==typeof i?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,i,n){var r=this._relativeTime[i];return"function"==typeof r?r(e,t,i,n):r.replace(/%d/i,e)},pastFuture:function(e,t){var i=this._relativeTime[e>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return T(e,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},M=function(e,t,i){return S({_i:e,_f:t,_l:i,_isUTC:!1})},M.utc=function(e,t,i){return S({_useUTC:!0,_isUTC:!0,_l:i,_i:e,_f:t})},M.unix=function(e){return M(1e3*e)},M.duration=function(e,t){var i,n=M.isDuration(e),r="number"==typeof e,s=n?e._data:r?{}:e;return r&&(t?s[t]=e:s.milliseconds=e),i=new o(s),n&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},M.version=A,M.defaultFormat=Q,M.lang=function(e,t){return e?(t?h(e,t):O[e]||p(e),M.duration.fn._lang=M.fn._lang=p(e),void 0):M.fn._lang._abbr},M.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),p(e)},M.isMoment=function(e){return e instanceof r},M.isDuration=function(e){return e instanceof o},M.fn=r.prototype={clone:function(){return M(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return M.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?M.utc(this._a):M(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(e){var t=g(this,e||M.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var i;return i="string"==typeof e?M.duration(+t,e):M.duration(e,t),c(this,i,1),this},subtract:function(e,t){var i;return i="string"==typeof e?M.duration(+t,e):M.duration(e,t),c(this,i,-1),this},diff:function(e,t,i){var n,r,o=this._isUTC?M(e).utc():M(e).local(),s=6e4*(this.zone()-o.zone());return t&&(t=t.replace(/s$/,"")),"year"===t||"month"===t?(n=432e5*(this.daysInMonth()+o.daysInMonth()),r=12*(this.year()-o.year())+(this.month()-o.month()),r+=(this-M(this).startOf("month")-(o-M(o).startOf("month")))/n,"year"===t&&(r/=12)):(n=this-o-s,r="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?n/864e5:"week"===t?n/6048e5:n),i?r:a(r)},from:function(e,t){return M.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(M(),e)},calendar:function(){var e=this.diff(M().startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return 0===e%4&&0!==e%100||0===e%400},isDST:function(){return this.zone()<M([this.year()]).zone()||this.zone()<M([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?t:this.add({d:e-t})},startOf:function(e){switch(e=e.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.day(0),this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+M(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+M(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+M(e).startOf(t)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return M.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=L((M(this).startOf("day")-M(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},isoWeek:function(e){var t=T(this,1,4);return null==e?t:this.add("d",7*(e-t))},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},lang:function(t){return t===e?this._lang:(this._lang=p(t),this)}},I=0;I<Z.length;I++)D(Z[I].toLowerCase().replace(/s$/,""),Z[I]);D("year","FullYear"),M.fn.days=M.fn.day,M.fn.weeks=M.fn.week,M.fn.isoWeeks=M.fn.isoWeek,M.duration.fn=o.prototype={weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(e){var t=+this,i=k(t,!e,this.lang());return e&&(i=this.lang().pastFuture(t,i)),this.lang().postformat(i)},lang:M.fn.lang};for(I in et)et.hasOwnProperty(I)&&(P(I,et[I]),E(I.toLowerCase()));P("Weeks",6048e5),M.lang("en",{ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),q&&(module.exports=M),"undefined"==typeof ender&&(this.moment=M),"function"==typeof define&&define.amd&&define("moment",[],function(){return M})}.call(this),function(e){"use strict";e.fn.on_off=function(t){function i(){r.change&&r.change(r.value)}function n(){r.animating||("off"===r.value&&(s.animate({left:"42px"},250),a.animate({left:"0px"},250,function(){r.animating=!1,r.value="on",r.attr("data-value","on"),i()}),r.animating=!0),"on"===r.value&&(s.animate({left:"-5px"},250),a.animate({left:"-42px"},250,function(){r.animating=!1,r.value="off",r.attr("data-value","off"),i()}),r.animating=!0))}var r=this;if("string"==typeof t){var o=this.find(".on-off-container"),s=this.find(".thumb-on-off");if("forceOn"===t)return"off"===r.value&&n(),void 0;if("forceOff"===t)return"on"===r.value&&n(),void 0;if("toggle"===t)return n(),void 0;if("getValue"===t)return o.data("value")}r.value=t&&t.value||"on",r.change=t.change,r.css("display","inline-block"),r.css("width","70px"),r.css("height","24px"),r.css("position","relative");var o=e("<div></div>").addClass("on-off-container"),a=e("<div></div>").addClass("on-off-inner").css("left","-42px");o.append(a),r.append(o);var l=e("<div></div>").addClass("on").css("left","0px").html('<span class="on-off-label">On</span>'),c=e("<div></div>").addClass("off").css("left","42px").html('<span class="on-off-label">Off</span>'),s=e("<div></div>").addClass("thumb-on-off");a.append(l).append(c),r.append(s),"on"===r.value?(s.css("left","42px"),a.css("left","0px"),r.attr("data-value","on")):(s.css("left","-5px"),a.css("left","-42px"),r.attr("data-value","off")),r.on("click",function(){n()}),Modernizr.touch||s.draggable({axis:"x",containment:"parent",drag:function(){e(this).position().left<0&&e(this).css("left","0"),e(this).position().left>42&&e(this).css("left","42px"),"off"===r.value&&e(this).position().left<18&&(r.value="on"),"on"===r.value&&e(this).position().left>18&&(r.value="off"),a.css("left",e(this).position().left-42+"px")},stop:function(){n()}}),Modernizr.touch&&(Hammer(s).on("drag",function(){e(this).position().left<0&&e(this).css("left","0"),e(this).position().left>42&&e(this).css("left","42px"),a.css("left",e(this).position().left-42+"px")}),Hammer(s).on("dragend",function(){n()}))}}(jQuery),function(e){e.extend(e,{placeholder:{browser_supported:function(){return void 0!==this._supported?this._supported:this._supported=!!("placeholder"in e('<input type="text">')[0])},shim:function(t){var i={color:"#888",cls:"placeholder",selector:"input[placeholder], textarea[placeholder]"};e.extend(i,t),!this.browser_supported()&&e(i.selector)._placeholder_shim(i)}}}),e.extend(e.fn,{_placeholder_shim:function(t){function i(t){var i=e(t).offsetParent().offset(),n=e(t).offset();return{top:n.top-i.top,left:n.left-i.left,width:e(t).width()}}return this.each(function(){var n=e(this);if(n.data("placeholder")){var r=n.data("placeholder");return r.css(i(n)),!0}var o={};n.is("textarea")||"auto"==n.css("height")||(o={lineHeight:n.css("height"),whiteSpace:"nowrap"});
var s=e("<label />").text(n.attr("placeholder")).addClass(t.cls).css(e.extend({position:"absolute",display:"inline","float":"none",overflow:"hidden",textAlign:"left",color:t.color,cursor:"text",paddingTop:n.css("padding-top"),paddingRight:n.css("padding-right"),paddingBottom:n.css("padding-bottom"),paddingLeft:n.css("padding-left"),fontSize:n.css("font-size"),fontFamily:n.css("font-family"),fontStyle:n.css("font-style"),fontWeight:n.css("font-weight"),textTransform:n.css("text-transform"),backgroundColor:"transparent",zIndex:99},o)).css(i(this)).attr("for",this.id).data("target",n).click(function(){e(this).data("target").focus()}).insertBefore(this);n.data("placeholder",s).focus(function(){s.hide()}).blur(function(){s[n.val().length?"hide":"show"]()}).triggerHandler("blur"),e(window).resize(function(){var e=s.data("target");s.css(i(e))})})}})}(jQuery),function(e){"use strict";e.fn.progress=function(t){var i=this;console.log(t),i.width=t&&t.width||200,void 0!==t.value?(i.value=t.value,i.percent=Math.round(100*(i.value/i.width))):void 0!==t.percent?(i.percent=t.percent,i.value=t.width*(i.percent/100)):(i.value=Math.round(i.width/2),i.percent=50);var n=e("<div></div>").addClass("progress-inner");n.css({width:i.width+"px",height:"14px","background-color":"rgba(0, 0, 0, 0.2)",opacity:"40%","box-shadow":"inset 0px 0px 3px 1px rgba(0, 0, 0, 0.3), 1px 1px 1px #6a2c67","border-radius":"14px",overflow:"hidden","background-image":"url('/assets/img/progress-arrows.png')","background-repeat":"no-repeat","background-position":"0px 5px"});var r=e("<div></div>").addClass("bar");r.css("width",i.value+"px"),r.css("height","14px"),r.css("background","-webkit-gradient(linear, 0% 0%, 0% 100%, from(#F36501), to(#FA330a))"),r.css("background","-webkit-linear-gradient(top, #F36501, #FA330a)"),r.css("background","-moz-linear-gradient(top, #F36501, #FA330a)"),r.css("background","-ms-linear-gradient(top, #F36501, #FA330a)"),r.css("background","-o-linear-gradient(top, #F36501, #FA330a)"),r.css("filter","progid:DXImageTransform.Microsoft.gradient( startColorstr='#f36501', endColorstr='#fa330a',GradientType=0 )"),r.css("border-radius","14px"),r.css("-webkit-box-shadow","inset 0 0 1px 1px #e19001"),r.css("-moz-box-shadow","inset 0 0 1px 1px #e19001"),r.css("-ms-box-shadow","inset 0 0 1px 1px #e19001"),r.css("-o-box-shadow","inset 0 0 1px 1px #e19001"),r.css("box-shadow","inset 0 0 1px 1px #e19001"),r.css("border-collapse","separate"),n.append(r),i.append(n),e.fn.setPercent=function(e){i.percent=e,i.value=Math.round(e*i.width/100),r.animate({width:i.value})},e.fn.setValue=function(e){i.value=e,r.animate({width:e})},e.fn.getValue=function(){return i.value},e.fn.getPercent=function(){return i.percent},e.fn.getWidth=function(){return i.width}}}(jQuery),function(e){"use strict";e.fn.rangeSlider=function(t){function i(t){h.addClass("enabled"),p.addClass("enabled"),n.offset=t,n.offset===n.maxOffset&&(p.removeClass("enabled"),e("right-arrow").removeClass("enabled")),n.offset===n.minOffset&&h.removeClass("enabled"),m.animate({left:-9-5*n.offset})}var n=this;n.change2=t.change2,n.offset=0,n.maxOffset=t&&t.maxRight&&t.maxRight-1900-50||70,n.minOffset=t&&t.maxLeft&&t.maxLeft-1900||20,n.currentLeft=t&&t.currentLeft&&t.currentLeft-1900||60;var r=e("<div></div>").addClass("range-slider-inner"),o=e("<div></div>").addClass("thumb-container");this.append(r),r.append(o);var s=e("<div></div>").addClass("thumb").addClass("start");o.append(s);var a=e("<div></div>").addClass("tooltip"),l=e("<div></div>").addClass("tooltip-arrow"),c=e("<div></div>").addClass("tooltip-inner start");a.append(c).append(l),e("body").append(a);var u=e("<div></div>").addClass("golden-bar");o.append(u);var d=e("<div></div>").addClass("thumb").addClass("end");o.append(d);var h=e("<div></div>").addClass("left-arrow");r.append(h);var p=e("<div></div>").addClass("right-arrow");r.append(p);for(var f=e("<div></div>").addClass("years-container"),m=e("<div></div>").addClass("years-inner"),g=0;14>g;g++){var v=e("<div></div>").addClass("year").html(1900+10*g);m.append(v)}f.append(m),r.append(f),o.on("mouseenter",".thumb",function(){var t=e(this).position().left,i=e(this).offset().top,r=e(this).offset().left;a.css("left",r-28+"px"),a.css("top",i-60+"px");var o=1900+Math.round(t/5);c.html(o+n.offset),a.show()}),o.on("mouseleave",".thumb",function(){a.hide()}),e(".thumb").draggable({axis:"x",containment:"parent",drag:function(){var t=e(this).position().left;if(e(this).hasClass("start")){var i=e(".thumb.end").position().left;if(u.css("left",t+10+"px"),u.css("width",i-t+"px"),Math.round(t/5)>Math.round((i-50)/5))return e(this).css("left",i-50),!1;n.start=1900+Math.round(t/5)+n.offset}else{var r=e(".thumb.start").position().left;if(u.css("width",t-r-5+"px"),Math.round(t/5)<Math.round((r+50)/5))return e(this).css("left",r+50),!1;n.end=1900+Math.round(t/5)+n.offset}var o=e(this).offset().top,s=e(this).offset().left;a.css("left",s-28+"px"),a.css("top",o-60+"px"),n.year=1900+Math.round(t/5),c.html(n.year+n.offset)},stop:function(){var t=e(".thumb.start").position().left,i=e(".thumb.end").position().left;u.css("left",t+10+"px"),u.css("width",i-t+"px"),n.change2&&n.change2({start:n.start,end:n.end})}}),Modernizr.touch&&(e(".thumb").hammer().on("dragstart",function(){n.tempLeft=+e(this).css("left").replace("px","")}),e(".thumb").hammer().on("drag",function(t){var i=+e(this).css("left").replace("px",""),r=n.tempLeft+t.gesture.deltaX;if(!(-5>r||r>=265)){if(e(this).hasClass("start")){if(+e(".thumb.end").css("left").replace("px","")-r<50)return}else if(r-+e(".thumb.start").css("left").replace("px","")<50)return;e(this).css("left",n.tempLeft+t.gesture.deltaX);var o=e(this).position().left;if(e(this).hasClass("start")){var s=e(".thumb.end").position().left;if(u.css("left",o+10+"px"),u.css("width",s-o+"px"),Math.round(o/5)>Math.round((s-50)/5))return e(this).css("left",s-50),!1;n.start=1900+Math.round(o/5)+n.offset}else{var l=e(".thumb.start").position().left;if(u.css("width",o-l-5+"px"),Math.round(o/5)<Math.round((l+50)/5))return e(this).css("left",l+50),!1;n.end=1900+Math.round(o/5)+n.offset}var d=e(this).offset().top,i=e(this).offset().left;a.css("left",i-28+"px"),a.css("top",d-60+"px"),n.year=1900+Math.round(o/5),c.html(n.year+n.offset)}}),e(".thumb").hammer().on("dragend",function(){var t=e(".thumb.start").position().left,i=e(".thumb.end").position().left;u.css("left",t+10+"px"),u.css("width",i-t+"px"),n.change2&&n.change2({start:n.start,end:n.end})})),e(".thumb").on("click",function(e){e.stopPropagation()}),e(".golden-bar").on("click",function(e){e.stopPropagation()}),o.on("click",function(t){var i;if(i=void 0==t.offsetX?t.pageX-e(this).offset().left:t.offsetX,i-=10,i>e(this).width()-20&&(i=e(this).width()-20),i<s.position().left){s.animate({left:i},200);var r=d.position().left-i;u.animate({left:i+20,width:r-20},200),n.start=1900+Math.round(i/5)+n.offset,n.change2&&n.change2({start:n.start,end:n.end})}else if(i>d.position().left+20){d.animate({left:i},200);var r=i-s.position().left;u.animate({width:r-5},200),n.end=1900+Math.round(i/5)+n.offset,n.change2&&n.change2({start:n.start,end:n.end})}}),h.on("click",function(){function t(){n.offset===n.minOffset?h.removeClass("enabled"):(h.addClass("enabled"),p.addClass("enabled"))}function i(){r+=1,4===r&&t()}var r=0;n.offset<=n.minOffset||e(this).hasClass("enabled")&&(e(this).removeClass("enabled"),m.animate({left:m.position().left+50},i),s.animate({left:s.position().left+50},i),d.animate({left:d.position().left+50},i),u.animate({left:u.position().left+50},i),n.offset-=10)}),p.on("click",function(){function t(){n.offset===n.maxOffset?p.removeClass("enabled"):(h.addClass("enabled"),p.addClass("enabled"))}function i(){r+=1,4===r&&t()}var r=0;n.offset>=n.maxOffset||e(this).hasClass("enabled")&&(e(this).removeClass("enabled"),m.animate({left:m.position().left-50},i),s.animate({left:s.position().left-50},i),d.animate({left:d.position().left-50},i),u.animate({left:u.position().left-50},i),n.offset+=10)}),i(n.currentLeft);var y=(new Date).getFullYear(),b=5*(y-10-1900-n.offset),w=5*(y-1900-n.offset);c.html(y-5);var x=-9-n.offset+"px";m.css("left",x),n.start=y-10,n.end=y,s.css("left",b+"px"),d.css("left",w+"px"),c.css("left",b-10+"px"),u.css("left",b+10+"px"),u.css("width",w-b+"px"),e.fn.setOffset=i,e.fn.getRange=function(){return{start:n.start,end:n.end}},e.fn.setMaxRight=function(e){n.maxOffset=e-1960},e.fn.setMaxLeft=function(e){n.minOffset=e-1900},e.fn.change2=function(e){n.change2=e}}}(jQuery),function(e){e.fn.scrollsync=function(t){function i(e){e.data.xaxis&&e.data.followers.scrollLeft(e.data.target.scrollLeft()),e.data.yaxis&&e.data.followers.scrollTop(e.data.target.scrollTop())}var n=e.extend({targetSelector:":first",axis:"xy"},t||{});n.target=this.filter(n.targetSelector).filter(":first"),n.followers=this.not(n.target),n.xaxis="xy"==n.axis||"x"==n.axis?!0:!1,n.yaxis="xy"==n.axis||"y"==n.axis?!0:!1,(n.xaxis||n.yaxis)&&n.target.bind("scroll",n,i)}}(jQuery),!function(e,t,i){function n(e,i){var n,r=t.createElement(e||"div");for(n in i)r[n]=i[n];return r}function r(e){for(var t=1,i=arguments.length;i>t;t++)e.appendChild(arguments[t]);return e}function o(e,t,i,n){var r=["opacity",t,~~(100*e),i,n].join("-"),o=.01+100*(i/n),s=Math.max(1-(1-e)/t*(100-o),e),a=d.substring(0,d.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return p[r]||(f.insertRule("@"+l+"keyframes "+r+"{"+"0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+s+"}"+"}",f.cssRules.length),p[r]=1),r}function s(e,t){var n,r,o=e.style;if(o[t]!==i)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<h.length;r++)if(n=h[r]+t,o[n]!==i)return n}function a(e,t){for(var i in t)e.style[s(e,i)||i]=t[i];return e}function l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]===i&&(e[r]=n[r])}return e}function c(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function u(e){return this.spin?(this.opts=l(e||{},u.defaults,m),void 0):new u(e)}var d,h=["webkit","Moz","ms","O"],p={},f=function(){var e=n("style",{type:"text/css"});return r(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),m={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};u.defaults={},l(u.prototype,{spin:function(e){this.stop();var t,i,r=this,o=r.opts,s=r.el=a(n(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),l=o.radius+o.length+o.width;if(e&&(e.insertBefore(s,e.firstChild||null),i=c(e),t=c(s),a(s,{left:("auto"==o.left?i.x-t.x+(e.offsetWidth>>1):parseInt(o.left,10)+l)+"px",top:("auto"==o.top?i.y-t.y+(e.offsetHeight>>1):parseInt(o.top,10)+l)+"px"})),s.setAttribute("aria-role","progressbar"),r.lines(s,r.opts),!d){var u=0,h=o.fps,p=h/o.speed,f=(1-o.opacity)/(p*o.trail/100),m=p/o.lines;!function g(){u++;for(var e=o.lines;e;e--){var t=Math.max(1-(u+e*m)%p*f,o.opacity);r.opacity(s,o.lines-e,t,o)}r.timeout=r.el&&setTimeout(g,~~(1e3/h))}()}return r},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=i),this},lines:function(e,t){function i(e,i){return a(n(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*l+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}for(var s,l=0;l<t.lines;l++)s=a(n(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:d&&o(t.opacity,t.trail,l,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&r(s,a(i("#000","0 0 4px #000"),{top:"2px"})),r(e,r(s,i(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}}),function(){function e(e,t){return n("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=a(n("group"),{behavior:"url(#default#VML)"});!s(t,"transform")&&t.adj?(f.addRule(".spin-vml","behavior:url(#default#VML)"),u.prototype.lines=function(t,i){function n(){return a(e("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function o(t,o,s){r(d,r(a(n(),{rotation:360/i.lines*t+"deg",left:~~o}),r(a(e("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:s}),e("fill",{color:i.color,opacity:i.opacity}),e("stroke",{opacity:0}))))}var s,l=i.length+i.width,c=2*l,u=2*-(i.width+i.length)+"px",d=a(n(),{position:"absolute",top:u,left:u});if(i.shadow)for(s=1;s<=i.lines;s++)o(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=i.lines;s++)o(s);return r(t,d)},u.prototype.opacity=function(e,t,i,n){var r=e.firstChild;n=n.shadow&&n.lines||0,r&&t+n<r.childNodes.length&&(r=r.childNodes[t+n],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=i))}):d=s(t,"animation")}(),"function"==typeof define&&define.amd?define(function(){return u}):e.Spinner=u}(window,document),//  * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
function(){var e=this,t=e._,i={},n=Array.prototype,r=Object.prototype,o=Function.prototype,s=n.push,a=n.slice,l=n.concat,c=(n.unshift,r.toString),u=r.hasOwnProperty,d=n.forEach,h=n.map,p=n.reduce,f=n.reduceRight,m=n.filter,g=n.every,v=n.some,y=n.indexOf,b=n.lastIndexOf,w=Array.isArray,x=Object.keys,_=o.bind,$=function(e){return e instanceof $?e:this instanceof $?(this._wrapped=e,void 0):new $(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=$),exports._=$):e._=$,$.VERSION="1.4.2";var C=$.each=$.forEach=function(e,t,n){if(null!=e)if(d&&e.forEach===d)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(n,e[r],r,e)===i)return}else for(var s in e)if($.has(e,s)&&t.call(n,e[s],s,e)===i)return};$.map=$.collect=function(e,t,i){var n=[];return null==e?n:h&&e.map===h?e.map(t,i):(C(e,function(e,r,o){n[n.length]=t.call(i,e,r,o)}),n)},$.reduce=$.foldl=$.inject=function(e,t,i,n){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return n&&(t=$.bind(t,n)),r?e.reduce(t,i):e.reduce(t);if(C(e,function(e,o,s){r?i=t.call(n,i,e,o,s):(i=e,r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return i},$.reduceRight=$.foldr=function(e,t,i,n){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return n&&(t=$.bind(t,n)),arguments.length>2?e.reduceRight(t,i):e.reduceRight(t);var o=e.length;if(o!==+o){var s=$.keys(e);o=s.length}if(C(e,function(a,l,c){l=s?s[--o]:--o,r?i=t.call(n,i,e[l],l,c):(i=e[l],r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return i},$.find=$.detect=function(e,t,i){var n;return k(e,function(e,r,o){return t.call(i,e,r,o)?(n=e,!0):void 0}),n},$.filter=$.select=function(e,t,i){var n=[];return null==e?n:m&&e.filter===m?e.filter(t,i):(C(e,function(e,r,o){t.call(i,e,r,o)&&(n[n.length]=e)}),n)},$.reject=function(e,t,i){var n=[];return null==e?n:(C(e,function(e,r,o){t.call(i,e,r,o)||(n[n.length]=e)}),n)},$.every=$.all=function(e,t,n){t||(t=$.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,n):(C(e,function(e,o,s){return(r=r&&t.call(n,e,o,s))?void 0:i}),!!r)};var k=$.some=$.any=function(e,t,n){t||(t=$.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,n):(C(e,function(e,o,s){return r||(r=t.call(n,e,o,s))?i:void 0}),!!r)};$.contains=$.include=function(e,t){var i=!1;return null==e?i:y&&e.indexOf===y?-1!=e.indexOf(t):i=k(e,function(e){return e===t})},$.invoke=function(e,t){var i=a.call(arguments,2);return $.map(e,function(e){return($.isFunction(t)?t:e[t]).apply(e,i)})},$.pluck=function(e,t){return $.map(e,function(e){return e[t]})},$.where=function(e,t){return $.isEmpty(t)?[]:$.filter(e,function(e){for(var i in t)if(t[i]!==e[i])return!1;return!0})},$.max=function(e,t,i){if(!t&&$.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&$.isEmpty(e))return-1/0;var n={computed:-1/0};return C(e,function(e,r,o){var s=t?t.call(i,e,r,o):e;s>=n.computed&&(n={value:e,computed:s})}),n.value},$.min=function(e,t,i){if(!t&&$.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&$.isEmpty(e))return 1/0;var n={computed:1/0};return C(e,function(e,r,o){var s=t?t.call(i,e,r,o):e;s<n.computed&&(n={value:e,computed:s})}),n.value},$.shuffle=function(e){var t,i=0,n=[];return C(e,function(e){t=$.random(i++),n[i-1]=n[t],n[t]=e}),n};var T=function(e){return $.isFunction(e)?e:function(t){return t[e]}};$.sortBy=function(e,t,i){var n=T(t);return $.pluck($.map(e,function(e,t,r){return{value:e,index:t,criteria:n.call(i,e,t,r)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index<t.index?-1:1}),"value")};var S=function(e,t,i,n){var r={},o=T(t);return C(e,function(t,s){var a=o.call(i,t,s,e);n(r,a,t)}),r};$.groupBy=function(e,t,i){return S(e,t,i,function(e,t,i){($.has(e,t)?e[t]:e[t]=[]).push(i)})},$.countBy=function(e,t,i){return S(e,t,i,function(e,t){$.has(e,t)||(e[t]=0),e[t]++})},$.sortedIndex=function(e,t,i,n){i=null==i?$.identity:T(i);for(var r=i.call(n,t),o=0,s=e.length;s>o;){var a=o+s>>>1;i.call(n,e[a])<r?o=a+1:s=a}return o},$.toArray=function(e){return e?e.length===+e.length?a.call(e):$.values(e):[]},$.size=function(e){return e.length===+e.length?e.length:$.keys(e).length},$.first=$.head=$.take=function(e,t,i){return null==t||i?e[0]:a.call(e,0,t)},$.initial=function(e,t,i){return a.call(e,0,e.length-(null==t||i?1:t))},$.last=function(e,t,i){return null==t||i?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},$.rest=$.tail=$.drop=function(e,t,i){return a.call(e,null==t||i?1:t)},$.compact=function(e){return $.filter(e,function(e){return!!e})};var D=function(e,t,i){return C(e,function(e){$.isArray(e)?t?s.apply(i,e):D(e,t,i):i.push(e)}),i};$.flatten=function(e,t){return D(e,t,[])},$.without=function(e){return $.difference(e,a.call(arguments,1))},$.uniq=$.unique=function(e,t,i,n){var r=i?$.map(e,i,n):e,o=[],s=[];return C(r,function(i,n){(t?n&&s[s.length-1]===i:$.contains(s,i))||(s.push(i),o.push(e[n]))}),o},$.union=function(){return $.uniq(l.apply(n,arguments))},$.intersection=function(e){var t=a.call(arguments,1);return $.filter($.uniq(e),function(e){return $.every(t,function(t){return $.indexOf(t,e)>=0})})},$.difference=function(e){var t=l.apply(n,a.call(arguments,1));return $.filter(e,function(e){return!$.contains(t,e)})},$.zip=function(){for(var e=a.call(arguments),t=$.max($.pluck(e,"length")),i=new Array(t),n=0;t>n;n++)i[n]=$.pluck(e,""+n);return i},$.object=function(e,t){for(var i={},n=0,r=e.length;r>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},$.indexOf=function(e,t,i){if(null==e)return-1;var n=0,r=e.length;if(i){if("number"!=typeof i)return n=$.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,r+i):i}if(y&&e.indexOf===y)return e.indexOf(t,i);for(;r>n;n++)if(e[n]===t)return n;return-1},$.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(b&&e.lastIndexOf===b)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var r=n?i:e.length;r--;)if(e[r]===t)return r;return-1},$.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),r=0,o=new Array(n);n>r;)o[r++]=e,e+=i;return o};var E=function(){};$.bind=function(e,t){var i,n;if(e.bind===_&&_)return _.apply(e,a.call(arguments,1));if(!$.isFunction(e))throw new TypeError;return n=a.call(arguments,2),i=function(){if(this instanceof i){E.prototype=e.prototype;var r=new E,o=e.apply(r,n.concat(a.call(arguments)));return Object(o)===o?o:r}return e.apply(t,n.concat(a.call(arguments)))}},$.bindAll=function(e){var t=a.call(arguments,1);return 0==t.length&&(t=$.functions(e)),C(t,function(t){e[t]=$.bind(e[t],e)}),e},$.memoize=function(e,t){var i={};return t||(t=$.identity),function(){var n=t.apply(this,arguments);return $.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},$.delay=function(e,t){var i=a.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},$.defer=function(e){return $.delay.apply($,[e,1].concat(a.call(arguments,1)))},$.throttle=function(e,t){var i,n,r,o,s,a,l=$.debounce(function(){s=o=!1},t);return function(){i=this,n=arguments;var c=function(){r=null,s&&(a=e.apply(i,n)),l()};return r||(r=setTimeout(c,t)),o?s=!0:(o=!0,a=e.apply(i,n)),l(),a}},$.debounce=function(e,t,i){var n,r;return function(){var o=this,s=arguments,a=function(){n=null,i||(r=e.apply(o,s))},l=i&&!n;return clearTimeout(n),n=setTimeout(a,t),l&&(r=e.apply(o,s)),r}},$.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},$.wrap=function(e,t){return function(){var i=[e];return s.apply(i,arguments),t.apply(this,i)}},$.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},$.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},$.keys=x||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)$.has(e,i)&&(t[t.length]=i);return t},$.values=function(e){var t=[];for(var i in e)$.has(e,i)&&t.push(e[i]);return t},$.pairs=function(e){var t=[];for(var i in e)$.has(e,i)&&t.push([i,e[i]]);return t},$.invert=function(e){var t={};for(var i in e)$.has(e,i)&&(t[e[i]]=i);return t},$.functions=$.methods=function(e){var t=[];for(var i in e)$.isFunction(e[i])&&t.push(i);return t.sort()},$.extend=function(e){return C(a.call(arguments,1),function(t){for(var i in t)e[i]=t[i]}),e},$.pick=function(e){var t={},i=l.apply(n,a.call(arguments,1));return C(i,function(i){i in e&&(t[i]=e[i])}),t},$.omit=function(e){var t={},i=l.apply(n,a.call(arguments,1));for(var r in e)$.contains(i,r)||(t[r]=e[r]);return t},$.defaults=function(e){return C(a.call(arguments,1),function(t){for(var i in t)null==e[i]&&(e[i]=t[i])}),e},$.clone=function(e){return $.isObject(e)?$.isArray(e)?e.slice():$.extend({},e):e},$.tap=function(e,t){return t(e),e};var P=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof $&&(e=e._wrapped),t instanceof $&&(t=t._wrapped);var r=c.call(e);if(r!=c.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=i.length;o--;)if(i[o]==e)return n[o]==t;i.push(e),n.push(t);var s=0,a=!0;if("[object Array]"==r){if(s=e.length,a=s==t.length)for(;s--&&(a=P(e[s],t[s],i,n)););}else{var l=e.constructor,u=t.constructor;if(l!==u&&!($.isFunction(l)&&l instanceof l&&$.isFunction(u)&&u instanceof u))return!1;for(var d in e)if($.has(e,d)&&(s++,!(a=$.has(t,d)&&P(e[d],t[d],i,n))))break;if(a){for(d in t)if($.has(t,d)&&!s--)break;a=!s}}return i.pop(),n.pop(),a};$.isEqual=function(e,t){return P(e,t,[],[])},$.isEmpty=function(e){if(null==e)return!0;if($.isArray(e)||$.isString(e))return 0===e.length;for(var t in e)if($.has(e,t))return!1;return!0},$.isElement=function(e){return!!e&&1===e.nodeType},$.isArray=w||function(e){return"[object Array]"==c.call(e)},$.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){$["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),$.isArguments(arguments)||($.isArguments=function(e){return!!e&&!!$.has(e,"callee")}),"function"!=typeof/./&&($.isFunction=function(e){return"function"==typeof e}),$.isFinite=function(e){return $.isNumber(e)&&isFinite(e)},$.isNaN=function(e){return $.isNumber(e)&&e!=+e},$.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},$.isNull=function(e){return null===e},$.isUndefined=function(e){return void 0===e},$.has=function(e,t){return u.call(e,t)},$.noConflict=function(){return e._=t,this},$.identity=function(e){return e},$.times=function(e,t,i){for(var n=0;e>n;n++)t.call(i,n)},$.random=function(e,t){return null==t&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=$.invert(M.escape);var I={escape:new RegExp("["+$.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+$.keys(M.unescape).join("|")+")","g")};$.each(["escape","unescape"],function(e){$[e]=function(t){return null==t?"":(""+t).replace(I[e],function(t){return M[e][t]})}}),$.result=function(e,t){if(null==e)return null;var i=e[t];return $.isFunction(i)?i.call(e):i},$.mixin=function(e){C($.functions(e),function(t){var i=$[t]=e[t];$.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),N.call(this,i.apply($,e))}})};var A=0;$.uniqueId=function(e){var t=A++;return e?e+t:t},$.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\t|\u2028|\u2029/g;$.template=function(e,t,i){i=$.defaults({},i,$.templateSettings);var n=new RegExp([(i.escape||L).source,(i.interpolate||L).source,(i.evaluate||L).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(n,function(t,i,n,s,a){o+=e.slice(r,a).replace(q,function(e){return"\\"+O[e]}),o+=i?"'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?"'+\n((__t=("+n+"))==null?'':__t)+\n'":s?"';\n"+s+"\n__p+='":"",r=a+t.length}),o+="';\n",i.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(i.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(t)return s(t,$);var l=function(e){return s.call(this,e,$)};return l.source="function("+(i.variable||"obj")+"){\n"+o+"}",l},$.chain=function(e){return $(e).chain()};var N=function(e){return this._chain?$(e).chain():e};$.mixin($),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];$.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),("shift"==e||"splice"==e)&&0===i.length&&delete i[0],N.call(this,i)}}),C(["concat","join","slice"],function(e){var t=n[e];$.prototype[e]=function(){return N.call(this,t.apply(this._wrapped,arguments))}}),$.extend($.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),/* YUI 3.9.1 (build 5852) Copyright 2013 Yahoo! Inc. http://yuilibrary.com/license/ */
"undefined"!=typeof YUI&&(YUI._YUI=YUI);var YUI=function(){var e=0,t=this,i=arguments,n=i.length,r=function(e,t){return e&&e.hasOwnProperty&&e instanceof t},o="undefined"!=typeof YUI_config&&YUI_config;if(r(t,YUI)?(t._init(),YUI.GlobalConfig&&t.applyConfig(YUI.GlobalConfig),o&&t.applyConfig(o),n||t._setup()):t=new YUI,n){for(;n>e;e++)t.applyConfig(i[e]);t._setup()}return t.instanceOf=r,t};!function(){var e,t,i="3.9.1",n=".",r="http://yui.yahooapis.com/",o="yui3-js-enabled",s="yui3-css-stamp",a=function(){},l=Array.prototype.slice,c={"io.xdrReady":1,"io.xdrResponse":1,"SWF.eventHandler":1},u="undefined"!=typeof window,d=u?window:null,h=u?d.document:null,p=h&&h.documentElement,f=p&&p.className,m={},g=(new Date).getTime(),v=function(e,t,i,n){e&&e.addEventListener?e.addEventListener(t,i,n):e&&e.attachEvent&&e.attachEvent("on"+t,i)},y=function(e,t,i,n){if(e&&e.removeEventListener)try{e.removeEventListener(t,i,n)}catch(r){}else e&&e.detachEvent&&e.detachEvent("on"+t,i)},b=function(){YUI.Env.windowLoaded=!0,YUI.Env.DOMReady=!0,u&&y(window,"load",b)},w=function(e){var t=e.Env._loader,i=["loader-base"],n=YUI.Env,r=n.mods;return t?(t.ignoreRegistered=!1,t.onEnd=null,t.data=null,t.required=[],t.loadType=null):(t=new e.Loader(e.config),e.Env._loader=t),r&&r.loader&&(i=[].concat(i,YUI.Env.loaderExtras)),YUI.Env.core=e.Array.dedupe([].concat(YUI.Env.core,i)),t},x=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},_={success:!0};p&&-1==f.indexOf(o)&&(f&&(f+=" "),f+=o,p.className=f),i.indexOf("@")>-1&&(i="3.5.0"),e={applyConfig:function(e){e=e||a;var t,i,n=this.config,r=n.modules,o=n.groups,s=n.aliases,l=this.Env._loader;for(i in e)e.hasOwnProperty(i)&&(t=e[i],r&&"modules"==i?x(r,t):s&&"aliases"==i?x(s,t):o&&"groups"==i?x(o,t):"win"==i?(n[i]=t&&t.contentWindow||t,n.doc=n[i]?n[i].document:null):"_yuid"!=i&&(n[i]=t));l&&l._config(e)},_config:function(e){this.applyConfig(e)},_init:function(){var e,t,n,o=this,a=YUI.Env,l=o.Env;if(o.version=i,!l){if(o.Env={core:["get","features","intl-base","yui-log","yui-later","loader-base","loader-rollup","loader-yui3"],loaderExtras:["loader-rollup","loader-yui3"],mods:{},versions:{},base:r,cdn:r+i+"/build/",_idx:0,_used:{},_attached:{},_missed:[],_yidx:0,_uidx:0,_guidp:"y",_loaded:{},_BASE_RE:/(?:\?(?:[^&]*&)*([^&]*))?\b(simpleyui|yui(?:-\w+)?)\/\2(?:-(min|debug))?\.js/,parseBasePath:function(e,t){var i,n,r=e.match(t);return r&&(i=RegExp.leftContext||e.slice(0,e.indexOf(r[0])),n=r[3],r[1]&&(i+="?"+r[1]),i={filter:n,path:i}),i},getBase:a&&a.getBase||function(t){var i,n,r,s,a=h&&h.getElementsByTagName("script")||[],c=l.cdn;for(n=0,r=a.length;r>n;++n)if(s=a[n].src,s&&(i=o.Env.parseBasePath(s,t))){e=i.filter,c=i.path;break}return c}},l=o.Env,l._loaded[i]={},a&&o!==YUI)l._yidx=++a._yidx,l._guidp=("yui_"+i+"_"+l._yidx+"_"+g).replace(/[^a-z0-9_]+/g,"_");else if(YUI._YUI){a=YUI._YUI.Env,l._yidx+=a._yidx,l._uidx+=a._uidx;for(n in a)n in l||(l[n]=a[n]);delete YUI._YUI}o.id=o.stamp(o),m[o.id]=o}o.constructor=YUI,o.config=o.config||{bootstrap:!0,cacheUse:!0,debug:!0,doc:h,fetchCSS:!0,throwFail:!0,useBrowserConsole:!0,useNativeES5:!0,win:d,global:Function("return this")()},h&&!h.getElementById(s)?(t=h.createElement("div"),t.innerHTML='<div id="'+s+'" style="position: absolute !important; visibility: hidden !important"></div>',YUI.Env.cssStampEl=t.firstChild,h.body?h.body.appendChild(YUI.Env.cssStampEl):p.insertBefore(YUI.Env.cssStampEl,p.firstChild)):h&&h.getElementById(s)&&!YUI.Env.cssStampEl&&(YUI.Env.cssStampEl=h.getElementById(s)),o.config.lang=o.config.lang||"en-US",o.config.base=YUI.config.base||o.Env.getBase(o.Env._BASE_RE),e&&"mindebug".indexOf(e)||(e="min"),e=e?"-"+e:e,o.config.loaderPath=YUI.config.loaderPath||"loader/loader"+e+".js"},_setup:function(){var e,t=this,i=[],n=YUI.Env.mods,r=t.config.core||[].concat(YUI.Env.core);for(e=0;e<r.length;e++)n[r[e]]&&i.push(r[e]);t._attach(["yui-base"]),t._attach(i),t.Loader&&w(t)},applyTo:function(e,t,i){if(t in c){var n,r,o,s=m[e];if(s){for(n=t.split("."),r=s,o=0;o<n.length;o+=1)r=r[n[o]],r||this.log("applyTo not found: "+t,"warn","yui");return r&&r.apply(s,i)}return null}return this.log(t+": applyTo not allowed","warn","yui"),null},add:function(e,t,i,n){n=n||{};var r,o,s,a=YUI.Env,l={name:e,fn:t,version:i,details:n},c={},u=a.versions;a.mods[e]=l,u[i]=u[i]||{},u[i][e]=l;for(s in m)m.hasOwnProperty(s)&&(o=m[s],c[o.id]||(c[o.id]=!0,r=o.Env._loader,r&&(!r.moduleInfo[e]||r.moduleInfo[e].temp)&&r.addModule(n,e)));return this},_attach:function(e,t){var i,n,r,o,s,a,l,c,u,d,h,p=YUI.Env.mods,f=YUI.Env.aliases,m=this,g=YUI.Env._renderedMods,u=m.Env._loader,v=m.Env._attached,y=e.length,b=[];for(i=0;y>i;i++)if(n=e[i],r=p[n],b.push(n),u&&u.conditions[n])for(c in u.conditions[n])u.conditions[n].hasOwnProperty(c)&&(d=u.conditions[n][c],h=d&&(d.ua&&m.UA[d.ua]||d.test&&d.test(m)),h&&b.push(d.name));for(e=b,y=e.length,i=0;y>i;i++)if(!v[e[i]]){if(n=e[i],r=p[n],f&&f[n]&&!r){m._attach(f[n]);continue}if(r){for(v[n]=!0,c=0;c<m.Env._missed.length;c++)m.Env._missed[c]===n&&(m.message("Found: "+n+" (was reported as missing earlier)","warn","yui"),m.Env._missed.splice(c,1));if(u&&g&&g[n]&&g[n].temp){u.getRequires(g[n]),s=[];for(c in u.moduleInfo[n].expanded_map)u.moduleInfo[n].expanded_map.hasOwnProperty(c)&&s.push(c);m._attach(s)}if(o=r.details,s=o.requires,a=o.use,l=o.after,o.lang&&(s=s||[],s.unshift("intl")),s)for(c=0;c<s.length;c++)if(!v[s[c]]){if(!m._attach(s))return!1;break}if(l)for(c=0;c<l.length;c++)if(!v[l[c]]){if(!m._attach(l,!0))return!1;break}if(r.fn)if(m.config.throwFail)r.fn(m,n);else try{r.fn(m,n)}catch(w){return m.error("Attach error: "+n,w,n),!1}if(a)for(c=0;c<a.length;c++)if(!v[a[c]]){if(!m._attach(a))return!1;break}}else u&&u.moduleInfo[n]&&(r=u.moduleInfo[n],t=!0),!t&&n&&-1===n.indexOf("skin-")&&-1===n.indexOf("css")&&(m.Env._missed.push(n),m.Env._missed=m.Array.dedupe(m.Env._missed),m.message("NOT loaded: "+n,"warn","yui"))}return!0},_delayCallback:function(e,t){var i=this,n=["event-base"];return t=i.Lang.isObject(t)?t:{event:t},"load"===t.event&&n.push("event-synthetic"),function(){var r=arguments;i._use(n,function(){i.on(t.event,function(){r[1].delayUntil=t.event,e.apply(i,r)},t.args)})}},use:function(){var e,t=l.call(arguments,0),i=t[t.length-1],n=this,r=0,o=n.Env,s=!0;if(n.Lang.isFunction(i)?(t.pop(),n.config.delayUntil&&(i=n._delayCallback(i,n.config.delayUntil))):i=null,n.Lang.isArray(t[0])&&(t=t[0]),n.config.cacheUse){for(;e=t[r++];)if(!o._attached[e]){s=!1;break}if(s)return t.length,n._notify(i,_,t),n}return n._loading?(n._useQueue=n._useQueue||new n.Queue,n._useQueue.add([t,i])):n._use(t,function(e,n){e._notify(i,n,t)}),n},_notify:function(e,t,i){if(!t.success&&this.config.loadErrorFn)this.config.loadErrorFn.call(this,this,e,t,i);else if(e)if(this.Env._missed&&this.Env._missed.length&&(t.msg="Missing modules: "+this.Env._missed.join(),t.success=!1),this.config.throwFail)e(this,t);else try{e(this,t)}catch(n){this.error("use callback error",n,i)}},_use:function(e,t){this.Array||this._attach(["yui-base"]);var n,r,o,s,a=this,l=YUI.Env,c=l.mods,u=a.Env,d=u._used,h=l.aliases,p=l._loaderQueue,f=e[0],m=a.Array,g=a.config,v=g.bootstrap,y=[],b=[],x=!0,_=g.fetchCSS,$=function(e,t){var n,r,o,s,a,u=0,p=[];if(e.length){if(h){for(r=e.length,u=0;r>u;u++)h[e[u]]&&!c[e[u]]?p=[].concat(p,h[e[u]]):p.push(e[u]);e=p}for(r=e.length,u=0;r>u;u++)n=e[u],t||b.push(n),d[n]||(o=c[n],s=null,a=null,o?(d[n]=!0,s=o.details.requires,a=o.details.use):l._loaded[i][n]?d[n]=!0:y.push(n),s&&s.length&&$(s),a&&a.length&&$(a,1))}},C=function(i){var n,r,o=i||{success:!0,msg:"not dynamic"},s=!0,l=o.data;a._loading=!1,l&&(r=y,y=[],b=[],$(l),n=y.length,n&&[].concat(y).sort().join()==r.sort().join()&&(n=!1)),n&&l?(a._loading=!0,a._use(y,function(){a._attach(l)&&a._notify(t,o,l)})):(l&&(s=a._attach(l)),s&&a._notify(t,o,e)),a._useQueue&&a._useQueue.size()&&!a._loading&&a._use.apply(a,a._useQueue.next())};if("*"===f){e=[];for(s in c)c.hasOwnProperty(s)&&e.push(s);return x=a._attach(e),x&&C(),a}return(c.loader||c["loader-base"])&&!a.Loader&&a._attach(["loader"+(c.loader?"":"-base")]),v&&a.Loader&&e.length&&(r=w(a),r.require(e),r.ignoreRegistered=!0,r._boot=!0,r.calculate(null,_?null:"js"),e=r.sorted,r._boot=!1),$(e),n=y.length,n&&(y=m.dedupe(y),n=y.length),v&&n&&a.Loader?(a._loading=!0,r=w(a),r.onEnd=C,r.context=a,r.data=e,r.ignoreRegistered=!1,r.require(y),r.insert(null,_?null:"js")):v&&n&&a.Get&&!u.bootstrapped?(a._loading=!0,o=function(){a._loading=!1,p.running=!1,u.bootstrapped=!0,l._bootstrapping=!1,a._attach(["loader"])&&a._use(e,t)},l._bootstrapping?p.add(o):(l._bootstrapping=!0,a.Get.script(g.base+g.loaderPath,{onEnd:o}))):(x=a._attach(e),x&&C()),a},namespace:function(){for(var e,t,i,r,o=arguments,s=0;s<o.length;s++)if(e=this,r=o[s],r.indexOf(n)>-1)for(i=r.split(n),t="YAHOO"==i[0]?1:0;t<i.length;t++)e[i[t]]=e[i[t]]||{},e=e[i[t]];else e[r]=e[r]||{},e=e[r];return e},log:a,message:a,dump:function(e){return""+e},error:function(e,t,i){var n,r=this;if(r.config.errorFn&&(n=r.config.errorFn.apply(r,arguments)),!n)throw t||new Error(e);return r.message(e,"error",""+i),r},guid:function(e){var t=this.Env._guidp+"_"+ ++this.Env._uidx;return e?e+t:t},stamp:function(e,t){var i;if(!e)return e;if(i=e.uniqueID&&e.nodeType&&9!==e.nodeType?e.uniqueID:"string"==typeof e?e:e._yuid,!i&&(i=this.guid(),!t))try{e._yuid=i}catch(n){i=null}return i},destroy:function(){var e=this;e.Event&&e.Event._unload(),delete m[e.id],delete e.Env,delete e.config}},YUI.prototype=e;for(t in e)e.hasOwnProperty(t)&&(YUI[t]=e[t]);YUI.applyConfig=function(e){e&&(YUI.GlobalConfig&&this.prototype.applyConfig.call(this,YUI.GlobalConfig),this.prototype.applyConfig.call(this,e),YUI.GlobalConfig=this.config)},YUI._init(),u?v(window,"load",b):b(),YUI.Env.add=v,YUI.Env.remove=y,"object"==typeof exports&&(exports.YUI=YUI,YUI.setLoadHook=function(e){YUI._getLoadHook=e},YUI._getLoadHook=null)}(),YUI.add("yui-base",function(e){function t(e,i,n){var r,o;if(i||(i=0),n||t.test(e))try{return d.slice.call(e,i)}catch(s){for(o=[],r=e.length;r>i;++i)o.push(e[i]);return o}return[e]}function i(){this._init(),this.add.apply(this,arguments)}var n=e.Lang||(e.Lang={}),r=String.prototype,o=Object.prototype.toString,s={undefined:"undefined",number:"number","boolean":"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"},a=/\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g,l=/^\s+|\s+$/g,c=/\{\s*\[(?:native code|function)\]\s*\}/i;n._isNative=function(t){return!!(e.config.useNativeES5&&t&&c.test(t))},n.isArray=n._isNative(Array.isArray)?Array.isArray:function(e){return"array"===n.type(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isDate=function(e){return"date"===n.type(e)&&"Invalid Date"!==e.toString()&&!isNaN(e)},n.isFunction=function(e){return"function"===n.type(e)},n.isNull=function(e){return null===e},n.isNumber=function(e){return"number"==typeof e&&isFinite(e)},n.isObject=function(e,t){var i=typeof e;return e&&("object"===i||!t&&("function"===i||n.isFunction(e)))||!1},n.isString=function(e){return"string"==typeof e},n.isUndefined=function(e){return"undefined"==typeof e},n.isValue=function(e){var t=n.type(e);switch(t){case"number":return isFinite(e);case"null":case"undefined":return!1;default:return!!t}},n.now=Date.now||function(){return(new Date).getTime()},n.sub=function(e,t){return e.replace?e.replace(a,function(e,i){return n.isUndefined(t[i])?e:t[i]}):e},n.trim=r.trim?function(e){return e&&e.trim?e.trim():e}:function(e){try{return e.replace(l,"")}catch(t){return e}},n.trimLeft=r.trimLeft?function(e){return e.trimLeft()}:function(e){return e.replace(/^\s+/,"")},n.trimRight=r.trimRight?function(e){return e.trimRight()}:function(e){return e.replace(/\s+$/,"")},n.type=function(e){return s[typeof e]||s[o.call(e)]||(e?"object":"null")};var u=e.Lang,d=Array.prototype,h=Object.prototype.hasOwnProperty;e.Array=t,t.dedupe=function(e){var t,i,n,r={},o=[];for(t=0,n=e.length;n>t;++t)i=e[t],h.call(r,i)||(r[i]=1,o.push(i));return o},t.each=t.forEach=u._isNative(d.forEach)?function(t,i,n){return d.forEach.call(t||[],i,n||e),e}:function(t,i,n){for(var r=0,o=t&&t.length||0;o>r;++r)r in t&&i.call(n||e,t[r],r,t);return e},t.hash=function(e,t){var i,n,r={},o=t&&t.length||0;for(i=0,n=e.length;n>i;++i)i in e&&(r[e[i]]=o>i&&i in t?t[i]:!0);return r},t.indexOf=u._isNative(d.indexOf)?function(e,t,i){return d.indexOf.call(e,t,i)}:function(e,t,i){var n=e.length;for(i=+i||0,i=(i>0||-1)*Math.floor(Math.abs(i)),0>i&&(i+=n,0>i&&(i=0));n>i;++i)if(i in e&&e[i]===t)return i;return-1},t.numericSort=function(e,t){return e-t},t.some=u._isNative(d.some)?function(e,t,i){return d.some.call(e,t,i)}:function(e,t,i){for(var n=0,r=e.length;r>n;++n)if(n in e&&t.call(i,e[n],n,e))return!0;return!1},t.test=function(e){var t=0;if(u.isArray(e))t=1;else if(u.isObject(e))try{"length"in e&&!e.tagName&&(!e.scrollTo||!e.document)&&!e.apply&&(t=2)}catch(i){}return t},i.prototype={_init:function(){this._q=[]},next:function(){return this._q.shift()},last:function(){return this._q.pop()},add:function(){return this._q.push.apply(this._q,arguments),this},size:function(){return this._q.length}},e.Queue=i,YUI.Env._loaderQueue=YUI.Env._loaderQueue||new i;var p="__",h=Object.prototype.hasOwnProperty,f=e.Lang.isObject;e.cached=function(e,t,i){return t||(t={}),function(n){var r=arguments.length>1?Array.prototype.join.call(arguments,p):String(n);return(!(r in t)||i&&t[r]==i)&&(t[r]=e.apply(e,arguments)),t[r]}},e.getLocation=function(){var t=e.config.win;return t&&t.location},e.merge=function(){for(var e,t,i=0,n=arguments.length,r={};n>i;++i){t=arguments[i];for(e in t)h.call(t,e)&&(r[e]=t[e])}return r},e.mix=function(t,i,n,r,o,s){var a,l,c,u,d,p,m;if(!t||!i)return t||e;if(o){if(2===o&&e.mix(t.prototype,i.prototype,n,r,0,s),c=1===o||3===o?i.prototype:i,m=1===o||4===o?t.prototype:t,!c||!m)return t}else c=i,m=t;if(a=n&&!s,r)for(u=0,p=r.length;p>u;++u)d=r[u],h.call(c,d)&&(l=a?!1:d in m,s&&l&&f(m[d],!0)&&f(c[d],!0)?e.mix(m[d],c[d],n,null,0,s):(n||!l)&&(m[d]=c[d]));else{for(d in c)h.call(c,d)&&(l=a?!1:d in m,s&&l&&f(m[d],!0)&&f(c[d],!0)?e.mix(m[d],c[d],n,null,0,s):(n||!l)&&(m[d]=c[d]));e.Object._hasEnumBug&&e.mix(m,c,n,e.Object._forceEnum,o,s)}return t};var m,u=e.Lang,h=Object.prototype.hasOwnProperty,g=e.Object=u._isNative(Object.create)?function(e){return Object.create(e)}:function(){function e(){}return function(t){return e.prototype=t,new e}}(),v=g._forceEnum=["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"],y=g._hasEnumBug=!{valueOf:0}.propertyIsEnumerable("valueOf"),b=g._hasProtoEnumBug=function(){}.propertyIsEnumerable("prototype"),w=g.owns=function(e,t){return!!e&&h.call(e,t)};g.hasKey=w,g.keys=u._isNative(Object.keys)?Object.keys:function(e){if(!u.isObject(e))throw new TypeError("Object.keys called on a non-object");var t,i,n,r=[];if(b&&"function"==typeof e)for(i in e)w(e,i)&&"prototype"!==i&&r.push(i);else for(i in e)w(e,i)&&r.push(i);if(y)for(t=0,n=v.length;n>t;++t)i=v[t],w(e,i)&&r.push(i);return r},g.values=function(e){for(var t=g.keys(e),i=0,n=t.length,r=[];n>i;++i)r.push(e[t[i]]);return r},g.size=function(e){try{return g.keys(e).length}catch(t){return 0}},g.hasValue=function(t,i){return e.Array.indexOf(g.values(t),i)>-1},g.each=function(t,i,n,r){var o;for(o in t)(r||w(t,o))&&i.call(n||e,t[o],o,t);return e},g.some=function(t,i,n,r){var o;for(o in t)if((r||w(t,o))&&i.call(n||e,t[o],o,t))return!0;return!1},g.getValue=function(t,i){if(!u.isObject(t))return m;var n,r=e.Array(i),o=r.length;for(n=0;t!==m&&o>n;n++)t=t[r[n]];return t},g.setValue=function(t,i,n){var r,o=e.Array(i),s=o.length-1,a=t;if(s>=0){for(r=0;a!==m&&s>r;r++)a=a[o[r]];if(a===m)return m;a[o[r]]=n}return t},g.isEmpty=function(e){return!g.keys(Object(e)).length},YUI.Env.parseUA=function(t){var i,n=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1===t++?"":"."}))},r=e.config.win,o=r&&r.navigator,s={ie:0,opera:0,gecko:0,webkit:0,safari:0,chrome:0,mobile:null,air:0,phantomjs:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,silk:0,accel:!1,webos:0,caja:o&&o.cajaVersion,secure:!1,os:null,nodejs:0,winjs:"undefined"!=typeof Windows&&!!Windows.System,touchEnabled:!1},a=t||o&&o.userAgent,l=r&&r.location,c=l&&l.href;return s.userAgent=a,s.secure=c&&0===c.toLowerCase().indexOf("https"),a&&(/windows|win32/i.test(a)?s.os="windows":/macintosh|mac_powerpc/i.test(a)?s.os="macintosh":/android/i.test(a)?s.os="android":/symbos/i.test(a)?s.os="symbos":/linux/i.test(a)?s.os="linux":/rhino/i.test(a)&&(s.os="rhino"),/KHTML/.test(a)&&(s.webkit=1),/IEMobile|XBLWP7/.test(a)&&(s.mobile="windows"),/Fennec/.test(a)&&(s.mobile="gecko"),i=a.match(/AppleWebKit\/([^\s]*)/),i&&i[1]&&(s.webkit=n(i[1]),s.safari=s.webkit,/PhantomJS/.test(a)&&(i=a.match(/PhantomJS\/([^\s]*)/),i&&i[1]&&(s.phantomjs=n(i[1]))),/ Mobile\//.test(a)||/iPad|iPod|iPhone/.test(a)?(s.mobile="Apple",i=a.match(/OS ([^\s]*)/),i&&i[1]&&(i=n(i[1].replace("_","."))),s.ios=i,s.os="ios",s.ipad=s.ipod=s.iphone=0,i=a.match(/iPad|iPod|iPhone/),i&&i[0]&&(s[i[0].toLowerCase()]=s.ios)):(i=a.match(/NokiaN[^\/]*|webOS\/\d\.\d/),i&&(s.mobile=i[0]),/webOS/.test(a)&&(s.mobile="WebOS",i=a.match(/webOS\/([^\s]*);/),i&&i[1]&&(s.webos=n(i[1]))),/ Android/.test(a)&&(/Mobile/.test(a)&&(s.mobile="Android"),i=a.match(/Android ([^\s]*);/),i&&i[1]&&(s.android=n(i[1]))),/Silk/.test(a)&&(i=a.match(/Silk\/([^\s]*)\)/),i&&i[1]&&(s.silk=n(i[1])),s.android||(s.android=2.34,s.os="Android"),/Accelerated=true/.test(a)&&(s.accel=!0))),i=a.match(/(Chrome|CrMo|CriOS)\/([^\s]*)/),i&&i[1]&&i[2]?(s.chrome=n(i[2]),s.safari=0,"CrMo"===i[1]&&(s.mobile="chrome")):(i=a.match(/AdobeAIR\/([^\s]*)/),i&&(s.air=i[0]))),s.webkit||(/Opera/.test(a)?(i=a.match(/Opera[\s\/]([^\s]*)/),i&&i[1]&&(s.opera=n(i[1])),i=a.match(/Version\/([^\s]*)/),i&&i[1]&&(s.opera=n(i[1])),/Opera Mobi/.test(a)&&(s.mobile="opera",i=a.replace("Opera Mobi","").match(/Opera ([^\s]*)/),i&&i[1]&&(s.opera=n(i[1]))),i=a.match(/Opera Mini[^;]*/),i&&(s.mobile=i[0])):(i=a.match(/MSIE\s([^;]*)/),i&&i[1]?s.ie=n(i[1]):(i=a.match(/Gecko\/([^\s]*)/),i&&(s.gecko=1,i=a.match(/rv:([^\s\)]*)/),i&&i[1]&&(s.gecko=n(i[1]))))))),r&&o&&!(s.chrome&&s.chrome<6)&&(s.touchEnabled="ontouchstart"in r||"msMaxTouchPoints"in o&&o.msMaxTouchPoints>0),t||("object"==typeof process&&process.versions&&process.versions.node&&(s.os=process.platform,s.nodejs=n(process.versions.node)),YUI.Env.UA=s),s},e.UA=YUI.Env.UA||YUI.Env.parseUA(),e.UA.compareVersions=function(e,t){var i,n,r,o,s,a;if(e===t)return 0;for(n=(e+"").split("."),o=(t+"").split("."),s=0,a=Math.max(n.length,o.length);a>s;++s){if(i=parseInt(n[s],10),r=parseInt(o[s],10),isNaN(i)&&(i=0),isNaN(r)&&(r=0),r>i)return-1;if(i>r)return 1}return 0},YUI.Env.aliases={anim:["anim-base","anim-color","anim-curve","anim-easing","anim-node-plugin","anim-scroll","anim-xy"],"anim-shape-transform":["anim-shape"],app:["app-base","app-content","app-transitions","lazy-model-list","model","model-list","model-sync-rest","router","view","view-node-map"],attribute:["attribute-base","attribute-complex"],"attribute-events":["attribute-observable"],autocomplete:["autocomplete-base","autocomplete-sources","autocomplete-list","autocomplete-plugin"],axes:["axis-numeric","axis-category","axis-time","axis-stacked"],"axes-base":["axis-numeric-base","axis-category-base","axis-time-base","axis-stacked-base"],base:["base-base","base-pluginhost","base-build"],cache:["cache-base","cache-offline","cache-plugin"],charts:["charts-base"],collection:["array-extras","arraylist","arraylist-add","arraylist-filter","array-invoke"],color:["color-base","color-hsl","color-harmony"],controller:["router"],dataschema:["dataschema-base","dataschema-json","dataschema-xml","dataschema-array","dataschema-text"],datasource:["datasource-local","datasource-io","datasource-get","datasource-function","datasource-cache","datasource-jsonschema","datasource-xmlschema","datasource-arrayschema","datasource-textschema","datasource-polling"],datatable:["datatable-core","datatable-table","datatable-head","datatable-body","datatable-base","datatable-column-widths","datatable-message","datatable-mutable","datatable-sort","datatable-datasource"],datatype:["datatype-date","datatype-number","datatype-xml"],"datatype-date":["datatype-date-parse","datatype-date-format","datatype-date-math"],"datatype-number":["datatype-number-parse","datatype-number-format"],"datatype-xml":["datatype-xml-parse","datatype-xml-format"],dd:["dd-ddm-base","dd-ddm","dd-ddm-drop","dd-drag","dd-proxy","dd-constrain","dd-drop","dd-scroll","dd-delegate"],dom:["dom-base","dom-screen","dom-style","selector-native","selector"],editor:["frame","editor-selection","exec-command","editor-base","editor-para","editor-br","editor-bidi","editor-tab","createlink-base"],event:["event-base","event-delegate","event-synthetic","event-mousewheel","event-mouseenter","event-key","event-focus","event-resize","event-hover","event-outside","event-touch","event-move","event-flick","event-valuechange","event-tap"],"event-custom":["event-custom-base","event-custom-complex"],"event-gestures":["event-flick","event-move"],handlebars:["handlebars-compiler"],highlight:["highlight-base","highlight-accentfold"],history:["history-base","history-hash","history-hash-ie","history-html5"],io:["io-base","io-xdr","io-form","io-upload-iframe","io-queue"],json:["json-parse","json-stringify"],loader:["loader-base","loader-rollup","loader-yui3"],node:["node-base","node-event-delegate","node-pluginhost","node-screen","node-style"],pluginhost:["pluginhost-base","pluginhost-config"],querystring:["querystring-parse","querystring-stringify"],recordset:["recordset-base","recordset-sort","recordset-filter","recordset-indexer"],resize:["resize-base","resize-proxy","resize-constrain"],slider:["slider-base","slider-value-range","clickable-rail","range-slider"],template:["template-base","template-micro"],text:["text-accentfold","text-wordbreak"],widget:["widget-base","widget-htmlparser","widget-skin","widget-uievents"]}},"3.9.1",{use:["yui-base","get","features","intl-base","yui-log","yui-later","loader-base","loader-rollup","loader-yui3"]}),YUI.add("get",function(e){var t,i,n,r=e.Lang;e.Get=i={cssOptions:{attributes:{rel:"stylesheet"},doc:e.config.linkDoc||e.config.doc,pollInterval:50},jsOptions:{autopurge:!0,doc:e.config.scriptDoc||e.config.doc},options:{attributes:{charset:"utf-8"},purgethreshold:20},REGEX_CSS:/\.css(?:[?;].*)?$/i,REGEX_JS:/\.js(?:[?;].*)?$/i,_insertCache:{},_pending:null,_purgeNodes:[],_queue:[],abort:function(e){var t,i,n,r,o;if(!e.abort)if(i=e,o=this._pending,e=null,o&&o.transaction.id===i)e=o.transaction,this._pending=null;else for(t=0,r=this._queue.length;r>t;++t)if(n=this._queue[t].transaction,n.id===i){e=n,this._queue.splice(t,1);break}e&&e.abort()},css:function(e,t,i){return this._load("css",e,t,i)},js:function(e,t,i){return this._load("js",e,t,i)},load:function(e,t,i){return this._load(null,e,t,i)},_autoPurge:function(e){e&&this._purgeNodes.length>=e&&this._purge(this._purgeNodes)},_getEnv:function(){var t=e.config.doc,i=e.UA;return this._env={async:t&&t.createElement("script").async===!0||i.ie>=10,cssFail:i.gecko>=9||i.compareVersions(i.webkit,535.24)>=0,cssLoad:(!i.gecko&&!i.webkit||i.gecko>=9||i.compareVersions(i.webkit,535.24)>=0)&&!(i.chrome&&i.chrome<=18),preservesScriptOrder:!!(i.gecko||i.opera||i.ie&&i.ie>=10)}},_getTransaction:function(t,i){var o,s,a,l,c=[];for(r.isArray(t)||(t=[t]),i=e.merge(this.options,i),i.attributes=e.merge(this.options.attributes,i.attributes),o=0,s=t.length;s>o;++o){if(l=t[o],a={attributes:{}},"string"==typeof l)a.url=l;else{if(!l.url)continue;e.mix(a,l,!1,null,0,!0),l=l.url}e.mix(a,i,!1,null,0,!0),a.type||(this.REGEX_CSS.test(l)?a.type="css":(!this.REGEX_JS.test(l),a.type="js")),e.mix(a,"js"===a.type?this.jsOptions:this.cssOptions,!1,null,0,!0),a.attributes.id||(a.attributes.id=e.guid()),a.win?a.doc=a.win.document:a.win=a.doc.defaultView||a.doc.parentWindow,a.charset&&(a.attributes.charset=a.charset),c.push(a)}return new n(c,i)},_load:function(e,t,n,r){var o;return"function"==typeof n&&(r=n,n={}),n||(n={}),n.type=e,n._onFinish=i._onTransactionFinish,this._env||this._getEnv(),o=this._getTransaction(t,n),this._queue.push({callback:r,transaction:o}),this._next(),o},_onTransactionFinish:function(){i._pending=null,i._next()},_next:function(){var e;this._pending||(e=this._queue.shift(),e&&(this._pending=e,e.transaction.execute(e.callback)))},_purge:function(t){for(var i,n,r=this._purgeNodes,o=t!==r;n=t.pop();)n._yuiget_finished&&(n.parentNode&&n.parentNode.removeChild(n),o&&(i=e.Array.indexOf(r,n),i>-1&&r.splice(i,1)))}},i.script=i.js,i.Transaction=n=function(t,i){var r=this;r.id=n._lastId+=1,r.data=i.data,r.errors=[],r.nodes=[],r.options=i,r.requests=t,r._callbacks=[],r._queue=[],r._reqsWaiting=0,r.tId=r.id,r.win=i.win||e.config.win},n._lastId=0,n.prototype={_state:"new",abort:function(e){this._pending=null,this._pendingCSS=null,this._pollTimer=clearTimeout(this._pollTimer),this._queue=[],this._reqsWaiting=0,this.errors.push({error:e||"Aborted"}),this._finish()},execute:function(e){var t,i,n,r,o=this,s=o.requests,a=o._state;if("done"===a)return e&&e(o.errors.length?o.errors:null,o),void 0;if(e&&o._callbacks.push(e),"executing"!==a){for(o._state="executing",o._queue=n=[],o.options.timeout&&(o._timeout=setTimeout(function(){o.abort("Timeout")},o.options.timeout)),o._reqsWaiting=s.length,t=0,i=s.length;i>t;++t)r=s[t],r.async||"css"===r.type?o._insert(r):n.push(r);o._next()}},purge:function(){i._purge(this.nodes)},_createNode:function(e,i,n){var r,o,s=n.createElement(e);t||(o=n.createElement("div"),o.setAttribute("class","a"),t="a"===o.className?{}:{"for":"htmlFor","class":"className"});for(r in i)i.hasOwnProperty(r)&&s.setAttribute(t[r]||r,i[r]);return s},_finish:function(){var e,t,i,n=this.errors.length?this.errors:null,r=this.options,o=r.context||this;if("done"!==this._state){for(this._state="done",t=0,i=this._callbacks.length;i>t;++t)this._callbacks[t].call(o,n,this);e=this._getEventData(),n?(r.onTimeout&&"Timeout"===n[n.length-1].error&&r.onTimeout.call(o,e),r.onFailure&&r.onFailure.call(o,e)):r.onSuccess&&r.onSuccess.call(o,e),r.onEnd&&r.onEnd.call(o,e),r._onFinish&&r._onFinish()}},_getEventData:function(t){return t?e.merge(this,{abort:this.abort,purge:this.purge,request:t,url:t.url,win:t.win}):this},_getInsertBefore:function(t){var n,r,o=t.doc,s=t.insertBefore;return s?"string"==typeof s?o.getElementById(s):s:(n=i._insertCache,r=e.stamp(o),(s=n[r])?s:(s=o.getElementsByTagName("base")[0])?n[r]=s:(s=o.head||o.getElementsByTagName("head")[0],s?(s.appendChild(o.createTextNode("")),n[r]=s.lastChild):n[r]=o.getElementsByTagName("script")[0]))},_insert:function(t){function n(){d._progress("Failed to load "+t.url,t)}function r(){o&&clearTimeout(o),d._progress(null,t)}var o,s,a=i._env,l=this._getInsertBefore(t),c="js"===t.type,u=t.node,d=this,h=e.UA;u||(s=c?"script":!a.cssLoad&&h.gecko?"style":"link",u=t.node=this._createNode(s,t.attributes,t.doc)),c?(u.setAttribute("src",t.url),t.async?u.async=!0:(a.async&&(u.async=!1),a.preservesScriptOrder||(this._pending=t))):!a.cssLoad&&h.gecko?u.innerHTML=(t.attributes.charset?'@charset "'+t.attributes.charset+'";':"")+'@import "'+t.url+'";':u.setAttribute("href",t.url),c&&h.ie&&(h.ie<9||document.documentMode&&document.documentMode<9)?u.onreadystatechange=function(){/loaded|complete/.test(u.readyState)&&(u.onreadystatechange=null,r())}:c||a.cssLoad?(h.ie>=10?(u.onerror=function(){setTimeout(n,0)},u.onload=function(){setTimeout(r,0)}):(u.onerror=n,u.onload=r),!a.cssFail&&!c&&(o=setTimeout(n,t.timeout||3e3))):this._poll(t),this.nodes.push(u),l.parentNode.insertBefore(u,l)},_next:function(){this._pending||(this._queue.length?this._insert(this._queue.shift()):this._reqsWaiting||this._finish())},_poll:function(t){var i,n,r,o,s,a,l=this,c=l._pendingCSS,u=e.UA.webkit;if(!t||(c||(c=l._pendingCSS=[]),c.push(t),!l._pollTimer)){for(l._pollTimer=null,i=0;i<c.length;++i)if(s=c[i],u){for(a=s.doc.styleSheets,r=a.length,o=s.node.href;--r>=0;)if(a[r].href===o){c.splice(i,1),i-=1,l._progress(null,s);break}}else try{n=!!s.node.sheet.cssRules,c.splice(i,1),i-=1,l._progress(null,s)}catch(d){}c.length&&(l._pollTimer=setTimeout(function(){l._poll.call(l)},l.options.pollInterval))}},_progress:function(e,t){var n=this.options;e&&(t.error=e,this.errors.push({error:e,request:t})),t.node._yuiget_finished=t.finished=!0,n.onProgress&&n.onProgress.call(n.context||this,this._getEventData(t)),t.autopurge&&(i._autoPurge(this.options.purgethreshold),i._purgeNodes.push(t.node)),this._pending===t&&(this._pending=null),this._reqsWaiting-=1,this._next()}}},"3.9.1",{requires:["yui-base"]}),YUI.add("features",function(e){var t={};e.mix(e.namespace("Features"),{tests:t,add:function(e,i,n){t[e]=t[e]||{},t[e][i]=n},all:function(i,n){var r=t[i],o=[];return r&&e.Object.each(r,function(t,r){o.push(r+":"+(e.Features.test(i,r,n)?1:0))}),o.length?o.join(";"):""},test:function(i,n,r){r=r||[];var o,s,a,l=t[i],c=l&&l[n];return!c||(o=c.result,e.Lang.isUndefined(o)&&(s=c.ua,s&&(o=e.UA[s]),a=c.test,a&&(!s||o)&&(o=a.apply(e,r)),c.result=o)),o}});var i=e.Features.add;i("load","0",{name:"app-transitions-native",test:function(e){var t=e.config.doc,i=t?t.documentElement:null;return i&&i.style?"MozTransition"in i.style||"WebkitTransition"in i.style||"transition"in i.style:!1},trigger:"app-transitions"}),i("load","1",{name:"autocomplete-list-keys",test:function(e){return!e.UA.ios&&!e.UA.android},trigger:"autocomplete-list"}),i("load","2",{name:"dd-gestures",trigger:"dd-drag",ua:"touchEnabled"}),i("load","3",{name:"dom-style-ie",test:function(e){var t=e.Features.test,i=e.Features.add,n=e.config.win,r=e.config.doc,o="documentElement",s=!1;return i("style","computedStyle",{test:function(){return n&&"getComputedStyle"in n}}),i("style","opacity",{test:function(){return r&&"opacity"in r[o].style}}),s=!t("style","opacity")&&!t("style","computedStyle")},trigger:"dom-style"}),i("load","4",{name:"editor-para-ie",trigger:"editor-para",ua:"ie",when:"instead"}),i("load","5",{name:"event-base-ie",test:function(e){var t=e.config.doc&&e.config.doc.implementation;return t&&!t.hasFeature("Events","2.0")},trigger:"node-base"}),i("load","6",{name:"graphics-canvas",test:function(e){var t=e.config.doc,i=e.config.defaultGraphicEngine&&"canvas"==e.config.defaultGraphicEngine,n=t&&t.createElement("canvas"),r=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return(!r||i)&&n&&n.getContext&&n.getContext("2d")},trigger:"graphics"}),i("load","7",{name:"graphics-canvas-default",test:function(e){var t=e.config.doc,i=e.config.defaultGraphicEngine&&"canvas"==e.config.defaultGraphicEngine,n=t&&t.createElement("canvas"),r=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return(!r||i)&&n&&n.getContext&&n.getContext("2d")},trigger:"graphics"}),i("load","8",{name:"graphics-svg",test:function(e){var t=e.config.doc,i=!e.config.defaultGraphicEngine||"canvas"!=e.config.defaultGraphicEngine,n=t&&t.createElement("canvas"),r=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return r&&(i||!n)},trigger:"graphics"}),i("load","9",{name:"graphics-svg-default",test:function(e){var t=e.config.doc,i=!e.config.defaultGraphicEngine||"canvas"!=e.config.defaultGraphicEngine,n=t&&t.createElement("canvas"),r=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return r&&(i||!n)},trigger:"graphics"}),i("load","10",{name:"graphics-vml",test:function(e){var t=e.config.doc,i=t&&t.createElement("canvas");return!(!t||t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||i&&i.getContext&&i.getContext("2d"))},trigger:"graphics"}),i("load","11",{name:"graphics-vml-default",test:function(e){var t=e.config.doc,i=t&&t.createElement("canvas");return!(!t||t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||i&&i.getContext&&i.getContext("2d"))},trigger:"graphics"}),i("load","12",{name:"history-hash-ie",test:function(e){var t=e.config.doc&&e.config.doc.documentMode;return e.UA.ie&&(!("onhashchange"in e.config.win)||!t||8>t)},trigger:"history-hash"}),i("load","13",{name:"io-nodejs",trigger:"io-base",ua:"nodejs"}),i("load","14",{name:"json-parse-shim",test:function(e){function t(e,t){return"ok"===e?!0:t}var i=e.config.global.JSON,n="[object JSON]"===Object.prototype.toString.call(i)&&i,r=e.config.useNativeJSONParse!==!1&&!!n;if(r)try{r=n.parse('{"ok":false}',t).ok}catch(o){r=!1}return!r},trigger:"json-parse"}),i("load","15",{name:"json-stringify-shim",test:function(e){var t=e.config.global.JSON,i="[object JSON]"===Object.prototype.toString.call(t)&&t,n=e.config.useNativeJSONStringify!==!1&&!!i;if(n)try{n="0"===i.stringify(0)
}catch(r){n=!1}return!n},trigger:"json-stringify"}),i("load","16",{name:"scrollview-base-ie",trigger:"scrollview-base",ua:"ie"}),i("load","17",{name:"selector-css2",test:function(e){var t=e.config.doc,i=t&&!("querySelectorAll"in t);return i},trigger:"selector"}),i("load","18",{name:"transition-timer",test:function(e){var t=e.config.doc,i=t?t.documentElement:null,n=!0;return i&&i.style&&(n=!("MozTransition"in i.style||"WebkitTransition"in i.style||"transition"in i.style)),n},trigger:"transition"}),i("load","19",{name:"widget-base-ie",trigger:"widget-base",ua:"ie"}),i("load","20",{name:"yql-jsonp",test:function(e){return!e.UA.nodejs&&!e.UA.winjs},trigger:"yql",when:"after"}),i("load","21",{name:"yql-nodejs",trigger:"yql",ua:"nodejs",when:"after"}),i("load","22",{name:"yql-winjs",trigger:"yql",ua:"winjs",when:"after"})},"3.9.1",{requires:["yui-base"]}),YUI.add("intl-base",function(e){var t=/[, ]/;e.mix(e.namespace("Intl"),{lookupBestLang:function(i,n){function r(e){var t;for(t=0;t<n.length;t+=1)if(e.toLowerCase()===n[t].toLowerCase())return n[t]}var o,s,a,l;for(e.Lang.isString(i)&&(i=i.split(t)),o=0;o<i.length;o+=1)if(s=i[o],s&&"*"!==s)for(;s.length>0;){if(a=r(s))return a;if(l=s.lastIndexOf("-"),!(l>=0))break;s=s.substring(0,l),l>=2&&"-"===s.charAt(l-2)&&(s=s.substring(0,l-2))}return""}})},"3.9.1",{requires:["yui-base"]}),YUI.add("yui-log",function(e){var t=e,i="yui:log",n="undefined",r={debug:1,info:1,warn:1,error:1};t.log=function(e,o,s,a){var l,c,u,d,h,p=t,f=p.config,m=p.fire?p:YUI.Env.globalEvents;return f.debug&&(s=s||"","undefined"!=typeof s&&(c=f.logExclude,u=f.logInclude,!u||s in u?u&&s in u?l=!u[s]:c&&s in c&&(l=c[s]):l=1),l||(f.useBrowserConsole&&(d=s?s+": "+e:e,p.Lang.isFunction(f.logFn)?f.logFn.call(p,e,o,s):typeof console!==n&&console.log?(h=o&&console[o]&&o in r?o:"log",console[h](d)):typeof opera!==n&&opera.postError(d)),m&&!a&&(m===p&&!m.getEvent(i)&&m.publish(i,{broadcast:2}),m.fire(i,{msg:e,cat:o,src:s})))),p},t.message=function(){return t.log.apply(t,arguments)}},"3.9.1",{requires:["yui-base"]}),YUI.add("yui-later",function(e){var t=[];e.later=function(i,n,r,o,s){i=i||0,o=e.Lang.isUndefined(o)?t:e.Array(o),n=n||e.config.win||e;var a=!1,l=n&&e.Lang.isString(r)?n[r]:r,c=function(){a||(l.apply?l.apply(n,o||t):l(o[0],o[1],o[2],o[3]))},u=s?setInterval(c,i):setTimeout(c,i);return{id:u,interval:s,cancel:function(){a=!0,this.interval?clearInterval(u):clearTimeout(u)}}},e.Lang.later=e.later},"3.9.1",{requires:["yui-base"]}),YUI.add("loader-base",function(e){YUI.Env[e.version]||function(){var t=e.version,i="/build/",n=t+i,r=e.Env.base,o="gallery-2013.02.27-21-03",s="2in3",a="4",l="2.9.0",c=r+"combo?",u={version:t,root:n,base:e.Env.base,comboBase:c,skin:{defaultSkin:"sam",base:"assets/skins/",path:"skin.css",after:["cssreset","cssfonts","cssgrids","cssbase","cssreset-context","cssfonts-context"]},groups:{},patterns:{}},d=u.groups,h=function(e,t,n){var o=s+"."+(e||a)+"/"+(t||l)+i,u=n&&n.base?n.base:r,h=n&&n.comboBase?n.comboBase:c;d.yui2.base=u+o,d.yui2.root=o,d.yui2.comboBase=h},p=function(e,t){var n=(e||o)+i,s=t&&t.base?t.base:r,a=t&&t.comboBase?t.comboBase:c;d.gallery.base=s+n,d.gallery.root=n,d.gallery.comboBase=a};d[t]={},d.gallery={ext:!1,combine:!0,comboBase:c,update:p,patterns:{"gallery-":{},"lang/gallery-":{},"gallerycss-":{type:"css"}}},d.yui2={combine:!0,ext:!1,comboBase:c,update:h,patterns:{"yui2-":{configFn:function(e){/-skin|reset|fonts|grids|base/.test(e.name)&&(e.type="css",e.path=e.path.replace(/\.js/,".css"),e.path=e.path.replace(/\/yui2-skin/,"/assets/skins/sam/yui2-skin"))}}}},p(),h(),YUI.Env[t]=u}();var t,i={},n=[],r=1024,o=YUI.Env,s=o._loaded,a="css",l="js",c="intl",u="sam",d=e.version,h="",p=e.Object,f=p.each,m=e.Array,g=o._loaderQueue,v=o[d],y="skin-",b=e.Lang,w=o.mods,x=function(e,t,i,n){var r=e+"/"+t;return n||(r+="-min"),r+="."+(i||a)};YUI.Env._cssLoaded||(YUI.Env._cssLoaded={}),e.Env.meta=v,e.Loader=function(i){var n=this;i=i||{},t=v.md5,n.context=e,n.base=e.Env.meta.base+e.Env.meta.root,n.comboBase=e.Env.meta.comboBase,n.combine=i.base&&i.base.indexOf(n.comboBase.substr(0,20))>-1,n.comboSep="&",n.maxURLLength=r,n.ignoreRegistered=i.ignoreRegistered,n.root=e.Env.meta.root,n.timeout=0,n.forceMap={},n.allowRollup=!1,n.filters={},n.required={},n.patterns={},n.moduleInfo={},n.groups=e.merge(e.Env.meta.groups),n.skin=e.merge(e.Env.meta.skin),n.conditions={},n.config=i,n._internal=!0,n._populateCache(),n.loaded=s[d],n.async=!0,n._inspectPage(),n._internal=!1,n._config(i),n.forceMap=n.force?e.Array.hash(n.force):{},n.testresults=null,e.config.tests&&(n.testresults=e.config.tests),n.sorted=[],n.dirty=!0,n.inserted={},n.skipped={},n.tested={},n.ignoreRegistered&&n._resetModules()},e.Loader.prototype={_populateCache:function(){var t,i=this,n=v.modules,r=o._renderedMods;if(r&&!i.ignoreRegistered){for(t in r)r.hasOwnProperty(t)&&(i.moduleInfo[t]=e.merge(r[t]));r=o._conditions;for(t in r)r.hasOwnProperty(t)&&(i.conditions[t]=e.merge(r[t]))}else for(t in n)n.hasOwnProperty(t)&&i.addModule(n[t],t)},_resetModules:function(){var e,t,i,n,r,o=this;for(e in o.moduleInfo)if(o.moduleInfo.hasOwnProperty(e)){if(i=o.moduleInfo[e],n=i.name,r=YUI.Env.mods[n]?YUI.Env.mods[n].details:null,r&&(o.moduleInfo[n]._reset=!0,o.moduleInfo[n].requires=r.requires||[],o.moduleInfo[n].optional=r.optional||[],o.moduleInfo[n].supersedes=r.supercedes||[]),i.defaults)for(t in i.defaults)i.defaults.hasOwnProperty(t)&&i[t]&&(i[t]=i.defaults[t]);delete i.langCache,delete i.skinCache,i.skinnable&&o._addSkin(o.skin.defaultSkin,i.name)}},REGEX_CSS:/\.css(?:[?;].*)?$/i,FILTER_DEFS:{RAW:{searchExp:"-min\\.js",replaceStr:".js"},DEBUG:{searchExp:"-min\\.js",replaceStr:"-debug.js"},COVERAGE:{searchExp:"-min\\.js",replaceStr:"-coverage.js"}},_inspectPage:function(){var e,t,i,n,r,o=this;for(r in o.moduleInfo)o.moduleInfo.hasOwnProperty(r)&&(e=o.moduleInfo[r],e.type&&e.type===a&&o.isCSSLoaded(e.name)&&(o.loaded[r]=!0));for(r in w)w.hasOwnProperty(r)&&(e=w[r],e.details&&(t=o.moduleInfo[e.name],i=e.details.requires,n=t&&t.requires,t?!t._inspected&&i&&n.length!==i.length&&delete t.expanded:t=o.addModule(e.details,r),t._inspected=!0))},_requires:function(e,t){var i,n,r,o,s=this.moduleInfo,l=s[e],c=s[t];if(!l||!c)return!1;if(n=l.expanded_map,r=l.after_map,r&&t in r)return!0;if(r=c.after_map,r&&e in r)return!1;if(o=s[t]&&s[t].supersedes)for(i=0;i<o.length;i++)if(this._requires(e,o[i]))return!0;if(o=s[e]&&s[e].supersedes)for(i=0;i<o.length;i++)if(this._requires(t,o[i]))return!1;return n&&t in n?!0:l.ext&&l.type===a&&!c.ext&&c.type===a?!0:!1},_config:function(t){var i,n,r,o,s,a,l,c,u=this,d=[];if(t)for(i in t)if(t.hasOwnProperty(i))if(r=t[i],"require"===i)u.require(r);else if("skin"===i)"string"==typeof r&&(u.skin.defaultSkin=t.skin,r={defaultSkin:r}),e.mix(u.skin,r,!0);else if("groups"===i){for(n in r)if(r.hasOwnProperty(n)&&(l=n,a=r[n],u.addGroup(a,l),a.aliases))for(o in a.aliases)a.aliases.hasOwnProperty(o)&&u.addAlias(a.aliases[o],o)}else if("modules"===i)for(n in r)r.hasOwnProperty(n)&&u.addModule(r[n],n);else if("aliases"===i)for(n in r)r.hasOwnProperty(n)&&u.addAlias(r[n],n);else"gallery"===i?this.groups.gallery.update&&this.groups.gallery.update(r,t):"yui2"===i||"2in3"===i?this.groups.yui2.update&&this.groups.yui2.update(t["2in3"],t.yui2,t):u[i]=r;if(s=u.filter,b.isString(s)&&(s=s.toUpperCase(),u.filterName=s,u.filter=u.FILTER_DEFS[s],"DEBUG"===s&&u.require("yui-log","dump")),u.filterName&&u.coverage&&"COVERAGE"===u.filterName&&b.isArray(u.coverage)&&u.coverage.length){for(i=0;i<u.coverage.length;i++)c=u.coverage[i],u.moduleInfo[c]&&u.moduleInfo[c].use?d=[].concat(d,u.moduleInfo[c].use):d.push(c);u.filters=u.filters||{},e.Array.each(d,function(e){u.filters[e]=u.FILTER_DEFS.COVERAGE}),u.filterName="RAW",u.filter=u.FILTER_DEFS[u.filterName]}},formatSkin:function(e,t){var i=y+e;return t&&(i=i+"-"+t),i},_addSkin:function(e,t,i){var n,r,o,s,a=this.moduleInfo,l=this.skin,c=a[t]&&a[t].ext;return t&&(o=this.formatSkin(e,t),a[o]||(n=a[t],r=n.pkg||t,s={skin:!0,name:o,group:n.group,type:"css",after:l.after,path:(i||r)+"/"+l.base+e+"/"+t+".css",ext:c},n.base&&(s.base=n.base),n.configFn&&(s.configFn=n.configFn),this.addModule(s,o))),o},addAlias:function(e,t){YUI.Env.aliases[t]=e,this.addModule({name:t,use:e})},addGroup:function(e,t){var i,n,r=e.modules,o=this;if(t=t||e.name,e.name=t,o.groups[t]=e,e.patterns)for(i in e.patterns)e.patterns.hasOwnProperty(i)&&(e.patterns[i].group=t,o.patterns[i]=e.patterns[i]);if(r)for(i in r)r.hasOwnProperty(i)&&(n=r[i],"string"==typeof n&&(n={name:i,fullpath:n}),n.group=t,o.addModule(n,i))},addModule:function(t,i){i=i||t.name,"string"==typeof t&&(t={name:i,fullpath:t});var n,r,s,c,u,d,p,f,g,v,y,b,w,_,$,C,k,T,S,D,E,P,M,I=this.conditions;if(this.moduleInfo[i]&&this.moduleInfo[i].temp&&(t=e.merge(this.moduleInfo[i],t)),t.name=i,!t||!t.name)return null;if(t.type||(t.type=l,P=t.path||t.fullpath,P&&this.REGEX_CSS.test(P)&&(t.type=a)),!t.path&&!t.fullpath&&(t.path=x(i,i,t.type)),t.supersedes=t.supersedes||t.use,t.ext="ext"in t?t.ext:this._internal?!1:!0,n=t.submodules,this.moduleInfo[i]=t,t.requires=t.requires||[],this.requires)for(r=0;r<this.requires.length;r++)t.requires.push(this.requires[r]);if(t.group&&this.groups&&this.groups[t.group]&&(E=this.groups[t.group],E.requires))for(r=0;r<E.requires.length;r++)t.requires.push(E.requires[r]);if(t.defaults||(t.defaults={requires:t.requires?[].concat(t.requires):null,supersedes:t.supersedes?[].concat(t.supersedes):null,optional:t.optional?[].concat(t.optional):null}),t.skinnable&&t.ext&&t.temp&&(S=this._addSkin(this.skin.defaultSkin,i),t.requires.unshift(S)),t.requires.length&&(t.requires=this.filterRequires(t.requires)||[]),!t.langPack&&t.lang)for(y=m(t.lang),v=0;v<y.length;v++)C=y[v],b=this.getLangPackName(C,i),p=this.moduleInfo[b],p||(p=this._addLangPack(C,t,b));if(n){u=t.supersedes||[],s=0;for(r in n)if(n.hasOwnProperty(r)){if(d=n[r],d.path=d.path||x(i,r,t.type),d.pkg=i,d.group=t.group,d.supersedes&&(u=u.concat(d.supersedes)),p=this.addModule(d,r),u.push(r),p.skinnable){if(t.skinnable=!0,T=this.skin.overrides,T&&T[r])for(v=0;v<T[r].length;v++)S=this._addSkin(T[r][v],r,i),u.push(S);S=this._addSkin(this.skin.defaultSkin,r,i),u.push(S)}if(d.lang&&d.lang.length)for(y=m(d.lang),v=0;v<y.length;v++)C=y[v],b=this.getLangPackName(C,i),w=this.getLangPackName(C,r),p=this.moduleInfo[b],p||(p=this._addLangPack(C,t,b)),_=_||m.hash(p.supersedes),w in _||p.supersedes.push(w),t.lang=t.lang||[],$=$||m.hash(t.lang),C in $||t.lang.push(C),b=this.getLangPackName(h,i),w=this.getLangPackName(h,r),p=this.moduleInfo[b],p||(p=this._addLangPack(C,t,b)),w in _||p.supersedes.push(w);s++}t.supersedes=m.dedupe(u),this.allowRollup&&(t.rollup=4>s?s:Math.min(s-1,4))}if(f=t.plugins)for(r in f)f.hasOwnProperty(r)&&(g=f[r],g.pkg=i,g.path=g.path||x(i,r,t.type),g.requires=g.requires||[],g.group=t.group,this.addModule(g,r),t.skinnable&&this._addSkin(this.skin.defaultSkin,r,i));if(t.condition)for(c=t.condition.trigger,YUI.Env.aliases[c]&&(c=YUI.Env.aliases[c]),e.Lang.isArray(c)||(c=[c]),r=0;r<c.length;r++)M=c[r],D=t.condition.when,I[M]=I[M]||{},I[M][i]=t.condition,D&&"after"!==D?"instead"===D&&(t.supersedes=t.supersedes||[],t.supersedes.push(M)):(t.after=t.after||[],t.after.push(M));return t.supersedes&&(t.supersedes=this.filterRequires(t.supersedes)),t.after&&(t.after=this.filterRequires(t.after),t.after_map=m.hash(t.after)),t.configFn&&(k=t.configFn(t),k===!1&&(delete this.moduleInfo[i],delete o._renderedMods[i],t=null)),t&&(o._renderedMods||(o._renderedMods={}),o._renderedMods[i]=e.mix(o._renderedMods[i]||{},t),o._conditions=I),t},require:function(t){var i="string"==typeof t?m(arguments):t;this.dirty=!0,this.required=e.merge(this.required,m.hash(this.filterRequires(i))),this._explodeRollups()},_explodeRollups:function(){var e,t,i,n,r,o,s,a=this,l=a.required;if(!a.allowRollup){for(i in l)if(l.hasOwnProperty(i)&&(e=a.getModule(i),e&&e.use))for(o=e.use.length,n=0;o>n;n++)if(t=a.getModule(e.use[n]),t&&t.use)for(s=t.use.length,r=0;s>r;r++)l[t.use[r]]=!0;else l[e.use[n]]=!0;a.required=l}},filterRequires:function(t){if(t){e.Lang.isArray(t)||(t=[t]),t=e.Array(t);var i,n,r,o,s=[];for(i=0;i<t.length;i++)if(n=this.getModule(t[i]),n&&n.use)for(r=0;r<n.use.length;r++)o=this.getModule(n.use[r]),o&&o.use&&o.name!==n.name?s=e.Array.dedupe([].concat(s,this.filterRequires(o.use))):s.push(n.use[r]);else s.push(t[i]);t=s}return t},getRequires:function(t){if(!t)return n;if(t._parsed)return t.expanded||n;var i,r,o,s,a,l,u,d,g,v,y,b,x,_,$,C,k,T,S,D=this.testresults,E=t.name,P=w[E]&&w[E].details,M=t.lang||t.intl,I=this.moduleInfo,A=e.Features&&e.Features.tests.load;if(t.temp&&P&&(b=t,t=this.addModule(P,E),t.group=b.group,t.pkg=b.pkg,delete t.expanded),S=!!this.lang&&t.langCache!==this.lang||t.skinCache!==this.skin.defaultSkin,t.expanded&&!S)return t.expanded;for(d=[],T={},y=this.filterRequires(t.requires),t.lang&&(d.unshift("intl"),y.unshift("intl"),M=!0),x=this.filterRequires(t.optional),t._parsed=!0,t.langCache=this.lang,t.skinCache=this.skin.defaultSkin,i=0;i<y.length;i++)if(!T[y[i]]&&(d.push(y[i]),T[y[i]]=!0,r=this.getModule(y[i]),r)){s=this.getRequires(r),M=M||r.expanded_map&&c in r.expanded_map;for(o=0;o<s.length;o++)d.push(s[o])}if(y=this.filterRequires(t.supersedes))for(i=0;i<y.length;i++)if(!T[y[i]]&&(t.submodules&&d.push(y[i]),T[y[i]]=!0,r=this.getModule(y[i]),r)){s=this.getRequires(r),M=M||r.expanded_map&&c in r.expanded_map;for(o=0;o<s.length;o++)d.push(s[o])}if(x&&this.loadOptional)for(i=0;i<x.length;i++)if(!T[x[i]]&&(d.push(x[i]),T[x[i]]=!0,r=I[x[i]],r)){s=this.getRequires(r),M=M||r.expanded_map&&c in r.expanded_map;for(o=0;o<s.length;o++)d.push(s[o])}if(u=this.conditions[E])if(t._parsed=!1,D&&A)f(D,function(e,t){var i=A[t].name;!T[i]&&A[t].trigger===E&&e&&A[t]&&(T[i]=!0,d.push(i))});else for(i in u)if(u.hasOwnProperty(i)&&!T[i]&&(v=u[i],g=v&&(!v.ua&&!v.test||v.ua&&e.UA[v.ua]||v.test&&v.test(e,y)),g&&(T[i]=!0,d.push(i),r=this.getModule(i),r)))for(s=this.getRequires(r),o=0;o<s.length;o++)d.push(s[o]);if(t.skinnable){$=this.skin.overrides;for(i in YUI.Env.aliases)YUI.Env.aliases.hasOwnProperty(i)&&e.Array.indexOf(YUI.Env.aliases[i],E)>-1&&(C=i);if($&&($[E]||C&&$[C]))for(k=E,$[C]&&(k=C),i=0;i<$[k].length;i++)_=this._addSkin($[k][i],E),this.isCSSLoaded(_,this._boot)||d.push(_);else _=this._addSkin(this.skin.defaultSkin,E),this.isCSSLoaded(_,this._boot)||d.push(_)}return t._parsed=!1,M&&(t.lang&&!t.langPack&&e.Intl&&(l=e.Intl.lookupBestLang(this.lang||h,t.lang),a=this.getLangPackName(l,E),a&&d.unshift(a)),d.unshift(c)),t.expanded_map=m.hash(d),t.expanded=p.keys(t.expanded_map),t.expanded},isCSSLoaded:function(t,i){if(!t||!YUI.Env.cssStampEl||!i&&this.ignoreRegistered)return!1;var n=YUI.Env.cssStampEl,r=!1,o=YUI.Env._cssLoaded[t],s=n.currentStyle;return void 0!==o?o:(n.className=t,s||(s=e.config.doc.defaultView.getComputedStyle(n,null)),s&&"none"===s.display&&(r=!0),n.className="",YUI.Env._cssLoaded[t]=r,r)},getProvides:function(t){var n,r,o=this.getModule(t);return o?(o&&!o.provides&&(n={},r=o.supersedes,r&&m.each(r,function(t){e.mix(n,this.getProvides(t))},this),n[t]=!0,o.provides=n),o.provides):i},calculate:function(e,t){(e||t||this.dirty)&&(e&&this._config(e),this._init||this._setup(),this._explode(),this.allowRollup?this._rollup():this._explodeRollups(),this._reduce(),this._sort())},_addLangPack:function(t,i,n){var r,o,s=i.name,a=this.moduleInfo[n];return a||(r=x(i.pkg||s,n,l,!0),o={path:r,intl:!0,langPack:!0,ext:i.ext,group:i.group,supersedes:[]},i.root&&(o.root=i.root),i.base&&(o.base=i.base),i.configFn&&(o.configFn=i.configFn),this.addModule(o,n),t&&(e.Env.lang=e.Env.lang||{},e.Env.lang[t]=e.Env.lang[t]||{},e.Env.lang[t][s]=!0)),this.moduleInfo[n]},_setup:function(){var t,i,n,r,s,a,l=this.moduleInfo;for(t in l)l.hasOwnProperty(t)&&(r=l[t],r&&(r.requires=m.dedupe(r.requires),r.lang&&(a=this.getLangPackName(h,t),this._addLangPack(null,r,a))));s={},this.ignoreRegistered||e.mix(s,o.mods),this.ignore&&e.mix(s,m.hash(this.ignore));for(n in s)s.hasOwnProperty(n)&&e.mix(s,this.getProvides(n));if(this.force)for(i=0;i<this.force.length;i++)this.force[i]in s&&delete s[this.force[i]];e.mix(this.loaded,s),this._init=!0},getLangPackName:function(e,t){return"lang/"+t+(e?"_"+e:"")},_explode:function(){var t,i,n,r,o=this.required,s={},a=this;a.dirty=!1,a._explodeRollups(),o=a.required;for(n in o)o.hasOwnProperty(n)&&(s[n]||(s[n]=!0,t=a.getModule(n),t&&(r=t.expound,r&&(o[r]=a.getModule(r),i=a.getRequires(o[r]),e.mix(o,m.hash(i))),i=a.getRequires(t),e.mix(o,m.hash(i)))))},_patternTest:function(e,t){return e.indexOf(t)>-1},getModule:function(t){if(!t)return null;var i,n,r,o=this.moduleInfo[t],s=this.patterns;if(!o||o&&o.ext)for(r in s)if(s.hasOwnProperty(r)&&(i=s[r],i.test||(i.test=this._patternTest),i.test(t,r))){n=i;break}return o?n&&o&&n.configFn&&!o.configFn&&(o.configFn=n.configFn,o.configFn(o)):n&&(i.action?i.action.call(this,t,r):(o=this.addModule(e.merge(n),t),n.configFn&&(o.configFn=n.configFn),o.temp=!0)),o},_rollup:function(){},_reduce:function(e){e=e||this.required;var t,i,n,r,o=this.loadType,s=this.ignore?m.hash(this.ignore):!1;for(t in e)if(e.hasOwnProperty(t)&&(r=this.getModule(t),((this.loaded[t]||w[t])&&!this.forceMap[t]&&!this.ignoreRegistered||o&&r&&r.type!==o)&&delete e[t],s&&s[t]&&delete e[t],n=r&&r.supersedes,n))for(i=0;i<n.length;i++)n[i]in e&&delete e[n[i]];return e},_finish:function(e,t){g.running=!1;var i=this.onEnd;i&&i.call(this.context,{msg:e,data:this.data,success:t}),this._continue()},_onSuccess:function(){var t,i,n,r,o,s=this,a=e.merge(s.skipped),c=[],u=s.requireRegistration;for(r in a)a.hasOwnProperty(r)&&delete s.inserted[r];s.skipped={};for(r in s.inserted)s.inserted.hasOwnProperty(r)&&(o=s.getModule(r),!o||!u||o.type!==l||r in YUI.Env.mods?e.mix(s.loaded,s.getProvides(r)):c.push(r));t=s.onSuccess,n=c.length?"notregistered":"success",i=!c.length,t&&t.call(s.context,{msg:n,data:s.data,success:i,failed:c,skipped:a}),s._finish(n,i)},_onProgress:function(e){var t,i=this;if(e.data&&e.data.length)for(t=0;t<e.data.length;t++)e.data[t]=i.getModule(e.data[t].name);i.onProgress&&i.onProgress.call(i.context,{name:e.url,data:e.data})},_onFailure:function(e){var t=this.onFailure,i=[],n=0,r=e.errors.length;for(n;r>n;n++)i.push(e.errors[n].error);i=i.join(","),t&&t.call(this.context,{msg:i,data:this.data,success:!1}),this._finish(i,!1)},_onTimeout:function(e){var t=this.onTimeout;t&&t.call(this.context,{msg:"timeout",data:this.data,success:!1,transaction:e})},_sort:function(){for(var e,t,i,n,r,o,s,a=p.keys(this.required),l={},c=0;;){for(e=a.length,o=!1,n=c;e>n;n++){for(t=a[n],r=n+1;e>r;r++)if(s=t+a[r],!l[s]&&this._requires(t,a[r])){i=a.splice(r,1),a.splice(n,0,i[0]),l[s]=!0,o=!0;break}if(o)break;c++}if(!o)break}this.sorted=a},_insert:function(t,i,n,r){t&&this._config(t);var o,s,c=this.resolve(!r),u=this,d=0,h=0,p={};return u._refetch=[],n&&(c[n===l?a:l]=[]),u.fetchCSS||(c.css=[]),c.js.length&&d++,c.css.length&&d++,s=function(t){h++;var i,n,r,s={},a=0,l=0,c="";if(t&&t.errors)for(a=0;a<t.errors.length;a++)c=t.errors[a].request?t.errors[a].request.url:t.errors[a],s[c]=c;if(t&&t.data&&t.data.length&&"success"===t.type)for(a=0;a<t.data.length;a++)u.inserted[t.data[a].name]=!0,(t.data[a].lang||t.data[a].skinnable)&&(delete u.inserted[t.data[a].name],u._refetch.push(t.data[a].name));if(h===d){if(u._loading=null,u._refetch.length){for(a=0;a<u._refetch.length;a++)for(o=u.getRequires(u.getModule(u._refetch[a])),l=0;l<o.length;l++)u.inserted[o[l]]||(p[o[l]]=o[l]);if(p=e.Object.keys(p),p.length){if(u.require(p),r=u.resolve(!0),r.cssMods.length){for(a=0;a<r.cssMods.length;a++)n=r.cssMods[a].name,delete YUI.Env._cssLoaded[n],u.isCSSLoaded(n)&&(u.inserted[n]=!0,delete u.required[n]);u.sorted=[],u._sort()}t=null,u._insert()}}t&&t.fn&&(i=t.fn,delete t.fn,i.call(u,t))}},this._loading=!0,c.js.length||c.css.length?(c.css.length&&e.Get.css(c.css,{data:c.cssMods,attributes:u.cssAttributes,insertBefore:u.insertBefore,charset:u.charset,timeout:u.timeout,context:u,onProgress:function(e){u._onProgress.call(u,e)},onTimeout:function(e){u._onTimeout.call(u,e)},onSuccess:function(e){e.type="success",e.fn=u._onSuccess,s.call(u,e)},onFailure:function(e){e.type="failure",e.fn=u._onFailure,s.call(u,e)}}),c.js.length&&e.Get.js(c.js,{data:c.jsMods,insertBefore:u.insertBefore,attributes:u.jsAttributes,charset:u.charset,timeout:u.timeout,autopurge:!1,context:u,async:u.async,onProgress:function(e){u._onProgress.call(u,e)},onTimeout:function(e){u._onTimeout.call(u,e)},onSuccess:function(e){e.type="success",e.fn=u._onSuccess,s.call(u,e)},onFailure:function(e){e.type="failure",e.fn=u._onFailure,s.call(u,e)}}),void 0):(h=-1,s({fn:u._onSuccess}),void 0)},_continue:function(){!g.running&&g.size()>0&&(g.running=!0,g.next()())},insert:function(t,i,n){var r=this,o=e.merge(this);delete o.require,delete o.dirty,g.add(function(){r._insert(o,t,i,n)}),this._continue()},loadNext:function(){},_filter:function(e,t,i){var n=this.filter,r=t&&t in this.filters,o=r&&this.filters[t],s=i||(this.moduleInfo[t]?this.moduleInfo[t].group:null);return s&&this.groups[s]&&this.groups[s].filter&&(o=this.groups[s].filter,r=!0),e&&(r&&(n=b.isString(o)?this.FILTER_DEFS[o.toUpperCase()]||null:o),n&&(e=e.replace(new RegExp(n.searchExp,"g"),n.replaceStr))),e},_url:function(e,t,i){return this._filter((i||this.base||"")+e,t)},resolve:function(e,t){var n,o,s,c,d,h,p,f,m,g,v,y,w,x,_,$,C,k,T,S=[],D={},E=this,P=E.ignoreRegistered?{}:E.inserted,M={js:[],jsMods:[],css:[],cssMods:[]},I=E.loadType||"js";for((E.skin.overrides||E.skin.defaultSkin!==u||E.ignoreRegistered)&&E._resetModules(),e&&E.calculate(),t=t||E.sorted,T=function(e){e&&(d=e.group&&E.groups[e.group]||i,d.async===!1&&(e.async=d.async),c=e.fullpath?E._filter(e.fullpath,t[o]):E._url(e.path,t[o],d.base||e.base),(e.attributes||e.async===!1)&&(c={url:c,async:e.async},e.attributes&&(c.attributes=e.attributes)),M[e.type].push(c),M[e.type+"Mods"].push(e))},n=t.length,y=E.comboBase,c=y,g={},o=0;n>o;o++){if(m=y,s=E.getModule(t[o]),h=s&&s.group,d=E.groups[h],h&&d){if(!d.combine||s.fullpath){T(s);continue}s.combine=!0,d.comboBase&&(m=d.comboBase),"root"in d&&b.isValue(d.root)&&(s.root=d.root),s.comboSep=d.comboSep||E.comboSep,s.maxURLLength=d.maxURLLength||E.maxURLLength}else if(!E.combine){T(s);continue}g[m]=g[m]||[],g[m].push(s)}for(p in g)if(g.hasOwnProperty(p)&&(D[p]=D[p]||{js:[],jsMods:[],css:[],cssMods:[]},c=p,v=g[p],n=v.length,n))for(o=0;n>o;o++)P[v[o]]||(s=v[o],!s||!s.combine&&s.ext?v[o]&&T(v[o]):(D[p].comboSep=s.comboSep,D[p].group=s.group,D[p].maxURLLength=s.maxURLLength,f=(b.isValue(s.root)?s.root:E.root)+(s.path||s.fullpath),f=E._filter(f,s.name),D[p][s.type].push(f),D[p][s.type+"Mods"].push(s)));for(p in D)if(D.hasOwnProperty(p)){w=p,C=D[w].comboSep||E.comboSep,k=D[w].maxURLLength||E.maxURLLength;for(I in D[w])if(I===l||I===a){if(x=D[w][I],v=D[w][I+"Mods"],n=x.length,_=w+x.join(C),$=_.length,k<=w.length&&(k=r),n)if($>k){for(S=[],t=0;n>t;t++)S.push(x[t]),_=w+S.join(C),_.length>k&&(s=S.pop(),_=w+S.join(C),M[I].push(E._filter(_,null,D[w].group)),S=[],s&&S.push(s));S.length&&(_=w+S.join(C),M[I].push(E._filter(_,null,D[w].group)))}else M[I].push(E._filter(_,null,D[w].group));M[I+"Mods"]=M[I+"Mods"].concat(v)}}return D=null,M},load:function(e){if(e){var t=this,i=t.resolve(!0);t.data=i,t.onEnd=function(){e.apply(t.context||t,arguments)},t.insert()}}}},"3.9.1",{requires:["get","features"]}),YUI.add("loader-rollup",function(e){e.Loader.prototype._rollup=function(){var e,t,i,n,r,o,s,a,l=this.required,c=this.moduleInfo;if(this.dirty||!this.rollups){this.rollups={};for(e in c)c.hasOwnProperty(e)&&(i=this.getModule(e),i&&i.rollup&&(this.rollups[e]=i))}for(;;){o=!1;for(e in this.rollups)if(this.rollups.hasOwnProperty(e)&&!l[e]&&(!this.loaded[e]||this.forceMap[e])){if(i=this.getModule(e),n=i.supersedes||[],r=!1,!i.rollup)continue;for(s=0,t=0;t<n.length;t++){if(a=c[n[t]],this.loaded[n[t]]&&!this.forceMap[n[t]]){r=!1;break}if(l[n[t]]&&i.type===a.type&&(s++,r=s>=i.rollup))break}r&&(l[e]=!0,o=!0,this.getRequires(i))}if(!o)break}}},"3.9.1",{requires:["loader-base"]}),YUI.add("loader-yui3",function(e){YUI.Env[e.version].modules=YUI.Env[e.version].modules||{},e.mix(YUI.Env[e.version].modules,{"align-plugin":{requires:["node-screen","node-pluginhost"]},anim:{use:["anim-base","anim-color","anim-curve","anim-easing","anim-node-plugin","anim-scroll","anim-xy"]},"anim-base":{requires:["base-base","node-style"]},"anim-color":{requires:["anim-base"]},"anim-curve":{requires:["anim-xy"]},"anim-easing":{requires:["anim-base"]},"anim-node-plugin":{requires:["node-pluginhost","anim-base"]},"anim-scroll":{requires:["anim-base"]},"anim-shape":{requires:["anim-base","anim-easing","anim-color","matrix"]},"anim-shape-transform":{use:["anim-shape"]},"anim-xy":{requires:["anim-base","node-screen"]},app:{use:["app-base","app-content","app-transitions","lazy-model-list","model","model-list","model-sync-rest","router","view","view-node-map"]},"app-base":{requires:["classnamemanager","pjax-base","router","view"]},"app-content":{requires:["app-base","pjax-content"]},"app-transitions":{requires:["app-base"]},"app-transitions-css":{type:"css"},"app-transitions-native":{condition:{name:"app-transitions-native",test:function(e){var t=e.config.doc,i=t?t.documentElement:null;return i&&i.style?"MozTransition"in i.style||"WebkitTransition"in i.style||"transition"in i.style:!1},trigger:"app-transitions"},requires:["app-transitions","app-transitions-css","parallel","transition"]},"array-extras":{requires:["yui-base"]},"array-invoke":{requires:["yui-base"]},arraylist:{requires:["yui-base"]},"arraylist-add":{requires:["arraylist"]},"arraylist-filter":{requires:["arraylist"]},arraysort:{requires:["yui-base"]},"async-queue":{requires:["event-custom"]},attribute:{use:["attribute-base","attribute-complex"]},"attribute-base":{requires:["attribute-core","attribute-observable","attribute-extras"]},"attribute-complex":{requires:["attribute-base"]},"attribute-core":{requires:["oop"]},"attribute-events":{use:["attribute-observable"]},"attribute-extras":{requires:["oop"]},"attribute-observable":{requires:["event-custom"]},autocomplete:{use:["autocomplete-base","autocomplete-sources","autocomplete-list","autocomplete-plugin"]},"autocomplete-base":{optional:["autocomplete-sources"],requires:["array-extras","base-build","escape","event-valuechange","node-base"]},"autocomplete-filters":{requires:["array-extras","text-wordbreak"]},"autocomplete-filters-accentfold":{requires:["array-extras","text-accentfold","text-wordbreak"]},"autocomplete-highlighters":{requires:["array-extras","highlight-base"]},"autocomplete-highlighters-accentfold":{requires:["array-extras","highlight-accentfold"]},"autocomplete-list":{after:["autocomplete-sources"],lang:["en","es"],requires:["autocomplete-base","event-resize","node-screen","selector-css3","shim-plugin","widget","widget-position","widget-position-align"],skinnable:!0},"autocomplete-list-keys":{condition:{name:"autocomplete-list-keys",test:function(e){return!e.UA.ios&&!e.UA.android},trigger:"autocomplete-list"},requires:["autocomplete-list","base-build"]},"autocomplete-plugin":{requires:["autocomplete-list","node-pluginhost"]},"autocomplete-sources":{optional:["io-base","json-parse","jsonp","yql"],requires:["autocomplete-base"]},axes:{use:["axis-numeric","axis-category","axis-time","axis-stacked"]},"axes-base":{use:["axis-numeric-base","axis-category-base","axis-time-base","axis-stacked-base"]},axis:{requires:["dom","widget","widget-position","widget-stack","graphics","axis-base"]},"axis-base":{requires:["classnamemanager","datatype-number","datatype-date","base","event-custom"]},"axis-category":{requires:["axis","axis-category-base"]},"axis-category-base":{requires:["axis-base"]},"axis-numeric":{requires:["axis","axis-numeric-base"]},"axis-numeric-base":{requires:["axis-base"]},"axis-stacked":{requires:["axis-numeric","axis-stacked-base"]},"axis-stacked-base":{requires:["axis-numeric-base"]},"axis-time":{requires:["axis","axis-time-base"]},"axis-time-base":{requires:["axis-base"]},base:{use:["base-base","base-pluginhost","base-build"]},"base-base":{requires:["attribute-base","base-core","base-observable"]},"base-build":{requires:["base-base"]},"base-core":{requires:["attribute-core"]},"base-observable":{requires:["attribute-observable"]},"base-pluginhost":{requires:["base-base","pluginhost"]},button:{requires:["button-core","cssbutton","widget"]},"button-core":{requires:["attribute-core","classnamemanager","node-base"]},"button-group":{requires:["button-plugin","cssbutton","widget"]},"button-plugin":{requires:["button-core","cssbutton","node-pluginhost"]},cache:{use:["cache-base","cache-offline","cache-plugin"]},"cache-base":{requires:["base"]},"cache-offline":{requires:["cache-base","json"]},"cache-plugin":{requires:["plugin","cache-base"]},calendar:{lang:["de","en","es","es-AR","fr","it","ja","nb-NO","nl","pt-BR","ru","zh-HANT-TW"],requires:["calendar-base","calendarnavigator"],skinnable:!0},"calendar-base":{lang:["de","en","es","es-AR","fr","it","ja","nb-NO","nl","pt-BR","ru","zh-HANT-TW"],requires:["widget","datatype-date","datatype-date-math","cssgrids"],skinnable:!0},calendarnavigator:{requires:["plugin","classnamemanager","datatype-date","node"],skinnable:!0},charts:{use:["charts-base"]},"charts-base":{requires:["dom","event-mouseenter","event-touch","graphics-group","axes","series-pie","series-line","series-marker","series-area","series-spline","series-column","series-bar","series-areaspline","series-combo","series-combospline","series-line-stacked","series-marker-stacked","series-area-stacked","series-spline-stacked","series-column-stacked","series-bar-stacked","series-areaspline-stacked","series-combo-stacked","series-combospline-stacked"]},"charts-legend":{requires:["charts-base"]},classnamemanager:{requires:["yui-base"]},"clickable-rail":{requires:["slider-base"]},collection:{use:["array-extras","arraylist","arraylist-add","arraylist-filter","array-invoke"]},color:{use:["color-base","color-hsl","color-harmony"]},"color-base":{requires:["yui-base"]},"color-harmony":{requires:["color-hsl"]},"color-hsl":{requires:["color-base"]},"color-hsv":{requires:["color-base"]},console:{lang:["en","es","ja"],requires:["yui-log","widget"],skinnable:!0},"console-filters":{requires:["plugin","console"],skinnable:!0},controller:{use:["router"]},cookie:{requires:["yui-base"]},"createlink-base":{requires:["editor-base"]},cssbase:{after:["cssreset","cssfonts","cssgrids","cssreset-context","cssfonts-context","cssgrids-context"],type:"css"},"cssbase-context":{after:["cssreset","cssfonts","cssgrids","cssreset-context","cssfonts-context","cssgrids-context"],type:"css"},cssbutton:{type:"css"},cssfonts:{type:"css"},"cssfonts-context":{type:"css"},cssgrids:{optional:["cssreset","cssfonts"],type:"css"},"cssgrids-base":{optional:["cssreset","cssfonts"],type:"css"},"cssgrids-responsive":{optional:["cssreset","cssfonts"],requires:["cssgrids","cssgrids-responsive-base"],type:"css"},"cssgrids-units":{optional:["cssreset","cssfonts"],requires:["cssgrids-base"],type:"css"},cssnormalize:{type:"css"},"cssnormalize-context":{type:"css"},cssreset:{type:"css"},"cssreset-context":{type:"css"},dataschema:{use:["dataschema-base","dataschema-json","dataschema-xml","dataschema-array","dataschema-text"]},"dataschema-array":{requires:["dataschema-base"]},"dataschema-base":{requires:["base"]},"dataschema-json":{requires:["dataschema-base","json"]},"dataschema-text":{requires:["dataschema-base"]},"dataschema-xml":{requires:["dataschema-base"]},datasource:{use:["datasource-local","datasource-io","datasource-get","datasource-function","datasource-cache","datasource-jsonschema","datasource-xmlschema","datasource-arrayschema","datasource-textschema","datasource-polling"]},"datasource-arrayschema":{requires:["datasource-local","plugin","dataschema-array"]},"datasource-cache":{requires:["datasource-local","plugin","cache-base"]},"datasource-function":{requires:["datasource-local"]},"datasource-get":{requires:["datasource-local","get"]},"datasource-io":{requires:["datasource-local","io-base"]},"datasource-jsonschema":{requires:["datasource-local","plugin","dataschema-json"]},"datasource-local":{requires:["base"]},"datasource-polling":{requires:["datasource-local"]},"datasource-textschema":{requires:["datasource-local","plugin","dataschema-text"]},"datasource-xmlschema":{requires:["datasource-local","plugin","datatype-xml","dataschema-xml"]},datatable:{use:["datatable-core","datatable-table","datatable-head","datatable-body","datatable-base","datatable-column-widths","datatable-message","datatable-mutable","datatable-sort","datatable-datasource"]},"datatable-base":{requires:["datatable-core","datatable-table","datatable-head","datatable-body","base-build","widget"],skinnable:!0},"datatable-body":{requires:["datatable-core","view","classnamemanager"]},"datatable-column-widths":{requires:["datatable-base"]},"datatable-core":{requires:["escape","model-list","node-event-delegate"]},"datatable-datasource":{requires:["datatable-base","plugin","datasource-local"]},"datatable-formatters":{requires:["datatable-body","datatype-number-format","datatype-date-format","escape"]},"datatable-head":{requires:["datatable-core","view","classnamemanager"]},"datatable-message":{lang:["en","fr","es"],requires:["datatable-base"],skinnable:!0},"datatable-mutable":{requires:["datatable-base"]},"datatable-scroll":{requires:["datatable-base","datatable-column-widths","dom-screen"],skinnable:!0},"datatable-sort":{lang:["en","fr","es"],requires:["datatable-base"],skinnable:!0},"datatable-table":{requires:["datatable-core","datatable-head","datatable-body","view","classnamemanager"]},datatype:{use:["datatype-date","datatype-number","datatype-xml"]},"datatype-date":{use:["datatype-date-parse","datatype-date-format","datatype-date-math"]},"datatype-date-format":{lang:["ar","ar-JO","ca","ca-ES","da","da-DK","de","de-AT","de-DE","el","el-GR","en","en-AU","en-CA","en-GB","en-IE","en-IN","en-JO","en-MY","en-NZ","en-PH","en-SG","en-US","es","es-AR","es-BO","es-CL","es-CO","es-EC","es-ES","es-MX","es-PE","es-PY","es-US","es-UY","es-VE","fi","fi-FI","fr","fr-BE","fr-CA","fr-FR","hi","hi-IN","id","id-ID","it","it-IT","ja","ja-JP","ko","ko-KR","ms","ms-MY","nb","nb-NO","nl","nl-BE","nl-NL","pl","pl-PL","pt","pt-BR","ro","ro-RO","ru","ru-RU","sv","sv-SE","th","th-TH","tr","tr-TR","vi","vi-VN","zh-Hans","zh-Hans-CN","zh-Hant","zh-Hant-HK","zh-Hant-TW"]},"datatype-date-math":{requires:["yui-base"]},"datatype-date-parse":{},"datatype-number":{use:["datatype-number-parse","datatype-number-format"]},"datatype-number-format":{},"datatype-number-parse":{},"datatype-xml":{use:["datatype-xml-parse","datatype-xml-format"]},"datatype-xml-format":{},"datatype-xml-parse":{},dd:{use:["dd-ddm-base","dd-ddm","dd-ddm-drop","dd-drag","dd-proxy","dd-constrain","dd-drop","dd-scroll","dd-delegate"]},"dd-constrain":{requires:["dd-drag"]},"dd-ddm":{requires:["dd-ddm-base","event-resize"]},"dd-ddm-base":{requires:["node","base","yui-throttle","classnamemanager"]},"dd-ddm-drop":{requires:["dd-ddm"]},"dd-delegate":{requires:["dd-drag","dd-drop-plugin","event-mouseenter"]},"dd-drag":{requires:["dd-ddm-base"]},"dd-drop":{requires:["dd-drag","dd-ddm-drop"]},"dd-drop-plugin":{requires:["dd-drop"]},"dd-gestures":{condition:{name:"dd-gestures",trigger:"dd-drag",ua:"touchEnabled"},requires:["dd-drag","event-synthetic","event-gestures"]},"dd-plugin":{optional:["dd-constrain","dd-proxy"],requires:["dd-drag"]},"dd-proxy":{requires:["dd-drag"]},"dd-scroll":{requires:["dd-drag"]},dial:{lang:["en","es"],requires:["widget","dd-drag","event-mouseenter","event-move","event-key","transition","intl"],skinnable:!0},dom:{use:["dom-base","dom-screen","dom-style","selector-native","selector"]},"dom-base":{requires:["dom-core"]},"dom-core":{requires:["oop","features"]},"dom-deprecated":{requires:["dom-base"]},"dom-screen":{requires:["dom-base","dom-style"]},"dom-style":{requires:["dom-base"]},"dom-style-ie":{condition:{name:"dom-style-ie",test:function(e){var t=e.Features.test,i=e.Features.add,n=e.config.win,r=e.config.doc,o="documentElement",s=!1;
return i("style","computedStyle",{test:function(){return n&&"getComputedStyle"in n}}),i("style","opacity",{test:function(){return r&&"opacity"in r[o].style}}),s=!t("style","opacity")&&!t("style","computedStyle")},trigger:"dom-style"},requires:["dom-style"]},dump:{requires:["yui-base"]},editor:{use:["frame","editor-selection","exec-command","editor-base","editor-para","editor-br","editor-bidi","editor-tab","createlink-base"]},"editor-base":{requires:["base","frame","node","exec-command","editor-selection"]},"editor-bidi":{requires:["editor-base"]},"editor-br":{requires:["editor-base"]},"editor-lists":{requires:["editor-base"]},"editor-para":{requires:["editor-para-base"]},"editor-para-base":{requires:["editor-base"]},"editor-para-ie":{condition:{name:"editor-para-ie",trigger:"editor-para",ua:"ie",when:"instead"},requires:["editor-para-base"]},"editor-selection":{requires:["node"]},"editor-tab":{requires:["editor-base"]},escape:{requires:["yui-base"]},event:{after:["node-base"],use:["event-base","event-delegate","event-synthetic","event-mousewheel","event-mouseenter","event-key","event-focus","event-resize","event-hover","event-outside","event-touch","event-move","event-flick","event-valuechange","event-tap"]},"event-base":{after:["node-base"],requires:["event-custom-base"]},"event-base-ie":{after:["event-base"],condition:{name:"event-base-ie",test:function(e){var t=e.config.doc&&e.config.doc.implementation;return t&&!t.hasFeature("Events","2.0")},trigger:"node-base"},requires:["node-base"]},"event-contextmenu":{requires:["event-synthetic","dom-screen"]},"event-custom":{use:["event-custom-base","event-custom-complex"]},"event-custom-base":{requires:["oop"]},"event-custom-complex":{requires:["event-custom-base"]},"event-delegate":{requires:["node-base"]},"event-flick":{requires:["node-base","event-touch","event-synthetic"]},"event-focus":{requires:["event-synthetic"]},"event-gestures":{use:["event-flick","event-move"]},"event-hover":{requires:["event-mouseenter"]},"event-key":{requires:["event-synthetic"]},"event-mouseenter":{requires:["event-synthetic"]},"event-mousewheel":{requires:["node-base"]},"event-move":{requires:["node-base","event-touch","event-synthetic"]},"event-outside":{requires:["event-synthetic"]},"event-resize":{requires:["node-base","event-synthetic"]},"event-simulate":{requires:["event-base"]},"event-synthetic":{requires:["node-base","event-custom-complex"]},"event-tap":{requires:["node-base","event-base","event-touch","event-synthetic"]},"event-touch":{requires:["node-base"]},"event-valuechange":{requires:["event-focus","event-synthetic"]},"exec-command":{requires:["frame"]},features:{requires:["yui-base"]},file:{requires:["file-flash","file-html5"]},"file-flash":{requires:["base"]},"file-html5":{requires:["base"]},frame:{requires:["base","node","selector-css3","yui-throttle"]},"gesture-simulate":{requires:["async-queue","event-simulate","node-screen"]},get:{requires:["yui-base"]},graphics:{requires:["node","event-custom","pluginhost","matrix","classnamemanager"]},"graphics-canvas":{condition:{name:"graphics-canvas",test:function(e){var t=e.config.doc,i=e.config.defaultGraphicEngine&&"canvas"==e.config.defaultGraphicEngine,n=t&&t.createElement("canvas"),r=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return(!r||i)&&n&&n.getContext&&n.getContext("2d")},trigger:"graphics"},requires:["graphics"]},"graphics-canvas-default":{condition:{name:"graphics-canvas-default",test:function(e){var t=e.config.doc,i=e.config.defaultGraphicEngine&&"canvas"==e.config.defaultGraphicEngine,n=t&&t.createElement("canvas"),r=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return(!r||i)&&n&&n.getContext&&n.getContext("2d")},trigger:"graphics"}},"graphics-group":{requires:["graphics"]},"graphics-svg":{condition:{name:"graphics-svg",test:function(e){var t=e.config.doc,i=!e.config.defaultGraphicEngine||"canvas"!=e.config.defaultGraphicEngine,n=t&&t.createElement("canvas"),r=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return r&&(i||!n)},trigger:"graphics"},requires:["graphics"]},"graphics-svg-default":{condition:{name:"graphics-svg-default",test:function(e){var t=e.config.doc,i=!e.config.defaultGraphicEngine||"canvas"!=e.config.defaultGraphicEngine,n=t&&t.createElement("canvas"),r=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return r&&(i||!n)},trigger:"graphics"}},"graphics-vml":{condition:{name:"graphics-vml",test:function(e){var t=e.config.doc,i=t&&t.createElement("canvas");return!(!t||t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||i&&i.getContext&&i.getContext("2d"))},trigger:"graphics"},requires:["graphics"]},"graphics-vml-default":{condition:{name:"graphics-vml-default",test:function(e){var t=e.config.doc,i=t&&t.createElement("canvas");return!(!t||t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||i&&i.getContext&&i.getContext("2d"))},trigger:"graphics"}},handlebars:{use:["handlebars-compiler"]},"handlebars-base":{requires:[]},"handlebars-compiler":{requires:["handlebars-base"]},highlight:{use:["highlight-base","highlight-accentfold"]},"highlight-accentfold":{requires:["highlight-base","text-accentfold"]},"highlight-base":{requires:["array-extras","classnamemanager","escape","text-wordbreak"]},history:{use:["history-base","history-hash","history-hash-ie","history-html5"]},"history-base":{requires:["event-custom-complex"]},"history-hash":{after:["history-html5"],requires:["event-synthetic","history-base","yui-later"]},"history-hash-ie":{condition:{name:"history-hash-ie",test:function(e){var t=e.config.doc&&e.config.doc.documentMode;return e.UA.ie&&(!("onhashchange"in e.config.win)||!t||8>t)},trigger:"history-hash"},requires:["history-hash","node-base"]},"history-html5":{optional:["json"],requires:["event-base","history-base","node-base"]},imageloader:{requires:["base-base","node-style","node-screen"]},intl:{requires:["intl-base","event-custom"]},"intl-base":{requires:["yui-base"]},io:{use:["io-base","io-xdr","io-form","io-upload-iframe","io-queue"]},"io-base":{requires:["event-custom-base","querystring-stringify-simple"]},"io-form":{requires:["io-base","node-base"]},"io-nodejs":{condition:{name:"io-nodejs",trigger:"io-base",ua:"nodejs"},requires:["io-base"]},"io-queue":{requires:["io-base","queue-promote"]},"io-upload-iframe":{requires:["io-base","node-base"]},"io-xdr":{requires:["io-base","datatype-xml-parse"]},json:{use:["json-parse","json-stringify"]},"json-parse":{requires:["yui-base"]},"json-parse-shim":{condition:{name:"json-parse-shim",test:function(e){function t(e,t){return"ok"===e?!0:t}var i=e.config.global.JSON,n="[object JSON]"===Object.prototype.toString.call(i)&&i,r=e.config.useNativeJSONParse!==!1&&!!n;if(r)try{r=n.parse('{"ok":false}',t).ok}catch(o){r=!1}return!r},trigger:"json-parse"},requires:["json-parse"]},"json-stringify":{requires:["yui-base"]},"json-stringify-shim":{condition:{name:"json-stringify-shim",test:function(e){var t=e.config.global.JSON,i="[object JSON]"===Object.prototype.toString.call(t)&&t,n=e.config.useNativeJSONStringify!==!1&&!!i;if(n)try{n="0"===i.stringify(0)}catch(r){n=!1}return!n},trigger:"json-stringify"},requires:["json-stringify"]},jsonp:{requires:["get","oop"]},"jsonp-url":{requires:["jsonp"]},"lazy-model-list":{requires:["model-list"]},loader:{use:["loader-base","loader-rollup","loader-yui3"]},"loader-base":{requires:["get","features"]},"loader-rollup":{requires:["loader-base"]},"loader-yui3":{requires:["loader-base"]},matrix:{requires:["yui-base"]},model:{requires:["base-build","escape","json-parse"]},"model-list":{requires:["array-extras","array-invoke","arraylist","base-build","escape","json-parse","model"]},"model-sync-rest":{requires:["model","io-base","json-stringify"]},node:{use:["node-base","node-event-delegate","node-pluginhost","node-screen","node-style"]},"node-base":{requires:["event-base","node-core","dom-base"]},"node-core":{requires:["dom-core","selector"]},"node-deprecated":{requires:["node-base"]},"node-event-delegate":{requires:["node-base","event-delegate"]},"node-event-html5":{requires:["node-base"]},"node-event-simulate":{requires:["node-base","event-simulate","gesture-simulate"]},"node-flick":{requires:["classnamemanager","transition","event-flick","plugin"],skinnable:!0},"node-focusmanager":{requires:["attribute","node","plugin","node-event-simulate","event-key","event-focus"]},"node-load":{requires:["node-base","io-base"]},"node-menunav":{requires:["node","classnamemanager","plugin","node-focusmanager"],skinnable:!0},"node-pluginhost":{requires:["node-base","pluginhost"]},"node-screen":{requires:["dom-screen","node-base"]},"node-scroll-info":{requires:["base-build","dom-screen","event-resize","node-pluginhost","plugin"]},"node-style":{requires:["dom-style","node-base"]},oop:{requires:["yui-base"]},overlay:{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:!0},panel:{requires:["widget","widget-autohide","widget-buttons","widget-modality","widget-position","widget-position-align","widget-position-constrain","widget-stack","widget-stdmod"],skinnable:!0},parallel:{requires:["yui-base"]},pjax:{requires:["pjax-base","pjax-content"]},"pjax-base":{requires:["classnamemanager","node-event-delegate","router"]},"pjax-content":{requires:["io-base","node-base","router"]},"pjax-plugin":{requires:["node-pluginhost","pjax","plugin"]},plugin:{requires:["base-base"]},pluginhost:{use:["pluginhost-base","pluginhost-config"]},"pluginhost-base":{requires:["yui-base"]},"pluginhost-config":{requires:["pluginhost-base"]},profiler:{requires:["yui-base"]},promise:{requires:["timers"]},querystring:{use:["querystring-parse","querystring-stringify"]},"querystring-parse":{requires:["yui-base","array-extras"]},"querystring-parse-simple":{requires:["yui-base"]},"querystring-stringify":{requires:["yui-base"]},"querystring-stringify-simple":{requires:["yui-base"]},"queue-promote":{requires:["yui-base"]},"range-slider":{requires:["slider-base","slider-value-range","clickable-rail"]},recordset:{use:["recordset-base","recordset-sort","recordset-filter","recordset-indexer"]},"recordset-base":{requires:["base","arraylist"]},"recordset-filter":{requires:["recordset-base","array-extras","plugin"]},"recordset-indexer":{requires:["recordset-base","plugin"]},"recordset-sort":{requires:["arraysort","recordset-base","plugin"]},resize:{use:["resize-base","resize-proxy","resize-constrain"]},"resize-base":{requires:["base","widget","event","oop","dd-drag","dd-delegate","dd-drop"],skinnable:!0},"resize-constrain":{requires:["plugin","resize-base"]},"resize-plugin":{optional:["resize-constrain"],requires:["resize-base","plugin"]},"resize-proxy":{requires:["plugin","resize-base"]},router:{optional:["querystring-parse"],requires:["array-extras","base-build","history"]},scrollview:{requires:["scrollview-base","scrollview-scrollbars"]},"scrollview-base":{requires:["widget","event-gestures","event-mousewheel","transition"],skinnable:!0},"scrollview-base-ie":{condition:{name:"scrollview-base-ie",trigger:"scrollview-base",ua:"ie"},requires:["scrollview-base"]},"scrollview-list":{requires:["plugin","classnamemanager"],skinnable:!0},"scrollview-paginator":{requires:["plugin","classnamemanager"]},"scrollview-scrollbars":{requires:["classnamemanager","transition","plugin"],skinnable:!0},selector:{requires:["selector-native"]},"selector-css2":{condition:{name:"selector-css2",test:function(e){var t=e.config.doc,i=t&&!("querySelectorAll"in t);return i},trigger:"selector"},requires:["selector-native"]},"selector-css3":{requires:["selector-native","selector-css2"]},"selector-native":{requires:["dom-base"]},"series-area":{requires:["series-cartesian","series-fill-util"]},"series-area-stacked":{requires:["series-stacked","series-area"]},"series-areaspline":{requires:["series-area","series-curve-util"]},"series-areaspline-stacked":{requires:["series-stacked","series-areaspline"]},"series-bar":{requires:["series-marker","series-histogram-base"]},"series-bar-stacked":{requires:["series-stacked","series-bar"]},"series-base":{requires:["graphics","axis-base"]},"series-candlestick":{requires:["series-range"]},"series-cartesian":{requires:["series-base"]},"series-column":{requires:["series-marker","series-histogram-base"]},"series-column-stacked":{requires:["series-stacked","series-column"]},"series-combo":{requires:["series-cartesian","series-line-util","series-plot-util","series-fill-util"]},"series-combo-stacked":{requires:["series-stacked","series-combo"]},"series-combospline":{requires:["series-combo","series-curve-util"]},"series-combospline-stacked":{requires:["series-combo-stacked","series-curve-util"]},"series-curve-util":{},"series-fill-util":{},"series-histogram-base":{requires:["series-cartesian","series-plot-util"]},"series-line":{requires:["series-cartesian","series-line-util"]},"series-line-stacked":{requires:["series-stacked","series-line"]},"series-line-util":{},"series-marker":{requires:["series-cartesian","series-plot-util"]},"series-marker-stacked":{requires:["series-stacked","series-marker"]},"series-ohlc":{requires:["series-range"]},"series-pie":{requires:["series-base","series-plot-util"]},"series-plot-util":{},"series-range":{requires:["series-cartesian"]},"series-spline":{requires:["series-line","series-curve-util"]},"series-spline-stacked":{requires:["series-stacked","series-spline"]},"series-stacked":{requires:["axis-stacked"]},"shim-plugin":{requires:["node-style","node-pluginhost"]},slider:{use:["slider-base","slider-value-range","clickable-rail","range-slider"]},"slider-base":{requires:["widget","dd-constrain","event-key"],skinnable:!0},"slider-value-range":{requires:["slider-base"]},sortable:{requires:["dd-delegate","dd-drop-plugin","dd-proxy"]},"sortable-scroll":{requires:["dd-scroll","sortable"]},stylesheet:{requires:["yui-base"]},substitute:{optional:["dump"],requires:["yui-base"]},swf:{requires:["event-custom","node","swfdetect","escape"]},swfdetect:{requires:["yui-base"]},tabview:{requires:["widget","widget-parent","widget-child","tabview-base","node-pluginhost","node-focusmanager"],skinnable:!0},"tabview-base":{requires:["node-event-delegate","classnamemanager","skin-sam-tabview"]},"tabview-plugin":{requires:["tabview-base"]},template:{use:["template-base","template-micro"]},"template-base":{requires:["yui-base"]},"template-micro":{requires:["escape"]},test:{requires:["event-simulate","event-custom","json-stringify"]},"test-console":{requires:["console-filters","test","array-extras"],skinnable:!0},text:{use:["text-accentfold","text-wordbreak"]},"text-accentfold":{requires:["array-extras","text-data-accentfold"]},"text-data-accentfold":{requires:["yui-base"]},"text-data-wordbreak":{requires:["yui-base"]},"text-wordbreak":{requires:["array-extras","text-data-wordbreak"]},timers:{requires:["yui-base"]},transition:{requires:["node-style"]},"transition-timer":{condition:{name:"transition-timer",test:function(e){var t=e.config.doc,i=t?t.documentElement:null,n=!0;return i&&i.style&&(n=!("MozTransition"in i.style||"WebkitTransition"in i.style||"transition"in i.style)),n},trigger:"transition"},requires:["transition"]},tree:{requires:["base-build","tree-node"]},"tree-labelable":{requires:["tree"]},"tree-lazy":{requires:["base-pluginhost","plugin","tree"]},"tree-node":{},"tree-openable":{requires:["tree"]},"tree-selectable":{requires:["tree"]},uploader:{requires:["uploader-html5","uploader-flash"]},"uploader-flash":{requires:["swf","widget","base","cssbutton","node","event-custom","file-flash","uploader-queue"]},"uploader-html5":{requires:["widget","node-event-simulate","file-html5","uploader-queue"]},"uploader-queue":{requires:["base"]},view:{requires:["base-build","node-event-delegate"]},"view-node-map":{requires:["view"]},widget:{use:["widget-base","widget-htmlparser","widget-skin","widget-uievents"]},"widget-anim":{requires:["anim-base","plugin","widget"]},"widget-autohide":{requires:["base-build","event-key","event-outside","widget"]},"widget-base":{requires:["attribute","base-base","base-pluginhost","classnamemanager","event-focus","node-base","node-style"],skinnable:!0},"widget-base-ie":{condition:{name:"widget-base-ie",trigger:"widget-base",ua:"ie"},requires:["widget-base"]},"widget-buttons":{requires:["button-plugin","cssbutton","widget-stdmod"]},"widget-child":{requires:["base-build","widget"]},"widget-htmlparser":{requires:["widget-base"]},"widget-locale":{requires:["widget-base"]},"widget-modality":{requires:["base-build","event-outside","widget"],skinnable:!0},"widget-parent":{requires:["arraylist","base-build","widget"]},"widget-position":{requires:["base-build","node-screen","widget"]},"widget-position-align":{requires:["widget-position"]},"widget-position-constrain":{requires:["widget-position"]},"widget-skin":{requires:["widget-base"]},"widget-stack":{requires:["base-build","widget"],skinnable:!0},"widget-stdmod":{requires:["base-build","widget"]},"widget-uievents":{requires:["node-event-delegate","widget-base"]},yql:{requires:["oop"]},"yql-jsonp":{condition:{name:"yql-jsonp",test:function(e){return!e.UA.nodejs&&!e.UA.winjs},trigger:"yql",when:"after"},requires:["jsonp","jsonp-url"]},"yql-nodejs":{condition:{name:"yql-nodejs",trigger:"yql",ua:"nodejs",when:"after"}},"yql-winjs":{condition:{name:"yql-winjs",trigger:"yql",ua:"winjs",when:"after"}},yui:{},"yui-base":{},"yui-later":{requires:["yui-base"]},"yui-log":{requires:["yui-base"]},"yui-throttle":{requires:["yui-base"]}}),YUI.Env[e.version].md5="660f328e92276f36e9abfafb02169183"},"3.9.1",{requires:["loader-base"]}),YUI.add("yui",function(){},"3.9.1",{use:["yui-base","get","features","intl-base","yui-log","yui-later","loader-base","loader-rollup","loader-yui3"]});var woi=angular.module("woi",["ngResource"]);woi.config(["$routeProvider","$locationProvider",function(e,t){e.when("/channels",{redirectTo:"/Channels"}).when("/channel/:channelid",{redirectTo:"/Channel/:channelid"}).when("/Channels",{templateUrl:"channels"}).when("/Channel/:channelid",{templateUrl:"channels/details"}).when("/Home",{templateUrl:"home"}).when("/Tv-Listings",{templateUrl:"tv-guide"}).when("/Tv-Listings/Channel/:channelid",{templateUrl:"tv-guide"}).when("/tv-guide",{redirectTo:"/Tv-Listings"}).when("/tv-guide/channel/:channelid",{redirectTo:"/Tv-Listings/Channel/:channelid"}).when("/Search/:query",{templateUrl:"search"}).when("/Search/:query/:ismovie",{templateUrl:"search"}).when("/search/:query",{redirectTo:"/Search/:query"}).when("/search/:query/:ismovie",{redirectTo:"/Search/:query/:ismovie"}).when("/programme/:programmeid/channel/:channelid",{redirectTo:"/Programme/:programmeid/Channel/:channelid"}).when("/Programme/:programmeid/Channel/:channelid",{templateUrl:"programme/info.html"}).when("/Watchlist",{templateUrl:"watchlist/"}).when("/Watchlistinfo",{templateUrl:"watchlistinfo/"}).when("/watchlist",{redirectTo:"/Watchlist"}).when("/watchlistinfo",{redirectTo:"/Watchlistinfo"}).when("/watchlistsocial",{redirectTo:"/Watchlistsocial"}).when("/movies",{redirectTo:"/Movies"}).when("/Movies",{templateUrl:"movies/index.html"}).when("/videos",{redirectTo:"/Videos"}).when("/Videos",{templateUrl:"videos/index.html"}).when("/apps",{redirectTo:"/Mobile-Apps"}).when("/apps/:appid",{redirectTo:"/Mobile-Apps/:appid"}).when("/Mobile-Apps",{templateUrl:"apps/index.html"}).when("/Mobile-Apps/:appid",{templateUrl:"apps/index.html"}).when("/about",{templateUrl:"about/index.html"}).when("/contact",{templateUrl:"contact/index.html"}).when("/corporate",{templateUrl:"corporate/index.html"}).when("/tnc",{templateUrl:"tnc/index.html"}).when("/privacy",{templateUrl:"tnc/index.html"}).when("/sitemap",{templateUrl:"sitemap/index.html"}).when("/discussion",{redirectTo:"/Discussion"}).when("/Discussion",{templateUrl:"discussion/home.html"}).when("/newdiscussion",{templateUrl:"discussion/newdiscussion.html"}).when("/myprofile",{redirectTo:"/Myprofile"}).when("/Myprofile",{templateUrl:"myprofile/index.html"}).when("/socialfeed",{templateUrl:"socialfeed/index.html"}).when("/favourites",{templateUrl:"favourites/index.html"}).when("/reminders",{templateUrl:"reminders/index.html"}).when("/Watchlistsocial",{templateUrl:"watchlistsocial/index.html"}).when("/socialfeed/:publicid",{templateUrl:"socialfeed/index.html"}).when("/myaccount",{redirectTo:"/Myaccount"}).when("/Myaccount",{templateUrl:"myaccount/index.html"}).when("/verifyuser/:verificationcode/:userid/:emailid",{templateUrl:"verify/index.html"}).when("/home",{redirectTo:"/Home"}).otherwise({redirectTo:"/home"}),t.hashPrefix("!")}]),woi.run(["$rootScope","$route","$location","$timeout","$http",function(e,t,i,n,r){function o(t){e.$broadcast("inputs:reset",{}),"/myaccount"==t?($("section.fb-trending-wrp").hide(),$("div.trending").hide()):($("section.fb-trending-wrp").show(),$("div.trending").show()),"/Tv-Listings"==t?(tvguidechannel_my=e.device.isMobile?"top center":"top right",tvguidechannel_at=e.device.isMobile?"bottom center":"bottom right",tvguidechannel_x=e.device.isMobile?82:0):(tvguidechannel_my=e.device.isMobile?"top right":"top right",tvguidechannel_at=e.device.isMobile?"bottom right":"bottom right",tvguidechannel_x=e.device.isMobile?20:0),e.$broadcast("layout:resetSocial",{})}if(e.$on("$routeChangeSuccess",function(){e.$broadcast("watchlist::fetch",1),"/reminders"==i.path()?e.feedTab="reminder":"/favourites"==i.path()?e.feedTab="favourite":"/Watchlistsocial"==i.path()?e.feedTab="watchlist":"/socialfeed"==i.path()&&(e.feedTab="feed")}),e.$on("$routeChangeStart",function(e,t){console.log("current"),console.log(t),console.log("next"),console.log(e)}),e.$on("$viewContentLoaded",function(){}),e.woiresource=function(e,t,i){var n={};for(var o in i){var s={};for(var a in t)s[a]=t[a];for(var l in i[o].params)s[l]=i[o].params[l];n[o]=function(e,t,i){return function(n,o){"function"==typeof n&&(o=n,n={});for(var s in n)i[s]=n[s];return r({url:e,method:t,transformResponse:[function(e){var t=angular.fromJson(e),i={};i.ciphertext=CryptoJS.enc.Base64.parse(t.data);var n=CryptoJS.AES.decrypt(i,CryptoJS.enc.Base64.parse(pki),{iv:CryptoJS.enc.Base64.parse(t.pki)}),r=n.toString(CryptoJS.enc.Utf8);return angular.fromJson(r)}].concat(r.defaults.transformResponse),params:i}).success(function(e){o(e)})}}(e,i[o].method,s)}return n},e.userLogged="off",e.userInfo={},e.beforeaction={title:"",subtitle:""},e.$watch(function(){return i.path()},function(e){o(e)}),e.isUserLogged=function(){return"on"==e.userLogged},e.getUser=function(){return this.isUserLogged()?e.userInfo:{userid:-1}},e.signInUser=function(i){console.log("user details === ",i);var r="";for(var o in i)r+=o+": "+i[o]+"\n";return console.log(r),n(function(){e.$broadcast("watchlist::fetch",1)}),e.userLogged="on",e.userInfo=i,$.cookie("userLogged","on",{expires:365}),$.cookie("userInfo",JSON.stringify(i),{expires:365}),$("body").addClass("user-logged"),e.callback&&e.callback.success&&"function"==typeof e.callback.success?(e.callback.success(),!1):(t.reload(),window.location.reload(),void 0)},e.signOutUser=function(){e.$broadcast("user:signout",{}),$.cookie("userLogged","off"),$.cookie("userInfo",""),e.userLogged="off",e.userInfo={},$("body").removeClass("user-logged"),window.location.href="/"},e.toggleMoreFooter=function(e){e.preventDefault();var t=$(e.currentTarget),i=t.parent().parent().children(".hidden-phone.special");i.removeClass("hidden-phone").show(),t.parent().removeClass("visible-phone more").addClass("hidden-phone").hide()},"on"==$.cookie("userLogged")){if(e.userLogged="on",e.userInfo=JSON.parse($.cookie("userInfo")),"false"==e.userInfo.emailverified&&e.userInfo.emailverificationdays>5)return e.userInfo={},alert("Please complete your email activation step!"),e.signOutUser(),!1;$("body").addClass("user-logged")}e.$on("handleTvGuideEmit",function(t,i){e.$broadcast("highlightTvGuide",i)}),e.$on("handleResetEmit",function(t,i){e.$broadcast("resetHighlight",i)}),e.$on("handleChannelEmit",function(t,i){e.$broadcast("highlightChannel",i)}),e.exclusives=[],e.device={isTablet:!1,isMobile:!1,isTouch:!1,isAndroid:!1},Modernizr.mq("screen and (max-width:1024px)")&&(e.device.isTablet=!0),Modernizr.touch&&(e.device.isTouch=!0),Modernizr.mq("screen and (max-width:640px)")&&(e.device.isMobile=!0),$("html").hasClass("android")&&(e.device.isAndroid=!0)}]),woi.controller("AboutController",["$scope","$rootScope",function(e,t){t.$broadcast("resetHighlight",[])}]),woi.controller("AppsLandingPageController",["$scope","$rootScope","$filter","$timeout","$location","$routeParams","userAPI",function(e,t,i,n,r,o,s){function a(){$("div.as_container").animate({left:"-"+(D+20)},500),S.show().animate({left:P},500),$("div.phone-filters").fadeOut(500,function(){$("div.phone-filters div span").hide(),$("div.phone-filters h6").css("float","right").fadeIn(500),$("div.phone-filters div").css("float","left").fadeIn(500)}),$("div.content, div.yourrecs, div.trending, div.fb-activity, footer").hide()}function l(){$("div.as_container").animate({left:"0"},500);var e=parseInt(S.css("left"));S.animate({left:D+e},500,function(){$(this).hide()}),$("div.phone-filters").fadeOut(500,function(){$("div.phone-filters h6").css("float","left").fadeIn(500),$("div.phone-filters div").css("float","right").fadeIn(500),$("div.phone-filters div span").show()}),$("div.content, div.yourrecs, div.trending, div.fb-activity, footer").show()}t.$broadcast("highlightApps",[]),e.appDetails=[],t.selectedApp,e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)};var c,u=$(".swiper-container"),d=(u.find(".swiper-wrapper"),$(".content .bodyText")),h=$(".testimonials .content-wrapper"),p=$(".as_control"),f=$("#devicePagination"),m=i("loading");e.isSliding=!1,$(".pagination1 .swiper-pagination-switch").live("click",function(){c.swipeTo($(this).index()),e.safeApply(function(){e.showRight=!0,e.showLeft=!0}),c.currentSlide()==c.getFirstSlide()?e.safeApply(function(){e.showLeft=!1}):c.currentSlide()==c.getLastSlide()&&e.safeApply(function(){e.showRight=!1})}),e.showRight=!0,e.showLeft=!1;var g=function(){c=new Swiper("#swiper-container1",{speed:750,pagination:"#devicePagination",onSlideChangeEnd:function(){e.safeApply(function(){e.isSliding=!1,e.showRight=!0,e.showLeft=!0}),c.activeIndex==c.getLastSlide().index()&&(e.showRight=!1,e.$$phase||e.$apply()),c.activeIndex==c.getFirstSlide().index()&&(e.showLeft=!1,e.$$phase||e.$apply())}})};e.moveLeft=function(){e.isSliding||(e.showRight=!0,e.isSliding=!0,c.swipePrev())},e.moveRight=function(){e.isSliding||(e.showLeft=!0,e.isSliding=!0,c.swipeNext())},m("show",{element:p}),m("show",{element:u}),t.device.isMobile&&p.hide(),s.getAppDetails({},function(i){return m("hide",{element:p}),i.getallapps.appslist?(e.appDetails=i.getallapps.appslist,v(),w(),x(),o.appid?e.loadApp(o.appid-1):t.device.isMobile?e.loadApp(2):e.loadApp(0),void 0):!1});var v=function(){if(!e.appDetails)return!1;for(var t=e.appDetails.length,i=0;t>i;i++)e.appDetails[i].classname="tab_"+e.appDetails[i].appname.replace(" ","").toLowerCase()},y=function(){n(function(){c.reInit()},5)},b=function(e){switch(e){case"show":f.show();break;case"hide":f.hide()}},w=function(){if(!e.appDetails)return!1;for(var t=e.appDetails.length,i=0;t>i;i++)e.appDetails[i].sliderLoaded=!1,e.appDetails[i].featuresLoaded=!1,e.appDetails[i].testimonialsLoaded=!1,e.appDetails[i].active=!1},x=function(){if(!e.appDetails)return!1;for(var t=e.appDetails.length,i={Android:"Google Play Store",iPad:"App Store",iPhone:"App Store","Android Tablet":"Google Play Store",Windows:"Windows Marketplace",Blackberry:"Blackberry World",Symbian:"OVI Store",Intel:""},n=0;t>n;n++)e.appDetails[n].storeName=i[e.appDetails[n].appname]},_=function(t){return e.appDetails[t].appgallery?(m("hide",{element:u}),e.showRight=!0,e.showLeft=!1,!0):(s.getAppImages({appid:e.appDetails[t].appid},function(i){return m("hide",{element:u}),i.getappgallery?(e.appDetails[t].appgallery=i.getappgallery.appgallery,e.appDetails[t].sliderLoaded=!0,e.appDetails[t].appgallery.length>0?(b("show"),e.showRight=!0,e.showLeft=!1,c?n(function(){y()},5):n(function(){g()},5)):(e.showRight=!1,e.showLeft=!1),void 0):(e.showRight=!1,e.showLeft=!1,!1)}),void 0)},C=function(t){return e.appDetails[t].features?(m("hide",{element:d}),!0):(s.getAppFeatures({appid:e.appDetails[t].appid},function(i){return m("hide",{element:d}),i.getappfeatures?(e.appDetails[t].features=i.getappfeatures.appfeatures,e.appDetails[t].featuresLoaded=!0,void 0):!1}),void 0)},k=function(t){return e.appDetails[t].testimonials?(m("hide",{element:h}),!0):(s.getAppTestimonials({appid:e.appDetails[t].appid},function(i){return m("hide",{element:h}),i.getapptestimonials?(e.appDetails[t].allTestimonials=i.getapptestimonials.apptestimonials,e.appDetails[t].testimonials=e.appDetails[t].allTestimonials.slice(0,3),e.appDetails[t].testimonialsLoaded=!0,void 0):!1}),void 0)};e.showAllTestimonials=function(){e.appDetails[index].testimonials=e.appDetails[index].allTestimonials},e.loadApp=function(i,r){if(!e.appDetails[i])return!1;e.showRight=!1,e.showLeft=!1;var o=e.appDetails[i];m("hide",{element:u}),m("hide",{element:d}),m("hide",{element:h}),m("show",{element:u}),m("show",{element:d}),m("show",{element:h}),b("hide"),c&&c.swipeTo(0,1),t.device.isAndroid&&$("body").css("margin-top","0px"),o.sliderLoaded||_(i),o.featuresLoaded?m("hide",{element:d}):C(i),o.testimonialsLoaded?m("hide",{element:h}):k(i),T(e.appDetails,"active",!1),e.appDetails[i].active=!0,r&&t.device.isMobile&&setTimeout(l,200),t.selectedApp=e.appDetails[i],o.sliderLoaded&&(n(function(){y()}),m("hide",{element:u}),b("show"),e.showRight=!0,e.showLeft=!1)};var T=function(e,t,i){for(var n=e.length,r=0;n>r;r++)e[r][t]=i};if(t.device.isMobile){p.hide();var S=$("ul.as_control"),D=S.parent().width(),E=S.width(),P=(D-E)/2;$("div.phone-filters").width(),$("div.phone-filters h6.subtitle").width(),S.css({left:D}),$("button.btn-filter").live("click",function(){S.is(":visible")?l():a()})}}]),woi.controller("ChannelController",["$scope","$rootScope","$routeParams","userAPI","$http","$filter",function(e,t,i,n,r){if($("#mainSearch").css("background-color","transparent"),$("html").hasClass("ie9")||($("#mainSearch").val(""),$("#searchBoxBottom").val("")),e.channelid=i.channelid,e.isSearchFeed=!1,t.$broadcast("highlightChannel",[]),_.isUndefined(e.channelid)||isNaN(e.channelid))return!1;var o={userid:t.getUser().userid,channelid:e.channelid};n.channelDetails(o,function(t){return _.isUndefined(t.getsinglechanneldetail)?(e.channelDetail=null,!1):(e.channelDetails=t.getsinglechanneldetail.singlechanneldetail,e.twitterHandle=t.getsinglechanneldetail.singlechanneldetail.twitterhandle,e.facebookHandle=t.getsinglechanneldetail.singlechanneldetail.facebookhandle,null==e.facebookHandle||"null"==e.facebookHandle?e.showFacebook=!1:e.facebookHandle.length>1?(e.showFacebook=!0,l()):e.showFacebook=!1,null==e.twitterHandle||"null"==e.twitterHandle?a():e.twitterHandle.length>1?(e.showTwitter=!0,s()):e.showTwitter=!1,e.affinityindex<2?(e.channelDetails.affinitytext="Poor",e.channelDetails.affinityicon="poor"):e.affinityindex>4?(e.channelDetails.affinitytext="Excellent",e.channelDetails.affinityicon="ex"):(e.channelDetails.affinitytext="Good",e.channelDetails.affinityicon="ex"),void 0)}),e.minTweets=2;var s=function(){r({method:"JSONP",url:"http://api.twitter.com/1/statuses/user_timeline.json",params:{screen_name:e.twitterHandle,count:"10",callback:"JSON_CALLBACK"}}).success(function(t){return null==t||0==t.length?(a(),void 0):(e.twitterResponse=t,e.paginateTwitter=e.twitterResponse.slice(0,e.minTweets),void 0)}).error(function(t,i){e.data=t||"Request failed",e.status=i})},a=function(){r({method:"JSONP",url:"http://search.twitter.com/search.json",params:{rpp:"10",lang:"en",q:e.channelDetails.channelname,callback:"JSON_CALLBACK"}}).success(function(t){e.isSearchFeed=!0,e.twitterResponse=t.results,e.paginateTwitter=e.twitterResponse.slice(0,e.minTweets),e.showTwitter=t.results.length<=0?!1:!0}).error(function(t,i){e.showTwitter=!1,e.data=t||"Request failed",e.status=i})},l=function(){n.getFBAccessToken({},function(t){var i="access_token="+t.access_token;r({method:"JSONP",url:"https://graph.facebook.com/"+e.facebookHandle+"/posts?"+i,params:{limit:10,callback:"JSON_CALLBACK"}}).success(function(t){return e.facebookResponse=t.data,e.facebookResponse?(e.paginateFb=e.facebookResponse.slice(0,2),void 0):(e.showFacebook=!1,e.minTweets=4,void 0)}).error(function(){})}),r({method:"JSONP",url:"http://graph.facebook.com/"+e.facebookHandle+"/?fields=picture&type=small",params:{callback:"JSON_CALLBACK"}}).success(function(t){return"undefined"==typeof t.picture?(e.facebookProfilePic="",void 0):(e.facebookProfilePic=t.picture.data.url,void 0)
}).error(function(){e.facebookProfilePic=""})};e.paginateTwitter=[],e.twitterText="View More",e.loadMoreTweets=function(){"View More"==e.twitterText?(e.twitterText="View Less",e.paginateTwitter=e.twitterResponse):(e.twitterText="View More",e.paginateTwitter=e.twitterResponse.slice(0,2))},e.paginateFb=[],e.fbText="View More",e.loadMoreFb=function(){"View More"==e.fbText?(e.fbText="View Less",e.paginateFb=e.facebookResponse):(e.fbText="View More",e.paginateFb=e.facebookResponse.slice(0,2))}}]),woi.controller("Channel_ProgramsTabController",["$scope","$rootScope","$routeParams","$filter","userAPI","$location",function(e,t,n,r,o,s){function a(e){u.removeClass("active"),u.eq(e).addClass("active"),h.removeClass("less"),d.hide().eq(e).show(),m=e,l(e)}function l(e){var t=d.eq(e),i=t.find(".item"),n=i.length,r=i.filter(":visible").length,o=Modernizr.mq("screen and (min-width:768px) and (max-width:1024px)")?4:6;n>0&&n>o?(n==r&&h.addClass("less"),h.show()):h.hide()}function c(e){y(),v.show();var t=h.filter(":visible").length;t&&(h.addClass("loading"),g("show",{element:h}));var i=d.eq(e),n=Modernizr.mq("screen and (min-width:768px) and (max-width:1024px)")?4:6,r=i.find(".item"),o=Math.ceil(r.filter(":visible").length/n),s=(o+1)*n;return r.filter(":visible").length==r.length?(h.removeClass("less"),r.hide().filter(":lt("+n+")").show(),g("hide",{element:h}),h.removeClass("loading"),!1):(r.filter(":lt("+s+")").show(),g("hide",{element:h}),h.removeClass("loading"),s>=r.length&&r.filter(":visible").length==r.length&&h.addClass("less"),void 0)}e.channelid=n.channelid;var u,d,h,p,f,m,g=r("loading"),v=$(".channel-tabs").hide();r("addZero"),r("isoToDate"),e.genreSelected=!1;var y=function(){u=v.find(".tab-btn"),d=v.find(".tab"),h=v.find(".more"),p=v.find("li.category"),f=$(".spin_channels")};y(),e.programs={yourrecs:[],popular:[],premiers:[],exclusives:[],rated:[],browse:[]},e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},e.loadYourRecs=function(){if(t.isUserLogged())var n={hybridgenre:e.currentFilter};var r={userid:t.getUser().userid,channelid:e.channelid};o.yourChannelRecs($.extend(r,n),function(t){if(e.spinnerOn=!1,g("hide",{element:f}),!t.getsimilarchannelprogramme)return e.programs.yourrecs=[],a(0),!1;for(e.programs.yourrecs=addData(t.getsimilarchannelprogramme.similarchannelprogrammelist),i=0;i<e.programs.yourrecs.length;i++)e.programs.yourrecs[i].timestring=abbrMonth(e.programs.yourrecs[i].timestring);setTimeout(function(){0===m&&a(m),c(0)},5)})},e.loadPopular=function(){e.programs.popular=[];var n={hybridgenre:e.currentFilter},r={userid:t.getUser().userid,channelid:e.channelid};o.channelPopularPrograms($.extend(r,n),function(t){if(e.spinnerOn=!1,g("hide",{element:f}),!t.gettopprogrammeforchannel)return e.programs.popular=[],!1;for(e.programs.popular=addData(t.gettopprogrammeforchannel.topprogrammeforchannel),i=0;i<e.programs.popular.length;i++)e.programs.popular[i].timestring=abbrMonth(e.programs.popular[i].timestring);setTimeout(function(){1===m&&a(m),c(1)},5)})},e.loadBrowse=function(){var t={hybridgenre:e.currentFilter},i={channelid:n.channelid};o.getBrowseForChannel($.extend(i,t),function(t){return e.spinnerOn=!1,g("hide",{element:f}),t.channelbrowsedprogramme?(e.programs.browse=addData(t.channelbrowsedprogramme.channelbrowsedprogrammelist),setTimeout(function(){2===m&&a(m),c(2)},5),void 0):(e.programs.browse=0,e.programs.browse=[],!1)})},e.init=function(){e.loadPopular(),e.loadBrowse(),t.isUserLogged()?(e.loadYourRecs(),a(0)):a(1)},u.live("click",function(t){t.preventDefault(),y();var i=u.index(this);e.currentActiveTab="",0==i?(e.currentActiveTab="recs",e.safeApply(function(){e.programs.yourrecs=[],e.spinnerOn=!0,g("show",{element:f})}),e.loadYourRecs()):1==i?(e.currentActiveTab="popular",e.safeApply(function(){e.programs.popular=[],e.spinnerOn=!0,g("show",{element:f})}),e.loadPopular()):(e.currentActiveTab="browse",e.safeApply(function(){e.programs.browse=[],e.spinnerOn=!0,g("show",{element:f})}),e.loadBrowse()),a(i)}),h.click(function(e){y(),c(h.index(this)),e.preventDefault()}),e.currentFilter="All",e.allGenres=[],e.constructObject=function(){return e.allGenres.length>0?!1:(o.getGenreList({channelid:e.channelid},function(t){return console.log("got response....",t),t.gethybridgenreforchannel?(e.allGenres=t.gethybridgenreforchannel.hybridgenreforchannel,e.paginateGenres=e.allGenres.slice(0,8),void 0):!1}),void 0)},e.viewAllOperators=function(){e.paginateGenres=e.allGenres},e.selectedGenre=function(t){$("div.qtip:visible").qtip("hide"),e.genreSelected=!0,h.removeClass("less"),e.currentFilter=t.groupname,0==m?(e.safeApply(function(){e.programs.yourrecs=[],e.spinnerOn=!0,g("show",{element:f})}),e.loadYourRecs()):1==m?(e.safeApply(function(){e.programs.popular=[],e.spinnerOn=!0,g("show",{element:f})}),e.loadPopular()):(e.safeApply(function(){e.programs.browse=[],e.spinnerOn=!0,g("show",{element:f})}),e.loadBrowse())},e.playVideo=function(e){t.playThisVideo=e.videourl,t.playThisVideoObj=e,_.isUndefined(t.playThisVideo)&&!_.isUndefined(e.videoUrl)&&(t.playThisVideo=e.videoUrl),t.playThisVideoObj.videourl=t.playThisVideo,s.path("/programme/"+e.programmeid+"/channel/"+e.channelid)},e.hasVideo=function(e){return!_.isUndefined(e.videoid)}}]),woi.controller("ChannelDiscussionController",["$scope","$rootScope","$routeParams","$timeout","$compile","$filter","userAPI",function(e,t,i,n,r,o,s){e.channelid=i.channelid,e.programmeid=i.programmeid;var a=o("loading");e.post={title:"",message:""};var l=function(e,t){t?(e.slideDown(),e.prev().addClass("error")):(e.slideUp(),e.prev().removeClass("error"))};e.postDiscussion=function(i,o,c){if(i){i.preventDefault();var u=$(i.currentTarget)}var d={emptyFields:"Discussion message and title are required.",creationFailed:"Discussion creation failed"},h=($(".errorMessage"),$("#discussion_post_error"));if(l(h,!1),""==$.trim(e.post.title)||""==$.trim(e.post.message))return h.html(d.emptyFields),l(h,!0),!1;if(!t.isUserLogged()){t.beforeaction.title="Login to Create a Discussion",t.beforeaction.subtitle="Please login to Create a Discussion";var p=u.attr("data-popover")?-15:5,f=$(".sidebar").hasClass("expand")||$(".tv_guide").hasClass("tv")?{my:"top left",at:"bottom center"}:{my:"top center",at:"bottom center"},m=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:f.my,at:f.at,adjust:{y:p}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){u.parent().parent(".thumb").addClass("active"),u.addClass("active")},hide:function(){u.parent().parent(".thumb").removeClass("active"),u.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(t){var s=this;n(function(){s.set("content.text",r(t)(e)),n(function(){s.reposition()})}),e.actionObj={element:u,popconfig:g,success:function(){e.postDiscussion(i,o,!0),u.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},g=m();return u.qtip(g).qtip("show"),!1}u.qtip("destroy"),u.addClass("loading"),a("show",{element:u});var v={forumtype:"channel",forumtypeid:e.channelid,forumtitle:e.post.title,forumimage:e.channelDetails?e.channelDetails.logofileurl:"",comments:e.post.message,userid:t.getUser().userid};"program"==o&&(v=$.extend(v,{forumtype:"program",forumtypeid:e.programmeid,forumimage:e.fullProgrammeDetail?e.fullProgrammeDetail.imagefilepath:""})),s.createDiscussion(v,function(i){if(!i||!i.response||"false"===i.response.responsestatus)return h.html(d.creationFailed),l(h,!0),u.removeClass("loading"),a("hide",{element:u}),!1;if(c)return location.reload(),!1;e.post.title="",e.post.message="",u.removeClass("loading"),a("hide",{element:u}),u.parent().children("input, textarea").val("").focus().blur();var n="";i.response.forumid&&(n=i.response.forumid);var r={forumid:n};e.openNotification("newDiscussionConfirmation"),t.$broadcast("discussionPosted",r)})},e.openNotification=function(t){var i=t?$("#"+t):$(".discussionConfirmation"),n=i.children("li").children(".dc_check, .dc_close"),r=i.outerHeight();n.height(r),i.fadeIn().slideDown(),setTimeout(function(){e.closeNotification(null,i)},3e3)},e.closeNotification=function(e,t){if(e){e.preventDefault();var i=$(e.currentTarget),n=i.parent().parent()}else n=t;n.slideUp().fadeOut()}}]),woi.controller("ChannelFeaturedVideoController",["$scope","$rootScope","$routeParams","userAPI",function(e,t,i,n){e.channelid=i.channelid;var r=10,o=$(".featured").hide();e.featuredVideo=[],n.featuredChannelVideos({pageno:1,channelid:e.channelid},function(i){var n=[],s=0;return i.getfeaturedvideosforchannel?(n=addData(i.getfeaturedvideosforchannel.featuredvideosforchannellist),r=10,e.featuredVideo=n.length>r?n.slice(0,r):n,e.footerVideos=_.shuffle(n),t.$emit("channel:videoloaded",e.footerVideos),_.each(e.featuredVideo,function(e){e.slideid=s++}),setTimeout(function(){o.show(),o.find(".item:eq(0)").addClass("active"),o.find(".item-content:eq(0)").addClass("active"),o.find(".carousel").carousel({interval:!1}).on("slid",function(){o.find(".player").empty();var e=parseInt(o.find(".carousel-inner .active").attr("data-isvideo"));e?o.find(".carousel-inner .active span.play").show():o.find(".carousel-inner .active span.play").hide();var t=o.find(".carousel-inner .active").attr("data-slideid");$(".item-content").removeClass("active"),$(".item-content[data-actionsid="+t+"]").addClass("active")})},5),void 0):!1})}]),woi.controller("ChannelFooterVideosController",["$scope","$rootScope","$routeParams","userAPI","$filter","$location",function(e,t,i,n,r,o){e.footerVideos=[],t.$on("channel:videoloaded",function(t,i){e.footerVideos=i.slice(0,2)}),e.hasVideo=function(e){return"undefined"!=typeof e.videourl&&""!=e.videourl},e.playVideo=function(e,i){var n=$(e.currentTarget).parent(),r="footer-"+i.videoid;if(n.outerWidth()<550)return t.playThisVideo=i.videourl,t.playThisVideoObj=i,o.path("/programme/"+i.programmeid+"/channel/"+i.channelid),!1;if("1"==i.isyoutube){var s=i.videourl.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);n.find(".player").html('<iframe width="278" height="160" src="http://www.youtube.com/embed/'+s[1]+'?autoplay=1&rel=0&modestbranding=1&showinfo=0" frameborder="0" allowfullscreen style="backgground-color=\'#000\'"></iframe>')}else{if($("#"+r).length)return n.find(".player").show(),_V_(r).play(),!1;var a=$("<video>").attr({id:r,width:278,height:160}).addClass("video-js vjs-default-skin"),l=$("<source></source>").attr("src",i.videourl).attr("type","video/mp4");a.append(l),n.find(".player").append(a),_V_(r,{controls:!0,autoplay:!0,preload:"auto"}).addEvent("ended",function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),n.find(".player").hide()})}}}]),woi.controller("TodayTomorrowController",["$scope","$rootScope","$routeParams","userAPI","$filter",function(e,t,i,n,r){n.ChannelScheduleTodayTomorrow({dayparam:1,channelid:i.channelid},function(t){e.todayPrograms=addData(t.getchannelscheduletodaytomorrow.channelscheduletodaytomorrow),e.todayPrograms.channelid=i.channelid}),n.ChannelScheduleTodayTomorrow({dayparam:2,channelid:i.channelid},function(t){e.tomorrowPrograms=addData(t.getchannelscheduletodaytomorrow.channelscheduletodaytomorrow),e.tomorrowPrograms.channelid=i.channelid}),e.dayparam=1,e.todayFunction=function(){e.dayparam=1;var t=new Date;e.selected_date.day_value=o(t.getDate()),e.selected_date.day_name=s((new Date).getDay(),!0),e.selected_date.date_string=l(t.getDate())+" "+a(t.getMonth()).substr(0,3),e.selected_date.value=0},e.tomorrowFunction=function(){e.dayparam=2;var t=new Date;t.setDate(t.getDate()+1),e.selected_date.day_value=o(t.getDate()),e.selected_date.day_name=s((new Date).getDay()+1,!0),e.selected_date.date_string=l(t.getDate())+" "+a(t.getMonth()).substr(0,3),e.selected_date.value=1};var o=r("addZero"),s=r("getNameDay"),a=r("getNameMonth"),l=r("toOrdinal");e.calendar=[],e.ndays=7,e.selected_date={date_string:l((new Date).getDate())+" "+a((new Date).getMonth()).substr(0,3),day_name:s((new Date).getDay(),!0),day_value:o((new Date).getDate()),day_ordinal:l((new Date).getDate()),value:0},e.setCalendar=function(){for(var t=[],i=new Date,n=0;n<e.ndays;n++)t.push({date_string:l(i.getDate())+" "+a(i.getMonth()).substr(0,3),day_name:s(((new Date).getDay()+n)%7,!0),day_value:o(i.getDate()),month_name:a(i.getMonth()).substr(0,3),day_ordinal:l(i.getDate()),value:n}),i.setDate(i.getDate()+1);e.calendar=t},e.isDateSelected=function(t){return t.value===e.selected_date.value},e.selectDate=function(i,n){n.target,e.selected_date=i,$("div.qtip:visible").qtip("hide"),t.dateParamInChannel=i.value,loadNewContents(i.value)},loadNewContents=function(t){return 0==t?(e.dayparam=1,void 0):1==t?(e.dayparam=2,void 0):(e.dayparam=t+1,n.ChannelScheduleTodayTomorrow({dayparam:e.dayparam,channelid:i.channelid},function(t){e.futurePrograms=addData(t.getchannelscheduletodaytomorrow.channelscheduletodaytomorrow)}),void 0)},e.checkDate=function(e){var i=e-1;1==i&&(t.loadNextDay=!0)},e.showCategory=function(e){return!e||"film"!=e.toLowerCase()&&"movie"!=e.toLowerCase()?void 0:"Movie,"}}]),woi.controller("SimilarChannels",["$scope","$rootScope","$filter","$routeParams","userAPI",function(e,t,i,n,r){e.recommended=[],e.paginate=[],e.similarChannels=[],e.amount=0,e.step=5,e.showMore=!0,e.loadMore=function(){return e.similarChannels.length?(e.amount=e.amount+e.step,e.amount>=e.similarChannels.length&&(e.showMore=!1,e.amount=e.similarChannels.length),e.paginate=e.similarChannels.slice(0,e.amount),void 0):!1},r.similarChannels({channelid:n.channelid},function(t){return t.getsimilarchannels?(e.similarChannels=t.getsimilarchannels.similarchannelslist,e.loadMore(),void 0):!1})}]),woi.controller("ChannelLandingPageController",["$scope","$rootScope","$filter","$routeParams","userAPI",function(e,t){e.phoneSidebar="off",e.toggleSidebar=function(t){e.phoneSidebar=t},t.$broadcast("highlightChannel",[])}]),woi.controller("FeaturedChannelPageController",["$scope","$rootScope","$filter","$timeout","$compile","userAPI",function(e,t,i,n,r,o){e.recommended=[],e.paginate=[],e.amount=0,e.step=4,e.showMore=!0,e.loadMore=function(){return e.lpFeaturedChannels.length?(e.amount=e.amount+e.step,e.amount>=e.lpFeaturedChannels.length&&(e.showMore=!1,e.amount=e.lpFeaturedChannels.length),e.paginate=e.lpFeaturedChannels.slice(0,e.amount),void 0):!1},o.featuredChannelsLP({userid:t.getUser().userid},function(t){return t.featuredchannels?(e.lpFeaturedChannels=addData(t.featuredchannels.featuredchannelslist),e.loadMore(),void 0):!1});var s=i("loading");$spinnerDiv=$(".spin"),e.toggleFavoriteChannel=function(i,a,l){i.preventDefault(),i.stopPropagation();var c=$(i.currentTarget);if(!t.isUserLogged()){t.beforeaction.title="Login to Favorite",t.beforeaction.subtitle="Please login to favorite";var u=c.attr("data-popover")?-15:5,d=$(".sidebar").hasClass("expand")||$(".tv_guide").hasClass("tv")?{my:"top left",at:"bottom center"}:{my:"top center",at:"bottom center"};d.my=t.device.isTouch&&c.offset().left<125?"top left":"top center";var h=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:d.my,at:d.at,adjust:{y:u}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){c.parent().parent(".thumb").addClass("active"),c.addClass("active")},hide:function(){c.parent().parent(".thumb").removeClass("active"),c.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(t){var o=this;n(function(){o.set("content.text",r(t)(e)),n(function(){o.reposition()})}),e.actionObj={element:c,popconfig:p,success:function(){e.toggleFavoriteChannel(i,a,!0),c.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},p=h();return c.qtip(p).qtip("show"),!1}c.qtip("destroy"),c.addClass("loading"),s("show",{element:c});var f={channelid:a.channelid,userid:t.getUser().userid,like:"1"==a.ischannelfavorite?!1:!0};o.toggleFavoriteChannel(f,function(e){return l?(location.reload(),!1):(c.removeClass("loading"),s("hide",{element:c}),"false"==e.response.responsestatus&&alert(e.response.message),a.ischannelfavorite="1"==a.ischannelfavorite?"0":"1",t.$broadcast("update:fav-ui",a),void 0)})},e.$on("update:fav-ui",function(t,i){_.map(e.lpFeaturedChannels,function(e){e.channelid==i.channelid&&(e.ischannelfavorite=i.ischannelfavorite)})})}]),woi.controller("BrowseController",["$scope","$rootScope","$filter","$timeout","$compile","userAPI",function(e,t,i,n,r,o){e.curretHybridGenre="",t.currentOperatorId=0,e.requestCompleted=!1;var s=i("loading");$spinnerDiv=$(".spin"),o.browseItems({},function(t){return t.channelgenre?(e.browseCategories=addData(t.channelgenre.channelgenrelist),e.curretHybridGenre=e.browseCategories[0].hybridgenre,e.filterByHybridGenre(e.browseCategories[0].hybridgenre),void 0):!1}),e.$on("update:fav-ui",function(t,i){_.map(e.detailedList,function(e){e.channelid==i.channelid&&(e.ischannelfavorite=i.ischannelfavorite)})}),e.itemClicked=function(t,i){return"favorites"==i?(e.curretHybridGenre="favorites",e.filterByHybridGenre(),$("#channelSearch").val("Channel Name..."),$("#channelSearchMobile").val("Channel Name..."),!1):(e.curretHybridGenre=i.hybridgenre,$("#channelSearch").val("Channel Name..."),$("#channelSearchMobile").val("Channel Name..."),e.filterByHybridGenre(),void 0)};var a=function(){e.detailedList=[],e.paginateDetailedList=[],e.amount=0,e.step=3,e.scrollValue=300};e.loadMoreDetails=function(){},e.loadOnlyFiveDetails=function(){e.amount=8,e.amount>=e.detailedList.length&&(e.amount=e.detailedList.length),e.paginateDetailedList=e.detailedList.slice(0,e.amount)},e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},e.filterByHybridGenre=function(){e.requestCompleted=!1;var i="headendid="+t.currentOperatorId+";applicationname=website";e.safeApply(function(){a()}),s("show",{element:$spinnerDiv});var n={userid:t.getUser().userid,hybridgenre:e.curretHybridGenre,context:i};o.filterByHybridGenre(n,function(t){if(e.requestCompleted=!0,!t.hybridchannels)return s("hide",{element:$spinnerDiv}),"favorites"==e.curretHybridGenre,e.detailedList=[],!1;if(!angular.isArray(t.hybridchannels.hybridchannelslist)){if(!angular.isObject(t.hybridchannels.hybridchannelslist))return e.detailedList=[],!1;t.hybridchannels.hybridchannelslist=[t.hybridchannels.hybridchannelslist]}return t.hybridchannels.hybridchannelslist[0].tablegenre.toLowerCase()!=e.curretHybridGenre.toLowerCase()?(e.detailedList=[],!1):(e.detailedList=t.hybridchannels.hybridchannelslist,e.loadOnlyFiveDetails(),void 0)})},e.$on("filter:based-on-operator",function(i,n){""==e.curretHybridGenre&&(e.curretHybridGenre="Popular"),t.currentOperatorId=n.operator_id,e.filterByHybridGenre()}),e.$on("searched-by-channel",function(t,i){e.safeApply(function(){a()}),e.curretHybridGenre="",e.detailedList=i,e.loadOnlyFiveDetails()}),e.toggleFavoriteChannel=function(i,a,l){i.preventDefault();var c=$(i.currentTarget);if(!t.isUserLogged()){t.beforeaction.title="Login to Favorite",t.beforeaction.subtitle="Please login to favorite";var u=c.attr("data-popover")?-15:5,d=$(".sidebar").hasClass("expand")||$(".tv_guide").hasClass("tv")?{my:"top left",at:"bottom center"}:{my:"top center",at:"bottom center"};d.my=t.device.isTouch&&c.offset().left<125?"top left":"top center",t.device.isMobile&&(d.my="top left");var h=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:d.my,at:d.at,adjust:{y:u}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){c.parent().parent(".thumb").addClass("active"),c.addClass("active")},hide:function(){c.parent().parent(".thumb").removeClass("active"),c.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(t){var o=this;n(function(){o.set("content.text",r(t)(e)),n(function(){o.reposition()})}),e.actionObj={element:c,popconfig:p,success:function(){e.toggleFavoriteChannel(i,a,!0),c.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},p=h();return c.qtip(p).qtip("show"),!1}c.qtip("destroy"),c.addClass("loading"),s("show",{element:c});var f={channelid:a.channelid,userid:t.getUser().userid,like:"1"==a.ischannelfavorite?!1:!0};o.toggleFavoriteChannel(f,function(i){return l?(location.reload(),!1):(c.removeClass("loading"),s("hide",{element:c}),"false"==i.response.responsestatus&&alert(i.response.message),a.ischannelfavorite="1"==a.ischannelfavorite?"0":"1","favorites"==e.curretHybridGenre&&(e.paginateDetailedList=_.reject(e.paginateDetailedList,function(e){return"0"==e.ischannelfavorite})),t.$broadcast("update:fav-ui",a),void 0)})}}]),woi.controller("OperatorsControllerChannels",["$scope","$rootScope","$filter","userAPI","tsmAPI",function(e,t,i,n,r){e.allOperators=[],e.paginateOps=[],e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},e.update=function(){if(e.allOperators.length>0)return!1;e.safeApply(function(){e.noTvOperators=!1});var i={userid:t.getUser().userid};angular.isDefined(t.userInfo.areaid)&&(i.areaid=t.userInfo.areaid),angular.isDefined(t.userInfo.cityid)&&(i.cityid=t.userInfo.cityid),angular.isDefined(t.userInfo.stateid)&&(i.stateid=t.userInfo.stateid),r.getOperatorList(i,function(t){return t.getoperators?(e.allOperators=t.getoperators.operatorslist,e.paginateOps=e.allOperators.slice(0,8),void 0):(e.noTvOperators=!0,!1)})},e.viewAllOperators=function(){e.paginateOps=e.allOperators},e.selectOperator=function(i){$("div.qtip:visible").qtip("hide"),e.selectedOperator=i.operator_name;var n=$(".operator-name");n.html(i.operator_name),t.$broadcast("filter:based-on-operator",i)}}]),woi.controller("SidebarVideosController",["$rootScope","$scope","recoAPI","userAPI","videoActions",function(e,t,i,n){n.featuredProgramme({pageno:1,userid:e.getUser().userid},function(e){var i=function(){t.featuredProgramsList=[],t.paginatefeaturedList=[],t.amount=0,t.step=2,t.scrollValue=300};return i(),t.loadMoreDetails=function(){},t.loadOnlyFourDetails=function(){t.amount=5,t.amount>=t.featuredProgramsList.length&&(t.amount=t.featuredProgramsList.length),t.paginatefeaturedList=t.featuredProgramsList.slice(0,t.amount)},e.getfeaturedprogramme?angular.isArray(e.getfeaturedprogramme.featuredprogrammelist)?(t.featuredProgramsList=e.getfeaturedprogramme.featuredprogrammelist,t.loadOnlyFourDetails(),void 0):(t.featuredProgramsList=[],!1):(t.featuredProgramsList=[],!1)})}]),woi.controller("ChannelAutoCompleteController",["$scope","$rootScope","$filter","userAPI","autoAPI",function(e,t,i,n){e.getNewDataSet=function(i){if(i.length<2)return!1;e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)};var r="applicationname=sourcebits;headendid="+t.currentOperatorId,o={channelname:i,context:r};!function(r){n.searchByChannelName(r,function(n){if(r.channelname!=i)return!1;if(!n.hybridchannelsbychannelname)return!1;var o=addData(n.hybridchannelsbychannelname.hybridchannelsbychannelnamelist);e.safeApply(function(){t.$broadcast("searched-by-channel",o)})})}(o)}}]),woi.controller("AppController",["$scope","$rootScope","$route","userAPI","recoAPI","autoAPI","$location",function(e,t,i,n,r,o,s){e.autoComplete={data:[],lastQuery:"",previousQueries:[]},e.goToFeed=function(e){t.feedTab=e,s.path("/socialfeed")},e.clearMainNav=function(){t.$broadcast("resetHighlight",[])}}]),woi.controller("App_UserActionController",["$scope","$rootScope","$compile","$timeout","$window","$http","userAPI","recoAPI",function(e,t,i,n,r,o,s){e.state="login",e.data={};var a=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\ ".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA -Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},l={missingEmail:"Please enter your Email ID",existingEmail:"This Email is already registered",missingPassword:"Please enter your password",invalidEmail:"Please enter a valid Email",invalidPassLength:"Password must be atleast 6 characters",unverifiedEmail:"Please complete email activation to continue"},c=function(e,t){t?(e.stop().queue("fx",[]).slideDown(),e.prev().addClass("error")):(e.stop().queue("fx",[]).hide(),e.prev().removeClass("error"))},u=function(e,t){t?e.stop().queue("fx",[]).slideDown():e.stop().queue("fx",[]).slideUp()};e.submitForgotPassword=function(){var t=($(".errorMessage"),$(".recover_email_error")),i=$(".recover_email_success");if(recoverFormElements=$("#recoverEmail, #recoverSubmit, .forgotPassword > p, .forgotPassword > div.footer"),c(t,!1),u(i,!1),!e.data.forgot)return t.html(l.missingEmail),c(t,!0),$('form[name="forgotPasswordForm"] input[name="email"]').val("").focus(),!1;if(!a(e.data.forgot.emailid))return $("#recoverEmail").addClass("invalid_info"),t.html(l.missingEmail),c(t,!0),$('form[name="forgotPasswordForm"] input[name="email"]').focus(),!1;if(this.forgotPasswordForm&&this.forgotPasswordForm.$invalid)return t.html(l.missingEmail),c(t,!0),!1;var r=$(".signin-container");r.block(),s.forgotPassword(e.data.forgot,function(t){t.response&&t.response.responsestatus?(i.html(t.response.message),"false"==t.response.responsestatus.toLowerCase()&&i.css("color","#A00"),u(i,!0),e.data={},recoverFormElements.hide(),n(function(){u(i,!1),i.css("color","#0A0"),recoverFormElements.show(),e.state="login"},5e3)):alert("Error sending request"),r.unblock()})},e.submitSignIn=function(){var i=($(".errorMessage"),$(".signin_pw_error")),n=$(".signin_email_error");if(c(i,!1),c(n,!1),!e.data.signin)return i.html(l.missingPassword),n.html(l.missingEmail),c(i,!0),c(n,!0),$('form[name="signInForm"] input[name="email"]').val("").focus(),!1;if(!e.data.signin.email)return n.html(l.missingEmail),c(n,!0),$('form[name="signInForm"] input[name="email"]').val("").focus(),!1;if(!a(e.data.signin.email))return n.html(l.invalidEmail),c(n,!0),$('form[name="signInForm"] input[name="email"]').val("").focus(),$('form[name="signInForm"] input[name="password"]').val(""),!1;if(($("html").hasClass("ipad")||$("html").hasClass("ipod")||$("html").hasClass("iphone"))&&(_.isUndefined(e.data.signin.password)||""==e.data.signin.password)){var r=$("div.qtip:visible"),o=r.find(".ios-password"),u=o.attr("prefixvalue");e.data.signin.password=$("#"+u+"signpwd").val()}if(!e.data.signin.password)return i.html(l.missingPassword),c(i,!0),$('form[name="signInForm"] input[name="password"]').val("").focus(),!1;if(0==e.data.signin.password.length)return i.html(l.missingPassword),c(i,!0),$('form[name="signInForm"] input[name="password"]').val("").focus(),!1;if(this.signInForm&&this.signInForm.$invalid)return i.html(l.missingPassword),n.html(l.missingEmail),c(i,!0),c(n,!0),!1;var d=$(".signin-container");d.block(),s.signIn(e.data.signin,function(r){if(r.userprofile&&r.userprofile.user.userid>0){if("false"==r.userprofile.user.emailverified&&r.userprofile.user.emailverificationdays>5)return i.html(l.unverifiedEmail),c(i,!0),d.unblock(),!1;console.log("the logged in user =="),console.log(r.userprofile.user),t.signInUser(r.userprofile.user),e.data={}}else{r.userprofile.user.message.toLowerCase().indexOf("password")>0?(i.html(r.userprofile.user.message),c(i,!0)):(n.html(r.userprofile.user.message),c(n,!0)),$('form[name="signInForm"] input[name="password"]').val("").removeClass("filled"),$('form[name="signInForm"] input[name="email"]').val("").removeClass("filled").focus();var o=$("div.qtip:visible"),s=o.find(".ios-password"),a=s.attr("prefixvalue");$("#"+a+"_"+a+"signpwd").val(""),$("#"+a+"_"+a+"signpwd").removeClass("filled"),e.data={}}d.unblock()})},e.clearSignupForm=function(t){switch(t){case"pw":$('form[name="signUpForm"] input[name="password"]').val("").removeClass("filled").focus();var i=$("div.qtip:visible"),n=i.find(".ios-password"),r=n.attr("prefixvalue");$("#"+r+"_"+r+"signpwd").val(""),$("#"+r+"_"+r+"signpwd").removeClass("filled"),e.data.register.password="";break;case"em":$('form[name="signUpForm"] input[name="email"]').val("").removeClass("filled").focus(),e.data.register.email="";break;default:$('form[name="signUpForm"] input[name="email"]').val("").removeClass("filled").focus(),$('form[name="signUpForm"] input[name="password"]').val("").removeClass("filled");var i=$("div.qtip:visible"),n=i.find(".ios-password"),r=n.attr("prefixvalue");$("#"+r+"_"+r+"signpwd").val(""),$("#"+r+"_"+r+"signpwd").removeClass("filled"),e.data.register={}}},e.submitRegister=function(){var t=($(".errorMessage"),$(".signup_pw_error")),i=$(".signup_email_error");if(c(t,!1),c(i,!1),this.signUpForm.$invalid)return t.html(l.missingPassword),i.html(l.missingEmail),c(t,!0),c(i,!0),e.clearSignupForm(),!1;if(!e.data.register)return t.html(l.missingPassword),i.html(l.missingEmail),c(t,!0),c(i,!0),e.clearSignupForm(),!1;if(!e.data.register.email)return i.html(l.missingEmail),c(i,!0),e.clearSignupForm("em"),!1;if(!a(e.data.register.email))return i.html(l.invalidEmail),c(i,!0),e.clearSignupForm("em"),!1;if($("html").hasClass("ipad")||$("html").hasClass("ipod")||$("html").hasClass("iphone")){var n=$("div.qtip:visible"),r=n.find(".ios-password"),o=r.attr("prefixvalue");e.data.register.password=$("#"+o+"signpwd").val()}if(!e.data.register.password)return t.html(l.missingPassword),c(t,!0),e.clearSignupForm("pw"),!1;if(e.data.register.password){var u=e.data.register.password.match(/<script\b[^>]*>([\s\S]*?)<\/script>/gi);if(null!=u&&u.length>0)return t.html("Invalid Password !"),c(t,!0),e.clearSignupForm("pw"),!1}if(e.data.register.password.length<6)return t.html(l.invalidPassLength),c(t,!0),e.clearSignupForm("pw"),!1;var d=$(".signin-container");d.block(),s.registerUser(e.data.register,function(t){t.response&&"true"===t.response.responsestatus?(e.data.signin=e.data.register,e.submitSignIn(),alert("Registration Successful! A confirmation email has been sent to your email address.")):(i.html(l.existingEmail),c(i,!0),e.clearSignupForm(),d.unblock())})},e.checkFacebookRegister=function(e){var i={apikey:"d96409bf894217686ba124d7356686c9",context:"headendid=2645;applicationname=website",pageno:"1",responseformat:"json",responselanguage:"English",email:e.email,fullname:e.name,firstname:e.first_name,lastname:e.last_name,gender:e.gender,timezone:e.timezone,locale:e.locale,userid:0,thirdpartyid:1,thirdpartyobjid:e.id,username:null,link:e.link?e.link:null,link2:null,friendid:null},n="https://graph.facebook.com/"+e.id+"/picture?type=large&fields=picture&callback=JSON_CALLBACK";o.jsonp(n).success(function(n){n&&n.data&&n.data.url&&!n.data.is_silhouette&&(i.link2=n.data.url),FB.api("/"+e.id+"/friends/",function(n){for(var s=[],a=n.data.length,l=0;a>l;l++)s.push(n.data[l].id);i.friendid=s.join(","),o({url:"/api-user/PostThirdPartyRegistration",method:"POST",headers:i}).success(function(i){var n=addData(i.userdetails.PostthirdPartyRegistration);if(n=n[0],i.userdetails&&"True"==n.responsestatus){var o=n,s={emailaddress:e.email,name:o.name,userid:o.userid,cityid:o.cityid,countryid:o.countryid,emailverified:o.emailverified,isdevicereminder:o.isdevicereminder,isEmailReminder:o.isEmailReminder,isrecurring:o.isrecurring,isSMSReminder:o.isSMSReminder,languagefilter:o.languagefilter,message:o.message,mobile:o.mobile,mobilenumberverified:o.mobilenumberverified,socialsharing:o.socialsharing,stateid:o.stateid,utcoffsetinmin:o.utcoffsetinmin,priortimeinminutes:o.priortimeinminutes,SocialSharing:o.SocialSharing,LanguageFilter:o.LanguageFilter};t.signInUser(s)}else alert("Sorry could not process your request due to technical reasons. Please try again after some time."),r.location.href="#!/home",r.location.reload()})})})},e.submitFacebookLogin=function(){FB.login(function(t){t.authResponse?FB.api("/me?fields=id,email,name,first_name,last_name,link,gender,timezone,locale,picture",function(t){e.checkFacebookRegister(t)}):console.log("User cancelled login or did not fully authorize.")},{scope:"email"})},e.displaySignIn=function(){e.state="login",e.data={}},e.displayForgotPassword=function(){e.state="forgot",e.data={}},t.$on("change:loginPopoverState",function(){e.displaySignIn()})}]),woi.controller("SocialController",["$rootScope","$scope","facebookAPI",function(e,t,i){i.graph(function(e){console.log(e)})}]),woi.controller("App_UserController",["$rootScope","$scope","$compile","userAPI","recoAPI","userList",function(){}]),woi.controller("NewsletterController",["$scope","$rootScope","$compile","userAPI","recoAPI",function(e,t,i,n){e.data={subscribe:{}};var r=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\ ".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA -Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
return t.test(e)},o={missingEmail:"Please Enter Your Email ID",invalidEmail:"Please Enter A Valid Email",requestFailed:"Subscription failed, please try again"},s=function(e,t){t?(e.stop().queue("fx",[]).slideDown(),e.prev().addClass("error")):(e.stop().queue("fx",[]).slideUp(),e.prev().removeClass("error"))},a=function(e,t){t?e.stop().queue("fx",[]).slideDown():e.stop().queue("fx",[]).slideUp()};e.getSubscribe=function(){var t=($(".errorMessage"),$("#subscribe_email_error")),i=$("#subscribe_email_success");return s(t,!1),a(i,!1),e.data.subscribe?e.data.subscribe.mailid?r(e.data.subscribe.mailid)?(n.subscribeNewsLetter(e.data.subscribe,function(n){n.response&&"true"==n.response.responsestatus?(a(i,!0),e.data={},setTimeout(function(){a(i,!1)},5e3)):(t.html(o.requestFailed),s(t,!0),e.data={})}),void 0):(t.html(o.invalidEmail),s(t,!0),$('input[name="subscribeEmail"]').val("").focus(),!1):(t.html(o.missingEmail),s(t,!0),$('input[name="subscribeEmail"]').val("").focus(),!1):(t.html(o.missingEmail),s(t,!0),$('input[name="subscribeEmail"]').val("").focus(),!1)}}]),woi.controller("App_UserLanguageController",["$scope","$rootScope","$http","$compile","userAPI","recoAPI","autoAPI","tsmAPI",function(e,t,i,n,r,o,s,a){if(e.languages=[],e.paginate=[],e.amountDefault=10,e.amount=e.amountDefault,e.step=10,e.selectedLanguages=[],e.triggerAutoComplete=function(t,i){return t.length<2?!1:(e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},s.autoCompleteLocation({placename:t},function(t){e.safeApply(function(){e.autoComplete.data=t.response.docs}),i&&"function"==typeof i&&i(e.autoComplete.data)}),void 0)},e.$on("filter:languages",function(i,n){console.log("updating languages..."),t.isUserLogged()&&r.userFavoriteLanguage({stateid:n.stateid,cityid:n.cityid,areaid:n.areaid},function(t){return t.favlanguage?(e.languages=t.favlanguage.languagelist,e.loadMore(),void 0):!1})}),e.$on("filter:account-language-list",function(){r.userFavoriteLanguage({stateid:t.userInfo.stateid,cityid:t.userInfo.cityid,userid:t.getUser().userid},function(t){return t.favlanguage?(e.languages=t.favlanguage.languagelist,e.$$phase||e.$apply(),e.loadMore(),void 0):!1})}),e.updateUserLocation=function(i){console.log("updateUserLocation .... ",i);var n={city:i.cityname,state:i.statename,area:i.areaid,userid:t.getUser().userid};r.updateUserLocationDetails(n,function(e){e.response.responsestatus&&t.$broadcast("update:location",i)}),e.$broadcast("filter:languages",i)},angular.isDefined(t.getUser().City))e.locationString=t.getUser().City;else{console.log("AUTO LOCATIOn");var l=geoip_city(),c=geoip_region_name(),u=geoip_country_name();e.locationString=l;var d={country:u,state:c,city:l};console.log("params ... ",d),a.getStateAndCityIds(d,function(i){console.log("got the response .... ,,,, ",i);var n=i.getlocationids.locationids;t.userInfo.cityid=n.cityid,t.userInfo.cityname=l,t.userInfo.stateid=n.stateid,t.userInfo.statename=c,t.userInfo.countryid=n.countryid,$.cookie("userInfo",JSON.stringify(p),{expires:365}),e.getLanguages()})}e.$on("update:location",function(i,n){var r=t.getUser();return-1==r.userid?!1:(e.locationString=n.cityname,t.userInfo.City=r.City=n.cityname,t.userInfo.areaid=r.areaid=n.areaid,t.userInfo.areatype=r.areatype=n.areatype,t.userInfo.cityid=r.cityid=n.cityid,t.userInfo.cityname=r.cityname=n.cityname,t.userInfo.placename=r.placename=n.placename,t.userInfo.stateid=r.stateid=n.stateid,t.userInfo.statename=r.statename=n.statename,t.userInfo.countryid=r.countryid=n.countryid,$.cookie("userInfo",JSON.stringify(r),{expires:365}),void 0)});var h,p=t.getUser();h=-1==p.userid?{}:{stateid:p.stateid,cityid:p.cityid},e.getLanguages=function(){return h={stateid:t.userInfo.stateid,cityid:t.userInfo.cityid,userid:t.getUser().userid},0==h.cityid&&0==h.stateid?!1:(r.userFavoriteLanguage(h,function(t){return t.favlanguage?(e.languages=t.favlanguage.languagelist,e.paginate=e.languages.slice(0,e.amountDefault),void 0):(e.noLanguagesResponse=!0,!1)}),void 0)},e.addLanguage=function(i,n){var o="";e.selectedLanguages=$(".header-language-list input").serializeArray(),_.each(e.selectedLanguages,function(e){o+=o.length?", "+e.value:e.value}),$("#checkbox"+n.replace(" ","")).parent().siblings("label").toggleClass("selectedLanguage"),r.updateUserFavoriteLanguage({languagetext:o,userid:t.getUser().userid},function(e){"false"==e.response.responsestatus&&alert(e.response.message),t.$broadcast("favorite:language-added")})},e.loadMore=function(){var t=$("#languageList");t.css({"max-height":"500px","overflow-y":"scroll","-ms-overflow-y":"scroll"}),e.amount+=e.step,e.amount=e.amount>=e.languages.length?e.languages.length:e.amount,e.paginate=e.languages.slice(0,e.amount),t.animate({scrollTop:t[0].scrollHeight})}}]),ChannelController.$inject=["$scope","$rootScope"],woi.controller("Home_FeaturedController",["$rootScope","$scope","$location","recoAPI","userAPI","videoActions",function(e,t,i,n,r,o){("home"===i.path().replace(/\//g,"")||"Home"===i.path().replace(/\//g,""))&&e.$broadcast("highlightHome",[]),$("#mainSearch").css("background-color","transparent"),$("html").hasClass("ie9")||($("#mainSearch").val(""),$("#searchBoxBottom").val("")),$.browser.msie&&"9.0"==$.browser.version&&($("#mainSearch").val($("#mainSearch").attr("placeholder")),$("#searchBoxBottom").val($("#searchBoxBottom").attr("placeholder")));var s=10,a=$(".featured").hide();$("#baseFeatured").live("mouseenter",function(){$(".channels").css("z-index",1)}),$("#baseFeatured").live("mouseleave",function(){$(".channels").css("z-index",1e3)}),t.featuredVideos=[],r.featuredProgramme({pageno:1},function(e){if(!e.getfeaturedprogramme)return!1;var i=[];_.isArray(e.getfeaturedprogramme.featuredprogrammelist)?i=e.getfeaturedprogramme.featuredprogrammelist:i.push(e.getfeaturedprogramme.featuredprogrammelist);var n=0;t.featuredVideos=i.length>s?i.slice(0,s):i,_.each(t.featuredVideos,function(e){e.slideid=n++}),setTimeout(function(){a.show(),a.find(".item:eq(0)").addClass("active"),a.find(".item-content:eq(0)").addClass("active");var e="";a.find(".carousel").carousel({interval:!1}).on("slide",function(){var t=parseInt(a.find(".carousel-inner .active").attr("data-isvideo")),i="true"==a.find(".carousel-inner .active .player").attr("data-isyoutube");e=a.find(".carousel-inner .active .player");var n=a.find(".active .player iframe").attr("id");i?$.browser.msie?callPlayer(n,function(){callPlayer(n,"stopVideo"),e.html(""),injectYT(a.find(".carousel-inner .active"),a.find(".carousel-inner .active").attr("video-id"))}):callPlayer(n,function(){callPlayer(n,"stopVideo")}):a.find(".carousel-inner .active .player").empty(),t?i||a.find(".carousel-inner .active span.play").show():a.find(".carousel-inner .active span.play").hide()}),a.find(".carousel").carousel({interval:!1}).on("slid",function(){parseInt(a.find(".carousel-inner .active").attr("data-isvideo")),parseInt(a.find(".carousel-inner .active").attr("data-isyoutube"));var e=a.find(".carousel-inner .active").attr("data-slideid");$(".item-content").removeClass("active"),$(".item-content[data-actionsid="+e+"]").addClass("active")})},5)}),t.toggleFavoriteProgramme=function(e,i){i.preventDefault(),o.toggleFavoriteProgramme(e,function(i){"true"===i.response.responsestatus&&(e.isfavorite="0"==e.isfavorite?"1":"0",t.$emit("user:addfavorite",e))})},t.toggleReminder=function(e,t){t.preventDefault(),o.toggleReminder(e,function(){})},t.toggleWatchlist=function(e,t){t.preventDefault(),o.toggleWatchList(e,function(){})}}]),woi.controller("Home_ProgramsTabController",["$scope","$rootScope","$timeout","$filter","recoAPI","userAPI",function(e,t,n,r,o,s){function a(e){u.removeClass("active"),u.eq(e).addClass("active"),h.removeClass("less"),d.hide().eq(e).show(),p=e,l(e)}function l(e){var t=d.eq(e),i=t.find(".item"),n=i.length,r=i.filter(":visible").length,o=Modernizr.mq("screen and (min-width:768px) and (max-width:1024px)")?4:6;n>0&&n>o?(n==r&&h.addClass("less"),h.show()):h.hide()}function c(t){e.elements(),m.show();var i=h.filter(":visible").length;i&&(h.addClass("loading"),f("show",{element:h}));var n=d.eq(t),r=Modernizr.mq("screen and (min-width:768px) and (max-width:1024px)")?4:6,o=n.find(".item"),s=Math.ceil(o.filter(":visible").length/r),a=(s+1)*r;return o.filter(":visible").length==o.length?(h.removeClass("less"),o.hide().filter(":lt("+r+")").show(),f("hide",{element:h}),h.removeClass("loading"),Modernizr.mq("screen and (min-width:768px) and (max-width:1024px)")?$("body, window").animate({scrollTop:h.position().top-1250+"px"}):$("body, window").animate({scrollTop:h.position().top-500+"px"}),!1):(o.filter(":lt("+a+")").show(),f("hide",{element:h}),h.removeClass("loading"),a>=o.length&&o.filter(":visible").length==o.length&&h.addClass("less"),void 0)}var u,d,h,p,f=r("loading"),m=$(".channel-tabs").hide(),g=r("addZero"),v=r("isoToDate");e.elements=function(){u=m.find(".tab-btn"),d=m.find(".tab"),h=m.find(".more")},e.elements(),e.programs={yourrecs:[],premiers:[],exclusives:[],rated:[]},e.loadYourRecs=function(){if(t.isUserLogged())var r=$(".recs-spin");f("show",{element:r}),s.yourRecs({userid:t.getUser().userid},function(t){if(e.recsLoaded=!0,f("hide",{element:r}),!t.getrecommendationpreferences)return n(function(){a(0)}),!1;for(e.programs.yourrecs=_.map(t.getrecommendationpreferences.recommendationlist,function(e){return _.isUndefined(e.programmeid)&&!_.isUndefined(e.programid)&&(e.programmeid=e.programid),e}),i=0;i<e.programs.yourrecs.length;i++)e.programs.yourrecs[i].timestring=abbrMonth(e.programs.yourrecs[i].timestring);setTimeout(function(){0===p&&a(p),c(0)},5)})},e.loadPremiers=function(){var t=$(".premiers-spin");f("show",{element:t}),s.premiers(function(n){for(e.premiersLoaded=!0,f("hide",{element:t}),e.programs.premiers=n.getpremiers.premierslist,i=0;i<e.programs.premiers.length;i++)e.programs.premiers[i].timestring=abbrMonth(e.programs.premiers[i].timestring);setTimeout(function(){1===p&&a(p),c(1)},5)})},e.loadExclusives=function(){var n=$(".exclusives-spin");f("show",{element:n}),s.exclusiveList(function(r){if(e.exclusivesLoaded=!0,f("hide",{element:n}),!r.getExclusiveList)return!1;for(e.programs.exclusives=_.isArray(r.getExclusiveList.ExclusiveList)?r.getExclusiveList.ExclusiveList:[r.getExclusiveList.ExclusiveList],i=0;i<e.programs.exclusives.length;i++)t.exclusives.push(e.programs.exclusives[i].programmeid);setTimeout(function(){2===p&&a(p),c(2)},5)})},e.loadRated=function(){var n=$(".rated-spin");f("show",{element:n}),s.topRated({userid:t.getUser().userid},function(t){for(e.ratedLoaded=!0,f("hide",{element:n}),e.programs.rated=t.gettopratedhomepage.topratedprogrammelist,i=0;i<e.programs.rated.length;i++)e.programs.rated[i].timestring=abbrMonth(e.programs.rated[i].timestring);setTimeout(function(){3===p&&a(p),c(3)},5)})},e.init=function(){e.recsLoaded=!1,e.exclusivesLoaded=!1,e.ratedLoaded=!1,e.premiersLoaded=!1,e.loadPremiers(),e.loadExclusives(),e.loadRated(),t.isUserLogged()?(e.loadYourRecs(),a(0)):a(1)},e.$on("user:signout",function(){a(1)}),u.live("click",function(t){t.preventDefault(),e.elements();var i=u.index(this);e.currentActiveTab="",0==i?(e.loadYourRecs(),e.currentActiveTab="recs"):1==i?e.currentActiveTab="premiers":2==i?e.currentActiveTab="exclusives":3==i&&(e.currentActiveTab="rated"),a(i)}),h.click(function(t){e.elements(),c(h.index(this)),t.preventDefault()}),e.addToFavorite=function(e){s.toggleFavoriteProgramme({like:"0"==e.isfavorite,programmeid:e.programmeid},function(t){t.response.responsestatus?e.isfavorite="0"==e.isfavorite?"1":"0":alert(t.response.message)})},e.addToReminder=function(e){if("0"==e.isreminder){var t=v(e.starttime);s.addReminder({channelid:e.channelid,programmeid:e.programmeid,starttime:""+t.getFullYear()+g(t.getMonth()+1)+g(t.getDate())+g(t.getHours())+g(t.getMinutes())},function(e){e.response.responsestatus||alert(e.response.message)})}else removeReminder.addReminder({reminderid:e.reminderid},function(){})},e.addToWatchlist=function(e){if(t.isUserLogged())var i={watchliststatus:"0"==e.iswatchlist};_.isUndefined(e.videoid)?(i.contenttype="program",i.contentid=e.programmeid,i.videoid=0):(i.contenttype="video",i.contentid=e.programmeid,i.videoid=e.videoid),s.toggleWatchlist(i,function(t){t.response.responsestatus?e.iswatchlist="0"==e.iswatchlist?"1":"0":alert(t.response.message)})}}]),woi.controller("Home_WhatsOnController",["$scope","userAPI","recoAPI",function(e){e.channels={},e.hourList=[];var t;e.now=function(e){var t=$(".sidebar").hasClass("expand")?"expand":"minified";e.preventDefault(),a("reset",0,t)},e.next=function(e){e.preventDefault(),a("next",129,v)};var n=$(".main-section > .sidebar"),r=$(".main-section > .content"),o=$(".expand-btn"),s=n.find(".now-and-next");e.expandNowNext=function(e){e.preventDefault(),n.hasClass("expand")?(n.removeClass("expand").delay(500).show(function(){r.removeClass("shrink").removeClass("fade"),o.html("<b>+</b> Expand&nbsp;&nbsp;&nbsp;")}),s.addClass("sidebar"),this.setTimeline(t,30,9),this.setTvShowTimeline("minified")):(r.addClass("fade").delay(600).show(function(){$(this).addClass("shrink"),n.addClass("expand"),o.html('<b class="expand-close">x</b>Close&nbsp;&nbsp;&nbsp;'),s.removeClass("sidebar")}),this.setTimeline(t,60,5),this.setTvShowTimeline("expanded"))},e.setTimeline=function(t,n,r){e.hourList=[];var o=new Date(t);for(o.setMinutes(o.getMinutes()<30?0:30),i=0;r>i;i++)e.hourList.push(dateFormat(o,"hh:MM TT")),o.setMinutes(o.getMinutes()+n)},e.setTvShowTimeline=function(){},e.setTvShowTimeline("default"),e.favoriteChannels=[],e.toggleAddFavorite=function(t,i){i.preventDefault(),-1!=$.inArray(t,e.favoriteChannels)?e.favoriteChannels.pop(t):e.favoriteChannels.push(t)},e.isFavorite=function(t){return-1!=$.inArray(t,e.favoriteChannels)};var a=function(e,t,i){var r=n.find(".clock-top li"),o=n.find(".timeline ul li").not(".channel-logo"),s=n.find(".clock-top .prev");if("auto"==r.css("left")&&r.css("left",0),"auto"==o.css("left")&&o.css("left",0),"minified"==i&&"prev"==e&&0==parseInt(r.css("left")))return!1;if(r.is(":animated")||o.is(":animated"))return!1;switch(s.hasClass("disable")&&s.removeClass("disable"),e){case"prev":r.animate({left:parseInt(r.css("left"))+t+"px"},200),o.animate({left:parseInt(o.css("left"))+t+"px"},200),0==parseInt(r.css("left"))+t&&"minified"==i&&s.addClass("disable");break;case"next":r.animate({left:parseInt(r.css("left"))-t+"px"},200),o.animate({left:parseInt(o.css("left"))-t+"px"},200);break;case"reset":r.animate({left:parseInt(0)+"px"},200),o.animate({left:parseInt(0)+"px"},200),s.addClass("disable");default:r.animate({left:parseInt(0)+t+"px"},200),o.animate({left:parseInt(0)+t+"px"},200)}};e.next=function(e){var t=n.hasClass("expand")?"expanded":"minified";e.preventDefault(),a("next",129,t)},e.prev=function(e){var t=n.hasClass("expand")?"expanded":"minified";e.preventDefault(),a("prev",129,t)},Modernizr.pointerevents||$(".now-playing-slide").addClass("ie"),n.hasClass("expand")||n.find(".clock-top .prev").addClass("disable")}]),woi.controller("Home_TrendingController",["$scope","$rootScope","$timeout","$compile","$location","userAPI",function(e,t,i,n,r,o){e.trendings=[],e.currentSlide=0;var s=$(".trending"),a=(s.find(".container"),s.find(".slider"));e.slide=function(t){var i=t?e.currentSlide+1:e.currentSlide-1,n=a.find(".item").outerWidth();return i==e.trendings.length||0>i?!1:(e.currentSlide=i,a.animate({left:-(i*n)+"px"},500),void 0)},o.homeTrendingDiscussion({userid:t.getUser().userid},function(t){_.each(t.getlatestdiscussion.latestdiscussion,function(e){e.time=moment(e.lastupdated).isValid()?moment(e.lastupdated).fromNow():"Time is not available"}),e.trendings=t.getlatestdiscussion.latestdiscussion}),e.lessThanOne=function(){return e.trendings.length<=1?!0:void 0},e.showSlider=!0,e.viewStatus="View All",e.toggleSlider=function(){e.showSlider=!e.showSlider,e.viewStatus=1==e.showSlider?"View All":"Hide";var t=$(".containerWrapper"),i=t.children().first();e.showSlider?(i.addClass("slider"),t.children("a").show(),t.addClass("container"),t.removeClass("containerBox")):(i.removeClass("slider"),t.children("a").hide(),t.removeClass("container"),t.addClass("containerBox"))},t.$on("layout:resetSocial",function(){e.showSlider=!1,e.toggleSlider()}),e.like=function(s,a,l){var c=r.host();"program"==a.forumtype?c=c+"/#!/programme/"+a.contentid+"/channel/0":("channel"==a.forumtype||"channels"==a.forumtype)&&(c=c+"/#!/channel/"+a.contentid);var u=$(s.target),d="top center";if(u.attr("data-popover-position")&&(d=u.attr("data-popover-position")),!t.isUserLogged()){t.beforeaction.title="Login to Like",t.beforeaction.subtitle="Please login to Like";var h=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:Modernizr.mq("screen and (max-width:640px)")?"bottom left":"bottom center",at:Modernizr.mq("screen and (max-width:640px)")?"top left":"top center",adjust:{y:Modernizr.mq("screen and (max-width:640px)")?-15:-5}},style:{classes:"popover reminder-popover cside-popover like-popover"},events:{show:function(){},hide:function(){}},content:{text:'<div class="top left popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(t){var r=this;i(function(){r.set("content.text",n(t)(e)),i(function(){r.reposition()})}),e.actionObj={element:u,popconfig:p,success:function(){e.like(s,a,!0),u.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},p=h();return u.qtip(p).qtip("show"),!1}if(u.qtip("destroy"),"Like"==s.target.innerHTML){FB.ui({method:"stream.publish",link:c,user_message_prompt:"Post this to your wall?",picture:a.profileimage,name:a.forumtitle,caption:a.forumtype,description:a.feeddescription});var f="video"==a.forumtype?a.forumtypeid:0,m=0==f?a.forumtypeid:0;o.addRemoveLike({contenttype:a.forumtype,contentid:m,removelike:!0,videoid:f,userid:t.getUser().userid},function(e){return l?(location.reload(),!1):(e.response.responsestatus?(s.target.innerHTML="Liked!",a.likecount++):alert("Error sending request"),void 0)})}else{var f="video"==a.forumtype?a.forumtypeid:0,m=0==f?a.forumtypeid:0;o.addRemoveLike({contenttype:a.forumtype,contentid:m,removelike:!1,videoid:f,userid:t.getUser().userid},function(e){return l?(location.reload(),!1):(e.response.responsestatus?(s.target.innerHTML="Like",a.likecount--):alert("Error sending request"),void 0)})}}}]),woi.controller("Home_FBActivityController",["$rootScope","$scope","$timeout","$compile","$location","userAPI",function(e,t,i,n,r,o){function s(e){a.find(".item").removeClass("active").eq(e+1).addClass("active")}t.activities=[],t.currentSlide=0;var a=$(".fb-activity"),l=(a.find(".container"),a.find(".slider"));t.setWidthFb=function(){if(e.device.isMobile){var t=$("#FBwrapperLinkWidth").width()-30;$("#FBwrapperLinkWidth .slider > div").css("width",t+"px")}},t.slide=function(e){var i=e?t.currentSlide+1:t.currentSlide-1,n=l.find(".item").outerWidth();return i==t.activities.length||0>i?!1:(t.currentSlide=i,s(i),l.animate({left:-(i*n)+"px"},500),void 0)},t.like=function(s,a,l){$("body").focus();var c=r.host();"Program"==a.contenttype?c=c+"/#!/programme/"+a.contentid+"/channel/0":("Channel"==a.contenttype||"Channels"==a.contenttype)&&(c=c+"/#!/channel/"+a.contentid);var u=$(s.target),d="top center";if(u.attr("data-popover-position")&&(d=u.attr("data-popover-position")),!e.isUserLogged()){e.beforeaction.title="Login to Like",e.beforeaction.subtitle="Please login to Like";var h=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:"bottom center",at:"top center",adjust:{y:-5}},style:{classes:"popover reminder-popover cside-popover like-popover"},events:{show:function(){},hide:function(){}},content:{text:'<div class="top left popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(e){var r=this;i(function(){r.set("content.text",n(e)(t)),i(function(){r.reposition()})}),t.actionObj={element:u,popconfig:p,success:function(){t.like(s,a,!0),u.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},p=h();return u.qtip(p).qtip("show"),!1}if(u.qtip("destroy"),"Like"==s.target.innerHTML){FB.ui({method:"stream.publish",link:c,user_message_prompt:"Post this to your wall?",picture:a.imageurl,name:a.contentname,caption:a.contenttype,description:a.feeddescription});var f="video"==a.contenttype?a.contentid:0,m=0==f?a.contentid:0;o.addRemoveLike({contenttype:a.contenttype,contentid:m,removelike:!0,videoid:f,userid:e.getUser().userid},function(e){return l?(location.reload(),!1):(e.response.responsestatus?(s.target.innerHTML="Liked!",a.totallikes++):alert("Error sending request"),void 0)})}else{var f="video"==a.contenttype?a.contentid:0,m=0==f?a.contentid:0;o.addRemoveLike({contenttype:a.contenttype,contentid:m,removelike:!1,videoid:f,userid:e.getUser().userid},function(e){return l?(location.reload(),!1):(e.response.responsestatus?(s.target.innerHTML="Like",a.totallikes--):alert("Error sending request"),void 0)})}},o.facebookActivity({userid:e.getUser().userid},function(e){t.activities=e.getfacebookactivity.facebookactivitylist,i(function(){s(t.currentSlide)})}),t.showSlider=!0,t.viewStatus="View All",t.toggleSlider=function(){t.showSlider=!t.showSlider,t.viewStatus=1==t.showSlider?"View All":"Hide";var e=$(".fb-activity").find(".FBcontainerWrapper").first(),i=e.children("div").first();t.showSlider?(i.addClass("slider"),$(".FBwrapper").children("a").show(),e.addClass("container"),e.removeClass("containerBox")):(i.removeClass("slider"),$(".FBwrapper").children("a").hide(),e.removeClass("container"),e.addClass("containerBox"))},e.$on("layout:resetSocial",function(){t.showSlider=!1,t.toggleSlider()})}]),woi.controller("SocialSharingController",["$scope","$http","userAPI",function(e,t){e.fbLikeCount=0,e.tweetsCount=0,t({method:"JSONP",url:"https://graph.facebook.com/fql?q=SELECT like_count,total_count FROM link_stat WHERE url='http://www.facebook.com/whatsonindiachannelguide'",params:{callback:"JSON_CALLBACK"}}).success(function(t){e.fbLikeCount=t.data[0].like_count}).error(function(){}),t({method:"JSONP",url:"https://api.twitter.com/1/users/show/WhatsOnIndia.json",params:{callback:"JSON_CALLBACK"}}).success(function(t){e.twitterResponse=t,e.tweetsCount=t.followers_count}).error(function(){}),$("#fbButton").live("click",function(){FB.ui({method:"stream.publish",link:"http://www.WhatsOnIndia.com/",user_message_prompt:"post this to your wall?",redirect_uri:"http://www.WhatsOnIndia.com/"})}),$("#twitterButton").live("click",function(){var e="Hi guys, check out What's on India... ",t="http://WhatsOnIndia.com",i=140-(t.length+1);e.length>i&&(e=e.substr(0,i-3)+"...");var n="http://twitter.com/home?status="+encodeURIComponent(e+" "+t);window.open(n)}),$("#gplusButton").live("click",function(){var e="WhatsOnIndia.com",t="https://plus.google.com/share?url="+e;window.open(t)})}]),ProgrammeController.$inject=["$scope","$rootScope"],SearchController.$inject=["$scope"],TV_GuideController.$inject=["$scope"],woi.controller("VerificationController",["$scope","$rootScope","userAPI","$location","$routeParams","$filter",function(e,t,i,n,r,o){var s=o("loading"),a=$("#verifyspinner");s("show",{element:a}),t.$broadcast("handleResetEmit"),e.verificationcode=r.verificationcode,e.userid=r.userid,e.emailid=r.emailid,t.isUserLogged()?t.signOutUser():i.verifyUser({userid:e.userid,emailid:e.emailid,verificationcode:e.verificationcode},function(e){"true"==e.response.responsestatus?(alert("Thank You! Your account have been successfully verified."),n.path("/home")):(alert(e.response.message),n.path("/home"))})}]),woi.controller("WatchlistController",["$rootScope","$scope","userAPI","$location","$filter","$timeout","$http",function(e,t,i,n,r,o){t.watchlist=[],t.end=!1,t.watchlistPage=1,t.showHideButton=!0,t.editMode=!1,e.apiCalled=!1,e.editMode=!1,e.watchlistCount=0,t.isLoading;var s=r("loading"),a=function(e){return _.sortBy(e,function(e){return Date.parse(e.starttime)})},l=function(){var e=r("loading"),t=$(".watchlist-spinner"),i=$("span.mywatchlist"),n=$("#watchList"),o=i.text();console.log("imageLoadingIndicator"),console.log(o),i.text("MY WATCHLIST"),e("hide",{element:t}),n.removeClass("active")};t.fetchUserWatchlist=function(n){t.isLoading=!0,i.myWatchlist({userid:e.getUser().userid,pageno:n},function(i){if(t.isLoading=!0,_.isNull(i.watchlistdata))return 1==n&&(t.watchlist=[],t.watchlistCount=0),e.apiCalled||1!=n||(!_.isUndefined(e.watchlistClicked)&&e.watchlistClicked&&(e.$broadcast("watchlist::click"),l()),e.apiCalled=!0),!1;if(_.isUndefined(i.watchlistdata.watchlist))t.end=!0;else{var r=[],s=t.watchlist;r=_.isArray(i.watchlistdata.watchlist)?i.watchlistdata.watchlist:[i.watchlistdata.watchlist],1==n&&(t.watchlistCount=parseInt(r[0].totalcount)),0==t.watchlist.length||t.watchlist.length>0&&1==n?t.watchlist=r:_.each(a(r),function(e){_.some(s,function(t){return t.programmeid==e.programmeid})||t.watchlist.push(e)}),t.watchlistPage+=1,o(function(){e.apiCalled||1!=n||(!_.isUndefined(e.watchlistClicked)&&e.watchlistClicked&&(e.$broadcast("watchlist::click"),l()),e.apiCalled=!0)},1)}})},t.$on("watchlist::fetch",function(e,i){t.fetchUserWatchlist(i)}),t.$on("watchlist::add",function(i,r,o){t.addItemToWatchlist(r),t.syncFavRemState(r,o),"/Watchlist"==n.path()&&e.$broadcast("watchlistpage::add",r)}),t.$on("watchlist::remove",function(i,r,o){t.removeProgrammeFromWatchlist(r),!_.isUndefined(o)&&o&&("/Watchlist"==n.path()||"/Watchlistsocial"==n.path())&&e.$broadcast("watchlistPage::Programme::remove",r)}),t.$on("watchlist::FavRem::Remove",function(i,r,o){var s=!1;return _.isUndefined(o)||_.each(o,function(e){"1"==e.isreminder&&(s=!0)}),s?!1:(t.syncFavRemState(r,o),"/reminders"==n.path()?0==r.isreminder&&e.$broadcast("watchlistPage::Programme::remove",r.programmeid):"/favourites"==n.path()&&0==r.isfavorite&&e.$broadcast("watchlistPage::Programme::remove",r.programmeid),1!=r.iswatchlist&&0==r.isfavorite&&0==r.isreminder&&(e.$broadcast("watchlistPage::Programme::remove",r.programmeid),t.removeProgrammeFromWatchlist(r.programmeid)),void 0)}),t.syncFavRemState=function(e,i){_.map(t.watchlist,function(t){t.programmeid==e.programmeid&&(_.isUndefined(i)&&(t.isfavorite=e.isfavorite),t.isreminder=e.isreminder)})},t.removeProgrammeFromWatchlist=function(i){t.watchlist=_.reject(t.watchlist,function(e){return e.programmeid==i}),t.watchlistCount=parseInt(t.watchlistCount)-1,e.isUserLogged()&&0==t.watchlist.length&&$(".watchlist-excoll").is(":visible")&&"/Watchlist"!=n.path()&&($(".watchlist-excoll").slideUp(),$("#watchList").removeClass("watchlistactive"))},t.addItemToWatchlist=function(e){_.some(t.watchlist,function(t){return t.programmeid==e.programmeid})||(t.watchlist.push(e),t.watchlistCount=parseInt(t.watchlistCount)+1,t.watchlist=a(t.watchlist))},t.$watch(function(){return n.path()},function(){if("/Watchlist"==n.path()){if(!e.isUserLogged())return n.path("/home"),!1;$(".watchlist-excoll").hasClass("watchlist-mini")||$(".watchlist-excoll").addClass("watchlist-mini"),$(".watchlist-excoll").is(":visible")||$(".watchlist-excoll").show(),$("#watchlistSlider").is(":visible")&&$("#watchlistSlider").hide(),$(".view-more-watchlist").is(":visible")&&$(".view-more-watchlist").hide(),$("#watchList").hasClass("watchlistactive")||$("#watchList").addClass("watchlistactive"),t.showHideButton=!1,e.$emit("handleResetEmit")}else e.watchlistDeleted&&(t.end=!1,t.fetchUserWatchlist(1),e.watchlistDeleted=!1),$(".watchlist-excoll").is(":visible")&&($(".watchlist-excoll").hide(),$("#watchList").hasClass("watchlistactive")&&$("#watchList").removeClass("watchlistactive")),$("#watchlistSlider").is(":visible")||$("#watchlistSlider").show(),$(".watchlist-excoll").hasClass("watchlist-mini")&&$(".watchlist-excoll").removeClass("watchlist-mini"),$(".view-more-watchlist").is(":visible")||$(".view-more-watchlist").show(),t.showHideButton=!0,e.editMode=!1,t.editMode=!1;"/Watchlistinfo"==n.path()&&e.isUserLogged()&&n.path("/Watchlist")}),t.$watch(function(){return t.watchlistCount},function(){t.watchlistCount<0?t.watchlistCount=0:t.watchlistCount<t.watchlist.length&&(t.watchlistCount=t.watchlist.length),e.watchlistCount=t.watchlistCount,e.$broadcast("watchlist::changed")}),t.getWatchlistUrl=function(){return"#!/watchlist/"};var c=function(){e.isUserLogged()&&e.$emit("watchlist::fetch",t.watchlistPage)};c();var u=$(".watchlist_slider_list"),d=u.find(".mywatchlist_list"),h=$("body").width();t.currentSlide=3;var p=3;500>h?p=1:800>h&&(p=2),t.currentSlide=p,t.slide=function(i){var n=i?t.currentSlide+1:t.currentSlide-1,r=d.find(".list-item").outerWidth()+parseInt(d.find(".list-item:nth-child(2)").css("margin-left"));return n>t.watchlist.length||p>n?!1:(i&&n>=t.watchlist.length-2&&!t.end&&e.$emit("watchlist::fetch",t.watchlistPage),n==t.watchlist.length,t.currentSlide=n,500>h?d.animate({left:-((n-p)*r+10)+"px"},500):d.animate({left:-((n-p)*r)+"px"},500),void 0)},t.openEditMode=function(){"/Watchlist"==n.path()?(t.editMode=!t.editMode,e.$broadcast("toggleEditMode")):(t.editMode=!0,e.editMode=!0,n.path("/Watchlist"))},t.shareWatchlist=function(){"true"==e.getUser().SocialSharing?t.watchlist.length>0&&FB.login(function(e){e.authResponse?FB.api("/me",function(){var e="http://"+n.host()+"/#!",i=t.watchlist.slice(0,5),r="Watchout for my customized watchlist at Whats On : \n ";_.each(i,function(t,i){r+=i+1+". ",r+="<a href= '"+e+"/programme/"+t.programmeid+"/channel/"+t.channelid+"'>"+t.programmename+"</a>  on ",r+="<a href= '"+e+"/channel/"+t.channelid+"'> "+t.channelname+"</a> \n"});var o={subject:"My Watchlist on What's-On-India",message:r,privary:"EVERYONE"};FB.api("/me/notes","post",o,function(){})}):console.log("User cancelled login or did not fully authorize.")},{scope:"create_note"}):alert("Social Sharing is disabled. Please enable Social Sharing in Myaccounts to share the watchlist")},t.showVideoButton=function(e){return!_.isUndefined(e.videoid)},t.toggleFavorite=function(n,r,a){r.preventDefault(),r.stopPropagation();var l=$(r.currentTarget),c="top center";if(l.attr("data-popover-position")&&(c=l.attr("data-popover-position")),!e.isUserLogged()){e.beforeaction.title="Login to Favorite",e.beforeaction.subtitle="Please login to favorite";var u=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:c,at:"bottom center",adjust:{y:5}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){l.parent().parent(".thumb").addClass("active"),l.parent().parent(".minor-details").addClass("active"),l.addClass("active")},hide:function(){l.parent().parent(".thumb").removeClass("active"),l.parent().parent(".minor-details").removeClass("active"),l.removeClass("active")}},content:{text:'<div class="top left popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(e){var i=this;o(function(){i.set("content.text",$compile(e)(t)),o(function(){i.reposition()})}),t.actionObj={element:l,popconfig:d,success:function(){t.toggleFavorite(n,r,!0),l.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},d=u();return l.qtip(d).qtip("show"),!1}l.qtip("destroy");var h=JSON.stringify(n).toLowerCase(),p=JSON.parse(h);l.parent().parent(".thumb").addClass("active"),l.addClass("loading"),s("show",{element:l}),_.isUndefined(p.programmeid)&&(p.programmeid=p.programid),i.toggleFavoriteProgramme({like:"0"==p.isfavorite,programmeid:p.programmeid,userid:e.getUser().userid},function(e){return a?(location.reload(),!1):(l.removeClass("loading"),window.setTimeout(function(){l.parent().parent(".thumb").removeClass("active")},1500),s("hide",{element:l}),e.response.responsestatus?n.isfavorite="0"==n.isfavorite?"1":"0":alert(e.response.message),void 0)})},e.$on("watchlist::click",function(){e.watchlistClicked=!1,t.watchlist.length>0?($(".watchlist-excoll").slideDown(),$("#watchList").addClass("watchlistactive")):(n.path("/Watchlist"),t.$$phase||t.$apply())}),t.hideEditButton=function(){return 0==t.watchlistCount?(t.editMode&&(t.editMode=!1,e.$broadcast("toggleEditMode")),!0):!1},t.playVideo=function(t){e.playThisVideo=t.videourl,e.playThisVideoObj=t,_.isUndefined(e.playThisVideo)&&!_.isUndefined(t.videoUrl)&&(e.playThisVideo=t.videoUrl),e.playThisVideoObj.videourl=e.playThisVideo,n.path("/programme/"+t.programmeid+"/channel/"+t.channelid)}}]),woi.controller("WatchlistPageController",["$rootScope","$scope","$location","userAPI","$timeout",function(e,t,i,n,r){t.watchlistCount=e.watchlistCount,t.editMode=e.editMode,t.today=[],t.tomo=[],t.thisWeek=[],t.nextWeek=[],t.nextMonth=[],t.calendar=[],t.filterType="all",t.weekSelection=moment().day()<5?"thisWeek":"nextWeek",t.calendarIcon=moment().format("D"),t.displayNextMonth=!1,t.showHelper=!1,t.selectedDate=[],t.allComponents=["today","tomo","thisWeek","nextWeek","selectedDate","nextMonth"],t.show={today:!0},t.filterTypes={all:"",reminders:"isreminder",favourites:"isfavorite"},t.feedTab=_.isUndefined(e.feedTab)?"feed":e.feedTab,t.$watch(function(){return e.feedTab
},function(){t.feedTab=e.feedTab,t.populateWatchlistPage()}),t.$on("toggleEditMode",function(){t.editMode=!t.editMode}),t.$on("watchlist::changed",function(){t.watchlistCount=e.watchlistCount}),t.playVideo=function(t){return e.playThisVideo=t.videourl,e.playThisVideoObj=t,_.isUndefined(e.playThisVideo)&&!_.isUndefined(t.videoUrl)&&(e.playThisVideo=t.videoUrl),e.playThisVideoObj.videourl=e.playThisVideo,i.path("/programme/"+t.programmeid+"/channel/"+t.channelid),!1},t.showVideoButton=function(e){return!_.isUndefined(e.videoid)},t.hideMainContent=function(){return 0==t.watchlistCount&&"/Watchlist"==i.path()},t.showNoResult=function(e){return _.isEmpty(t[e])?!0:"all"==t.filterType?_.isEmpty(t[e]):!_.some(t[e],function(e){return 1==e[t.filterTypes[t.filterType]]})},t.getWatchlistByDate=function(i,r,o){i+=" 00:00",r+=" 23:59";var s={userid:e.getUser().userid,fromdatetime:i,todatetime:r};n[t.getAPIMethod()](s,t.callbackForAPIs(o)[t.getAPIMethod()])},t.getAPIMethod=function(){if("/Watchlist"==i.path())return"getWatchlistByDate";if("/reminders"==i.path()||"/favourites"==i.path()||"/Watchlistsocial"==i.path())switch(t.feedTab){case"watchlist":return"getWatchlistByDate";case"reminder":return"getReminderByDate";case"favourite":return"getFavouriteByDate";default:return"getWatchlistByDate"}},t.callbackForAPIs=function(e){return{getWatchlistByDate:function(t){return _.isNull(t.watchlistdata)?(e([]),!1):(_.isUndefined(t.watchlistdata.watchlist)?e([]):e(t.watchlistdata.watchlist),void 0)},getReminderByDate:function(t){return _.isNull(t.getalluserreminders)?(e([]),!1):(_.isUndefined(t.getalluserreminders.alluserreminderslist)?e([]):e(t.getalluserreminders.alluserreminderslist),void 0)},getFavouriteByDate:function(t){return _.isNull(t.getfavoriteprogrammes)?(e([]),!1):(_.isUndefined(t.getfavoriteprogrammes.favoriteprogrammeslist)?e([]):e(t.getfavoriteprogrammes.favoriteprogrammeslist),void 0)}}};var o=function(e){return function(i){_.isArray(i)?t[e]=i:(t[e]=[],t[e].push(i))}};t.fetchWatchlistForToday=function(){t.getWatchlistByDate(moment().format("YYYY-MM-DD"),moment().format("YYYY-MM-DD"),o("today"))},t.fetchWatchlistForTomorrow=function(){t.getWatchlistByDate(moment().add("days",1).format("YYYY-MM-DD"),moment().add("days",1).format("YYYY-MM-DD"),o("tomo"))},t.fetchWatchlistForThisWeek=function(){t.getWatchlistByDate(moment().add("days",2).format("YYYY-MM-DD"),moment().add("days",6-moment().day()).format("YYYY-MM-DD"),o("thisWeek"))},t.fetchWatchlistForNextWeek=function(){t.getWatchlistByDate(moment().day(7).format("YYYY-MM-DD"),moment().day(13).format("YYYY-MM-DD"),o("nextWeek"))},t.fetchWatchlistForNextMonth=function(){t.getWatchlistByDate(moment().month(moment().month()+1).startOf("month").format("YYYY-MM-DD"),moment().month(moment().month()+1).endOf("month").format("YYYY-MM-DD"),o("nextMonth"))},t.populateWatchlistPage=function(){t.fetchWatchlistForToday(),t.fetchWatchlistForTomorrow(),moment().format("d")+1,moment().day()>=6?t.thisWeek=[]:t.fetchWatchlistForThisWeek(),t.fetchWatchlistForNextWeek()},"/Watchlist"==i.path()&&t.populateWatchlistPage();var s=function(){return{thisMonth:a(moment().month()),nextMonth:a(moment().add("month",1).month())}},a=function(e){var t=[];return moment().month(e).startOf("month"),_.each(_.range(moment().month(e).startOf("month").day()),function(){t.push("")}),_.each(_.range(1,moment().month(e).startOf("month").daysInMonth()+1),function(i){var n={day_value:i,day_name:moment().month(e).startOf("month").add("days",i-1).format("ddd").toUpperCase(),api_date:moment().month(e).startOf("month").add("days",i-1).format("YYYY-MM-DD"),clickable:e>moment().month()?!0:i>=moment().format("D")};t.push(n)}),_.each(_.range(7-(moment().month(e).startOf("month").endOf("month").day()+1)),function(){t.push("")}),t};t.calendar=s(),t.canItBeShown=function(e){var i=!1;switch(t.filterType){case"reminders":1==e.isreminder&&(i=!0);break;case"favourites":1==e.isfavorite&&(i=!0);break;default:i=!0}return i},t.changeWeek=function(e){t.weekSelection=e,t.displayDate()},t.displayDate=function(){switch(t.weekSelection){case"thisWeek":t.calendarDate=moment().day()>=5?moment().format("Do MMM"):moment().add("days",2).format("Do MMM"),moment().day(6).format("Do MMM")!=moment().add("days",2).format("Do MMM")&&(t.calendarDate+=" to ",t.calendarDate+=moment().day(6).format("Do MMM"));break;case"nextWeek":t.calendarDate=moment().day(7).format("Do MMM"),t.calendarDate+=" to ",t.calendarDate+=moment().day(13).format("Do MMM")}},t.displayDate(),t.isItFriday=function(){return 5==moment().day()||6==moment().day()},t.hideHelper=function(){t.showHelper=!1},r(function(){t.watchlistCount>0&&(t.showHelper=!0)}),setTimeout(function(){t.showHelper&&(t.hideHelper(),t.$apply())},3e4),t.$on("watchlistPage::remove",function(i,r){var o=r.programmeid,s=r.container;console.log("remove"+o),t[s]=_.reject(t[s],function(e){return e.programmeid==o});var a,l,c;t.$apply(),_.isUndefined(r.video)||""==r.video||_.isNull(r.video)?(a="program",l=o,c=0):(a="video",l=o,c=r.video),n.toggleWatchlist({contenttype:a,contentid:o,videoid:c,watchliststatus:!1},function(){}),e.$broadcast("watchlist::remove",o)}),t.$on("watchlistPage::Programme::remove",function(e,i){console.log(i),_.each(t.allComponents,function(e){t[e]=_.reject(t[e],function(e){return e.programmeid==i})})}),t.showNextMonth=function(){t.fetchWatchlistForNextMonth(),t.displayNextMonth=!0},t.changeViewForDate=function(e,i){return i?(t.selectedDate=[],t.weekSelection="",t.getWatchlistByDate(e,e,o("selectedDate")),t.calendarDate=moment(e,"YYYY-MM-DD").format("Do MMM"),$("div.qtip:visible").qtip("hide"),void 0):!1};var l=function(e,i){_.some(t[e],function(e){return e.programmeid==i.programmeid})||t[e].push(i)};t.$on("watchlistpage::add",function(e,i){var n=moment(i.starttime),r=n.format("D")-moment().format("D");moment().format("M")==n.format("M")?0==r?l("today",i):1==r?l("tomo",i):n.format("X")<=moment().day(6).endOf("day").format("X")?(console.log(n.format("X")),console.log(moment().day(6).endOf("day").format("X")),l("thisWeek",i)):n.format("X")>=moment().day(7).startOf("day").format("X")&&n.format("X")<=moment().day(13).endOf("day").format("X")?l("nextWeek",i):_.isEmpty(t.selectedDate)||t.calendarDate!=n.format("Do MMM")||l("selectedDate",i):1==n.format("M")-moment().format("M")&&l("nextMonth",i)}),t.apiCalled=e.apiCalled,t.$watch(function(){return e.apiCalled},function(){t.apiCalled=e.apiCalled}),t.initialLoad=function(){return t.watchlistCount>0?!1:t.apiCalled||0!=t.watchlistCount?!0:!1},t.changeFeedTab=function(e){i.path("/"+e)},t.nextmonth=function(){$(".thismonth").hide(),$(".nextmonth").show()},t.prevmonth=function(){$(".thismonth").show(),$(".nextmonth").hide()}}]),woi.directive("accountLocationAutocomplete",["$filter",function(){return{restrict:"A",link:function(e,t){var i=t.find(".location-input");i.bind("keyup",function(){console.log("api call"),e.triggerAutoComplete(i.val(),function(t){e.autoComplete.data=t})});var n=[],r=[];if(Modernizr.mq("screen and (max-device-width: 640px)")){var o={width:$("body").width()-30,position:"absolute",right:0,"z-index":5,"background-position":"5px 5px","background-color":"#fff"},s={width:t.width(),position:"relative",right:"auto","z-index":1,"background-position":t.css("background-position"),"background-color":"transparent"};t.bind("focus",function(){t.css(o),$(".main-nav ul").css("visibility","hidden")}).bind("blur",function(){t.css(s),$(".main-nav ul").css("visibility","visible")})}i.typeahead({items:14,source:function(t,i){$.each(e.autoComplete.data,function(e,t){r[t.cityname]=t,n.push(t.cityname),n=_.uniq(n)}),i(n)},updater:function(t){var n=r[t].cityname;return i.attr("value",n),e.locationString=n,e.$apply(),console.log("returning user location",n),n},matcher:function(e){return-1!=e.toLowerCase().indexOf(this.query.trim().toLowerCase())?!0:void 0},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<span class='search-category'></span><strong>$1</strong>")}})}}}]),woi.directive("accountTvOperatorPopover",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(i,n){n.click(function(){$("input[type=text]").blur(),i.populateOperators()}),n.qtip({show:"click",hide:{event:"unfocus"},position:{my:"top right",at:"bottom right",adjust:{x:-5,y:5}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/tv-guide/accountstvoperator",type:"GET",data:{},success:function(n){var r=this;t(function(){r.set("content.text",e(n)(i)),t(function(){r.reposition()})})}}},style:{classes:"popover rside-popover tvoperator-popover"},events:{show:function(){n.removeClass("active").addClass("active")},hide:function(){n.removeClass("active")}}})}}}]),woi.directive("accountLanguagePopover",["$compile","$timeout","$rootScope",function(e,t,i){return{restrict:"A",link:function(n,r,o){var s=function(){return i.isUserLogged()?"/languages/accounts":"/user/beforeaction"},a=s(),l=function(){return{show:!1,hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:"top right",at:"bottom right",adjust:{x:-5,y:5}},style:{classes:"popover rside-popover language-popover"},events:{show:function(){r.parent().parent(".thumb").addClass("active"),r.addClass("active")},hide:function(){r.parent().parent(".thumb").removeClass("active"),r.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:a,type:"GET",data:{}}}}},c=l(),u=function(o){var a=this;t(function(){a.set("content.text",e(o)(n)),t(function(){a.reposition()})}),i.beforeaction.title="Login to Set Language",i.beforeaction.subtitle="Please login to set your languages",n.$apply(function(){n.reminderData=n.programData,n.$reminder=r,n.actionObj={element:r,popconfig:c,success:function(){var e=c;e.content.ajax.url=s(),r.qtip(e).qtip("show")},failure:function(){alert("oopss")}}})};c.content.ajax.success=u,c.events.hide=function(){r.removeClass("active"),r.parent().parent(".thumb").removeClass("active");var e=l();e.content.ajax.success=u,r.qtip(e),r.qtip("show","click")},r.click(function(e){if(n.edit=!0,_.isUndefined(o.modeValue)||(n.edit=!1),n.$apply(),$("#selectLanguage").hasClass("active")&&($("div.qtip:visible").qtip("hide"),e.preventDefault()),i.isUserLogged()){var t=l();t.content.ajax.success=u,t.content.ajax.url=s(),r.qtip("disable").qtip(t).qtip("enable").qtip("show")}}),r.qtip(c)}}}]),woi.directive("actorAutocomplete",["$filter","$location","$route",function(e,t,i){return{restrict:"A",link:function(e,n){n.bind("keyup",function(){e.triggerAutoComplete(n.val(),function(t){e.autoComplete.data=t})}),n.bind("keypress",function(r){if(13==r.charCode){if(""==n.val())return alert("Please enter the keyword"),!1;var o=n.val().match(/[-$%^&*()_+|~=`{}\[\];<>.\/]/gi);return null!=o&&o.length>0?(alert("Invalid search text"),n.select().focus()):(t.path("/search/"+n.val()+"/movie"),i.reload(),e.$apply()),!1}});var r=[],o=[];if(Modernizr.mq("screen and (max-device-width: 640px)")){var s={width:$("body").width()-30,position:"absolute",right:0,"z-index":5,"background-position":"5px 5px","background-color":"#fff"},a={width:n.width(),position:"relative",right:"auto","z-index":1,"background-position":n.css("background-position"),"background-color":"transparent"};n.bind("focus",function(){n.css(s),$(".main-nav ul").css("visibility","hidden")}).bind("blur",function(){n.css(a),$(".main-nav ul").css("visibility","visible")})}n.typeahead({items:50,source:function(t,i){$.each(e.autoComplete.data,function(e,t){var i=t.autoprompt,n=t.castprogramecount,s=i+" ("+n+")";o[s]=t,r.push(s),r=_.uniq(r)}),i(r)},updater:function(r){if(angular.isUndefined(r))return n.attr("value",n.val()),""==n.val()?(alert("Please enter the keyword"),!1):(t.path("/search/"+n.val()+"/movie"),i.reload(),e.$apply(),r);var s=o[r].autoprompt;return n.attr("value",s),t.path("/search/"+s+"/movie"),i.reload(),e.$apply(),s},matcher:function(e){return-1!=e.toLowerCase().indexOf(this.query.trim().toLowerCase())?!0:void 0},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<span class='search-category'></span><strong>$1</strong>")}})}}}]),woi.directive("allDayPopover",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(i,n){n.click(function(){i.update()}),n.qtip({show:"click",hide:{event:"unfocus"},position:{my:"top right",at:"bottom right",adjust:{x:-5,y:5}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/movies/popover",type:"GET",data:{},success:function(n){var r=this;t(function(){r.set("content.text",e(n)(i)),t(function(){r.reposition()})})}}},style:{classes:"popover rside-popover tvoperator-popover"},events:{show:function(){n.removeClass("active").addClass("active")},hide:function(){n.removeClass("active")}}})}}}]),woi.directive("beforeAction",["$filter","$rootScope",function(e,t){return{restrict:"A",link:function(e,i){i.find(".action-title").html(t.beforeaction.title),i.find(".action-subtitle").html(t.beforeaction.subtitle)}}}]),woi.directive("channelAutocomplete",["$filter","$location","$route",function(){return{restrict:"A",link:function(e,t){t.bind("keyup",function(){e.triggerAutoComplete(t.val(),function(t){e.autoComplete.data=t})}),t.bind("keypress",function(i){return 13==i.charCode||13==i.keyCode?(e.callFilter(t.val()),!1):void 0});var i=[],n=[];if(Modernizr.mq("screen and (max-device-width: 640px)")){var r={width:$("body").width()-30,position:"absolute",right:0,"z-index":5,"background-position":t.css("background-position"),"background-color":"#fff"},o={width:t.width(),position:"relative",right:"auto","z-index":1,"background-position":t.css("background-position"),"background-color":"transparent"};t.bind("focus",function(){t.css(r),$(".main-nav ul").css("visibility","hidden")}).bind("blur",function(){t.css(o),$(".main-nav ul").css("visibility","visible")})}t.typeahead({items:10,source:function(t,r){$.each(e.autoComplete.data,function(e,t){n[t.channelname]=t,i.push(t.channelname),i=_.uniq(i)}),r(i)},updater:function(i){if(angular.isUndefined(i))return t.attr("value",t.val()),e.callFilter(t.val()),i;var r=n[i].channelname;return t.attr("value",r),e.$apply(),e.callFilter(r),r},matcher:function(e){return-1!=e.toLowerCase().indexOf(this.query.trim().toLowerCase())?!0:void 0},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<span class='search-category'></span><strong>$1</strong>")}}),e.placeholderReset=function(){t.val("")}}}}]),woi.directive("channelToggleFilter",function(){return{restrict:"A",link:function(e,t){$(t).live("click",function(){$(".channel-detail-content");var t=$(".sideList"),i=$(".detailsWrapper"),n=$(".phone-filters .right-wrapper"),r=$(".channel-inner-wrapper");t.outerWidth(!0);var o=i.outerWidth(!0),s=n.find(".title").outerWidth(!0),a=n.outerWidth(!0);"on"==e.phoneSidebar?(i.show(),r.animate({marginLeft:0},500,function(){r.toggleClass("mobileView"),r.css("marginLeft",""),i.css("display","")}),console.log("before animate"),n.animate({left:o-a},500),e.toggleSidebar("off"),e.$apply()):(e.toggleSidebar("on"),e.$apply(),r.animate({marginLeft:-o},500,function(){r.toggleClass("mobileView"),r.css("marginLeft","")}),n.animate({left:-s},500))})}}}),woi.directive("contextualInfo",["$rootScope","$timeout","userAPI",function(e,t,i){return{restrict:"A",link:function(n,r){var o=r.find(".favTrigger > a").hide(),s=r.find(".favPrompt").hide(),a=0,l=o.length-1;n.showTips=function(){angular.isUndefined(e.showTips)?i.getContextFlag({},function(t){return t&&t.displayhelp?(e.showTips="true"==t.displayhelp?!0:!1,"true"==t.displayhelp&&(n.openPrompt(),$(r).slideDown()),void 0):!1}):e.showTips&&(n.openPrompt(),$(r).slideDown())},n.openPrompt=function(){$(o[a]).fadeIn(),$(s[a]).fadeIn()},n.closePrompt=function(){$(o[a]).fadeOut(),$(s[a]).fadeOut(function(){l>a?(a++,n.openPrompt()):$(r).slideUp().fadeOut()})},t(function(){n.showTips()})}}}]),woi.directive("cssBgImage",function(){return function(e,t,i){i.$observe("cssBgImage",function(e){t.css({"background-image":'url("'+e+'")',"background-repeat":"no-repeat","background-position":"center center","background-color":"transparent"})})}}),woi.directive("cssBgImageFallback",function(){return function(e,t,i){e.$watch(function(){return i},function(){var e=i.videoThumbnail?i.videoThumbnail:i.imageFilepath,n=0;("1"==i.isYoutube||"true"==i.isYoutube)&&(n=1),n?injectYT(t,i.videoId):t.css("background-image",'url("'+e+'")'),t.css({"background-repeat":"no-repeat","background-color":"transparent","background-size":"cover"})})}}),woi.directive("backgroundImageFallback",function(){return function(e,t,i){function n(){var e=i.videoThumbnail?i.videoThumbnail:i.imageFilepath;t.css({"background-image":"url('"+e+"')","background-repeat":"no-repeat","background-color":"transparent","background-size":"cover"})}i.$observe("videoThumbnail",function(){n()}),i.$observe("imageFilepath",function(){n()})}}),woi.directive("customAutocomplete",["$rootScope","autoAPI",function(e,t){return{restrict:"A",link:function(i,n,r){var o,s,a=300,l="",c=3;i.APILive=!1,i.selectedValues={},n.on("keyup",function(n){if(!r.autoSrc){var s;switch(e.displayedQuestion.questiontype){case"3":case"5":s=e.displayedQuestion.defaulttext[0];break;case"4":s=e.displayedQuestion.defaulttext[1]}return i.selectedValues={},i.selectedValues[s]=n.target.value,i.updateAnswer(),!1}var u=n.target.value,d=r.autoSrc.replace("{ac_key}",u);return i.APILive=!0,i.ac_loading=!1,i.selectedValues={},i.autocompleteText=[],u.length<c&&i.$apply(function(){i.closeAutocomplete()}),l===u||u.length<c?!1:(l=u,clearTimeout(o),o=setTimeout(function(){i.$apply(function(){i.ac_loading=!0;for(var e=d.split("?")[0].split("/").pop(),n=d.split("?")[1].split("&"),r=n.length,o={call:e},s=0;r>s;s++){var a=n[s].split("="),l=a[0],c=a[1];o[l]=c}t.customAutocomplete(o,function(e){if(i.APILive=!1,i.ac_loading=!1,!e||!e.response)return!1;for(var t=e.response.docs,n=t.length,r=0;n>r;r++)e.response.docs[r].selected=!1,e.response.docs[r].active=!1,e.response.docs[r].index=r;i.autocompleteText=addData(e.response.docs),i.openAutocomplete()})})},a),void 0)}),i.selectValue=function(t){"true"==e.displayedQuestion.multipleselection?(t.selected?i.selectedValues[t.displayvalue]&&delete i.selectedValues[t.displayvalue]:i.selectedValues[t.displayvalue]=t.displaykey,t.selected=!t.selected):(i.closeAutocomplete(),i.selectedValues={},i.selectedValues[t.displayvalue]=t.displaykey),i.updateAnswer()};var u=function(e){for(var t=Object.keys(e),i=t.length,n=[],r=0;i>r;r++)n.push(e[t[r]]);return n};i.updateAnswer=function(){var t=Object.keys(i.selectedValues),r=u(i.selectedValues);switch("true"!=e.displayedQuestion.multipleselection?(e.displayedQuestion.ac_answer=r[0],e.displayedQuestion.ac_placeholder=t[0],e.displayedQuestion.answer=r[0]):(e.displayedQuestion.ac_answer=r.join("|"),e.displayedQuestion.ac_placeholder=t.join(", "),e.displayedQuestion.answer=r.join("|")),e.displayedQuestion.dd_answer?"4"==e.displayedQuestion.questiontype?e.displayedQuestion.answer=e.displayedQuestion.dd_answer+"#"+e.displayedQuestion.ac_answer:"5"==e.displayedQuestion.questiontype&&(e.displayedQuestion.answer=e.displayedQuestion.ac_answer+"#"+e.displayedQuestion.dd_answer):e.displayedQuestion.answer=e.displayedQuestion.ac_answer,e.displayedQuestion.questiontype){case"3":case"5":e.displayedQuestion.placeholder[0]=e.displayedQuestion.ac_placeholder?e.displayedQuestion.ac_placeholder:e.displayedQuestion.defaulttext[0];break;case"4":e.displayedQuestion.placeholder[1]=e.displayedQuestion.ac_placeholder?e.displayedQuestion.ac_placeholder:e.displayedQuestion.defaulttext[1]}n.val("")},i.openAutocomplete=function(){i.ac_open=!0,i.selectedValues={},i.attachListeners()},i.closeAutocomplete=function(){document.removeEventListener("click",i.closingListener,!1),n.get(0).parentNode.removeEventListener("click",i.stopProp,!1),i.ac_open=!1},i.attachListeners=function(){document.addEventListener("click",i.closingListener,!1),"true"==e.displayedQuestion.multipleselection&&n.get(0).parentNode.addEventListener("click",i.stopProp,!1)},i.closingListener=function(){i.$apply(function(){i.closeAutocomplete()})},i.keyListener=function(e){i.$apply(function(){switch(e.which){case 13:i.closeAutocomplete();break;case 27:i.closeAutocomplete();break;case 32:break;case 38:i.selectPrevious();break;case 40:i.selectNext()}})},i.selectNext=function(){!s||s>=i.autocompleteText.length-1?(console.log("activeSelection is undefined or overflowing. Setting as 0.",s,i.autocompleteText.length),s=0):(console.log("Incrementing activeSelection"),s++),console.log("Setting index",s," as active of",i.autocompleteText,i.autocompleteText[s]),i.autocompleteText[s].active=!0},i.stopProp=function(e){e.stopPropagation()}}}}]),woi.directive("customDropdown",["$rootScope","userAPI",function(e,t){return{restrict:"A",link:function(i,n,r){i.APILive=!1,i.dd_loading=!0,i.dd_selectedValues={},r.$observe("contentSrc",function(n){if(!n)return!1;i.APILive=!0,i.dd_loading=!0;for(var r=n.split("?")[0].split("/").pop(),o=n.split("?")[1].split("&"),s=o.length,a={call:r},l=0;s>l;l++){var c=o[l].split("="),u=c.shift(),d=c.join("=");u&&d&&(a[u]=d)}t.customAPI(a,function(t){if(i.APILive=!1,i.dd_loading=!1,!t)return!1;var n=Object.keys(t);if(n.length>0){var r=t[n[0]];n=Object.keys(r),n.length>0&&(r=r[n[0]],n=r)}e.displayedQuestion.dropdownValues=addData(n)})}),i.toggleDropdown=function(e){e.preventDefault(),e.stopPropagation(),i.dd_open?i.closeDropdown():i.openDropdown()},i.openDropdown=function(){i.dd_open=!0,i.dd_attachListeners()},i.dd_selectValue=function(t){"true"==e.displayedQuestion.multipleselection?(t.selected?i.dd_selectedValues[t.displayvalue]&&delete i.dd_selectedValues[t.displayvalue]:i.dd_selectedValues[t.displayvalue]=t.displaykey,t.selected=!t.selected):(i.closeDropdown(),i.dd_selectedValues={},i.dd_selectedValues[t.displayvalue]=t.displaykey),i.dd_updateAnswer()};var o=function(e){for(var t=Object.keys(e),i=t.length,n=[],r=0;i>r;r++)n.push(e[t[r]]);return n};i.dd_updateAnswer=function(){var t=Object.keys(i.dd_selectedValues),r=o(i.dd_selectedValues);switch("true"!=e.displayedQuestion.multipleselection?(e.displayedQuestion.dd_answer=r[0],e.displayedQuestion.dd_placeholder=t[0],e.displayedQuestion.answer=r[0]):(e.displayedQuestion.dd_answer=r.join("|"),e.displayedQuestion.dd_placeholder=t.join(", "),e.displayedQuestion.answer=r.join("|")),e.displayedQuestion.ac_answer?"5"==e.displayedQuestion.questiontype?e.displayedQuestion.answer=e.displayedQuestion.ac_answer+"#"+e.displayedQuestion.dd_answer:"4"==e.displayedQuestion.questiontype&&(e.displayedQuestion.answer=e.displayedQuestion.dd_answer+"#"+e.displayedQuestion.ac_answer):e.displayedQuestion.answer=e.displayedQuestion.dd_answer,e.displayedQuestion.questiontype){case"2":case"4":e.displayedQuestion.placeholder[0]=e.displayedQuestion.dd_placeholder?e.displayedQuestion.dd_placeholder:e.displayedQuestion.defaulttext[0];break;case"5":e.displayedQuestion.placeholder[1]=e.displayedQuestion.dd_placeholder?e.displayedQuestion.dd_placeholder:e.displayedQuestion.defaulttext[1]}n.val("")},i.dd_attachListeners=function(){document.addEventListener("click",i.dd_closingListener,!1),"true"==e.displayedQuestion.multipleselection&&n.get(0).parentNode.addEventListener("click",i.stopProp,!1)},i.dd_closingListener=function(){i.$apply(function(){i.closeDropdown()})},i.closeDropdown=function(){i.dd_open=!1,document.removeEventListener("click",i.dd_closingListener,!1),n.get(0).parentNode.removeEventListener("click",i.stopProp,!1)}}}}]),woi.directive("deleteProgram",["$rootScope",function(e){return{restrict:"A",link:function(t,i,n){$(i).live("click",function(){var i=t.$eval(n.deleteProgram),r=[];r.push(i.programmeid),r.push(i.container),e.watchlistDeleted=!0,e.$broadcast("watchlistPage::remove",t.$eval(n.deleteProgram))})}}}]),woi.directive("discussionFilterPopover",["$compile","$timeout","$rootScope",function(e,t,i){return{restrict:"A",link:function(n,r){var o=function(){return i.isUserLogged()?"/languages":"/user/beforeaction"},s=o(),a=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus click"},position:{my:"top right",at:"bottom right",adjust:{x:-5,y:5}},style:{classes:"popover rside-popover language-popover"},events:{show:function(){r.parent().parent(".thumb").addClass("active"),r.addClass("active")},hide:function(){r.parent().parent(".thumb").removeClass("active"),r.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:s,type:"GET",data:{}}}}},l=a(),c=function(s){var a=this;t(function(){a.set("content.text",e(s)(n)),t(function(){a.reposition()})}),i.beforeaction.title="Login to Set Language",i.beforeaction.subtitle="Please login to set your languages",n.$apply(function(){n.reminderData=n.programData,n.$reminder=r,n.actionObj={element:r,popconfig:l,success:function(){var e=l;e.content.ajax.url=o(),r.qtip(e).qtip("show")},failure:function(){alert("oopss")}}})};l.content.ajax.success=c,l.events.hide=function(){r.removeClass("active"),r.parent().parent(".thumb").removeClass("active");var e=a();e.content.ajax.success=c,r.qtip(e)},r.click(function(e){if($("#selectLanguage").hasClass("active")&&($("div.qtip:visible").qtip("hide"),e.preventDefault()),i.isUserLogged()){var t=a();t.content.ajax.success=c,t.content.ajax.url=o(),r.qtip("disable").qtip(t).qtip("enable").qtip("show")}}),r.qtip(l)}}}]),woi.directive("dropdownPopover",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(i,n){n.click(function(){i.constructObject()}),n.qtip({show:"click",hide:{event:"unfocus"},position:{my:"top right",at:"bottom right",adjust:{x:-5,y:5}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/pop-up/show",type:"GET",data:{},success:function(n){var r=this;t(function(){r.set("content.text",e(n)(i)),t(function(){r.reposition()})})}}},style:{classes:"popover rside-popover tvoperator-popover"},events:{show:function(){n.removeClass("active").addClass("active")},hide:function(){n.removeClass("active")}}})}}}]),woi.directive("dropdownPopoverRating",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(i,n){n.click(function(){i.constructObjectRating()}),n.qtip({show:"click",hide:{event:"unfocus"},position:{my:"top left",at:"bottom left",adjust:{x:5,y:5}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/pop-up/showRating",type:"GET",data:{},success:function(n){var r=this;t(function(){r.set("content.text",e(n)(i)),t(function(){r.reposition()})})}}},style:{classes:"popover lside-popover tvoperator-popover"},events:{show:function(){n.removeClass("active").addClass("active")},hide:function(){n.removeClass("active")}}})}}}]),woi.directive("dropdownPopoverGenre",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(i,n){n.click(function(){i.constructObject()}),n.qtip({show:"click",hide:{event:"unfocus"},position:{my:"top right",at:"bottom right",adjust:{x:-5,y:5}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/pop-up/genre",type:"GET",data:{},success:function(n){var r=this;t(function(){r.set("content.text",e(n)(i)),t(function(){r.reposition()})})}}},style:{classes:"popover rside-popover tvoperator-popover"},events:{show:function(){n.removeClass("active").addClass("active")},hide:function(){n.removeClass("active")}}})}}}]),woi.directive("dropdownReminderPopover",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(i,n){n.click(function(){i.constructObject()}),n.qtip({show:"click",hide:{event:"unfocus"},position:{my:"top right",at:"bottom right",adjust:{x:-5,y:5}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/pop-up/reminder",type:"GET",data:{},success:function(n){var r=this;t(function(){r.set("content.text",e(n)(i)),t(function(){r.reposition()})})}}},style:{classes:"popover rside-popover tvoperator-popover"},events:{show:function(){n.removeClass("active").addClass("active")},hide:function(){n.removeClass("active")}}})}}}]),woi.directive("dropdownPopoverChannel",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(i,n){n.click(function(){i.constructObject()}),n.qtip({show:"click",hide:{event:"unfocus"},position:{my:"top right",at:"bottom right",adjust:{x:-5,y:5}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/pop-up/showChannelGenre",type:"GET",data:{},success:function(n){var r=this;t(function(){r.set("content.text",e(n)(i)),t(function(){r.reposition()})})}}},style:{classes:"popover rside-popover tvoperator-popover"},events:{show:function(){n.removeClass("active").addClass("active")},hide:function(){n.removeClass("active")}}})}}}]),woi.directive("fbActivityWidthSetter",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(e,i,n){e.$last===!0&&t(function(){e.setWidthFb(n.fbActivityWidthSetter)})}}}]),woi.directive("fbLike",["$filter","$rootScope",function(){return{restrict:"A",link:function(e,t,i){i.$observe("fbLike",function(e){t.fbjlike({appID:"135772246470432",siteTitle:"WOI Facebook.",href:e,onlike:function(){alert("like")},onunlike:function(){alert("un-like")},lang:"en_US"})})}}}]),woi.directive("featuredVideoPlayer",["$compile","$location",function(e,t){return{restrict:"A",link:function(e,i){var n=e.v,r=n.videourl?!0:!1;e.showVideo=function(){var e="featured-"+n.programmeid+(new Date).getTime(),t=-1!=n.videourl.indexOf("youtu");if(t){if($("#"+e).length)return!1;var r=n.videourl.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);i.find(".player").html('<iframe id="'+e+'" width="580" height="349" src="http://www.youtube.com/embed/'+r[1]+'?enablejsapi=1&wmode=opaque&autoplay=1&rel=0&modestbranding=1&showinfo=0" frameborder="0" allowfullscreen style="backgground-color=\'#000\'"></iframe>')}else{if(i.find(".player").children("video").hasClass("video-js"))return _V_(e).play(),!1;var o=$("<video>").attr({id:e,width:580,height:300}).addClass("video-js vjs-default-skin"),s=$("<source></source>").attr("src",n.videourl).attr("type","video/mp4");o.append(s),i.find(".player").append(o),_V_(e,{controls:!0}),_V_(e).play()}},e.gotoDetail=function(){t.path("/programme/"+n.programmeid+"/channel/"+n.channelid)},i.find(".player").click(function(){r?i.find(".play").first().is(":visible")&&$(i).find(".play").trigger("click"):e.gotoDetail()}),e.v.videourl?$(i).find(".play").css({display:"block ","z-index":"2000000"}).click(function(){$(i).find(".play").hide(),r?e.showVideo():e.gotoDetail()}):$(i).find(".play").css({display:"none"})}}}]),woi.directive("genrePopover",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(i,n,r){n.qtip({show:!1,hide:{event:"unfocus"},position:{my:"top right",at:"bottom right",adjust:{x:-5,y:5}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/genre",type:"GET",data:{},success:function(n){var r=this;t(function(){r.set("content.text",e(n)(i)),t(function(){r.reposition()})})}}},style:{classes:"popover rside-popover tvoperator-popover"},events:{show:function(){n.removeClass("active").addClass("active")},hide:function(){n.removeClass("active")}}}),n.click(function(){i.genreEdit=!0,_.isUndefined(r.modeValue)||(i.genreEdit=!1),i.$apply(),i.constructObject()})}}}]),woi.directive("headerLocation",["$filter",function(){return{restrict:"A",link:function(e,t){var i=t.find(".location-string"),n=t.find(".location-input"),r=t.find(".location-change");r.bind("click",function(){i.hide(),n.css("display","inline-block").select().focus()}),n.bind("keyup",function(){e.triggerAutoComplete(n.val(),function(t){e.autoComplete.data=t})});var o=[],s=[];if(Modernizr.mq("screen and (max-device-width: 640px)")){var a={width:$("body").width()-30,position:"absolute",right:0,"z-index":5,"background-position":"5px 5px","background-color":"#fff"},l={width:t.width(),position:"relative",right:"auto","z-index":1,"background-position":t.css("background-position"),"background-color":"transparent"};t.bind("focus",function(){t.css(a),$(".main-nav ul").css("visibility","hidden")}).bind("blur",function(){t.css(l),$(".main-nav ul").css("visibility","visible")})}n.typeahead({items:14,source:function(t,i){$.each(e.autoComplete.data,function(e,t){s[t.cityname]=t,o.push(t.cityname),o=_.uniq(o)}),i(o)},updater:function(t){var r=s[t].cityname;return n.attr("value",r),e.locationString=r,i.show(),n.hide(),e.$apply(),e.updateUserLocation(s[t]),r},matcher:function(e){return-1!=e.toLowerCase().indexOf(this.query.trim().toLowerCase())?!0:void 0},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<span class='search-category'></span><strong>$1</strong>")}}),n.bind("blur keypress",function(e){(13==e.charCode||"blur"==e.type)&&(i.show(),n.hide())
})}}}]),woi.directive("homeTabItem",["$location","$rootScope",function(e,t){return{restrict:"A",templateUrl:"home-tab-item.html",link:function(i,n){var r=i.p;n.bind("click",function(){console.log("home tab item click .... ",r),t.programmeStartTime=r.starttime});var o;do o="tab-"+r.videoid+Math.floor(100*Math.random());while($("#"+o).length);var s=function(e){for(var t=$("."+e).get(),i=[],n=t.length,r=0;n>r;r++){var o,s=t[r];s.children&&s.children.length&&(o=t[r].children[0].id,o&&i.push(o))}return i},a=function(e,t){for(var i=e.length,n=0;i>n;n++){var r=e[n],o=$("#"+r);r!=t&&(o.is("iframe")||_V_(r).pause(),o.parent().hide())}};i.hasVideo=function(){return"undefined"!=typeof r.videourl&&""!=r.videourl},i.playVideo=function(){var l=[];if($(n).parent(".thumb").first().outerWidth()<550){t.playThisVideo=r.videourl,t.playThisVideoObj=r;var c=new RegExp("programme/"+r.programmeid+"/channel/"+r.channelid);return c.test(e.path())?(console.log(i),t.$broadcast("PlaythisVideo",r)):e.path("/programme/"+r.programmeid+"/channel/"+r.channelid),!1}if("true"==r.isyoutube){$("#"+o).length&&(n.find(".player").show(),l=s("player"),a(l,o));var u=r.videourl.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);n.find(".player").html('<iframe id="'+o+'" width="170" height="130" src="http://www.youtube.com/embed/'+u[1]+'?autoplay=1&rel=0&modestbranding=1&showinfo=0" frameborder="0" allowfullscreen style="backgground-color=\'#000\'"></iframe>')}else{if($("#"+o).length)return n.find(".player").show(),_V_(o).play(),l=s("player"),a(l,o),!1;var d=$("<video>").attr({id:o,width:170,height:130}).addClass("video-js vjs-default-skin"),h=$("<source></source>").attr("src",r.videourl).attr("type","video/mp4");d.append(h),n.find(".player").append(d),_V_(o,{controls:!0,autoplay:!0,preload:"auto"}).addEvent("ended",function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),n.find(".player").hide()})}l=s("player"),a(l,o)}}}}]),woi.directive("languagePopover",["$compile","$timeout","$rootScope",function(e,t,i){return{restrict:"A",link:function(n,r){var o=function(){return i.isUserLogged()?"/languages":"/user/beforeaction"},s=o(),a=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus click"},position:{my:"top right",at:"bottom right",adjust:{x:-5,y:5}},style:{classes:"popover rside-popover language-popover"},events:{show:function(){r.parent().parent(".thumb").addClass("active"),r.addClass("active")},hide:function(){r.parent().parent(".thumb").removeClass("active"),r.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:s,type:"GET",data:{}}}}},l=a(),c=function(s){var a=this;t(function(){a.set("content.text",e(s)(n)),t(function(){a.reposition()})}),i.beforeaction.title="Login to Set Language",i.beforeaction.subtitle="Please login to set your languages",n.$apply(function(){n.reminderData=n.programData,n.$reminder=r,n.actionObj={element:r,popconfig:l,success:function(){var e=l;e.content.ajax.url=o(),r.qtip(e).qtip("show")},failure:function(){alert("oopss")}}})};l.content.ajax.success=c,l.events.hide=function(){r.removeClass("active"),r.parent().parent(".thumb").removeClass("active");var e=a();e.content.ajax.success=c,r.qtip(e)},r.click(function(e){if($("#selectLanguage").hasClass("active")&&($("div.qtip:visible").qtip("hide"),e.preventDefault()),i.isUserLogged()){var t=a();t.content.ajax.success=c,t.content.ajax.url=o(),r.qtip("disable").qtip(t).qtip("enable").qtip("show"),$("div.qtip:visible").find(".qtip-content").css("overflow","visible")}}),console.log("%c %O","background:#eee",l),r.qtip(l)}}}]),woi.directive("liveTooltip",["$rootScope",function(e){return Modernizr.touch?void 0:function(t,i,n){n.$observe("liveTooltip",function(e){i.attr("title",e),i.attr("data-original-title",e),i.tooltip({html:!0,trigger:"hover"})}),i.on("mouseenter",function(t){var i=$(t.currentTarget),n=i.attr("live-tooltip"),r=!1;e.isUserLogged()&&(!i.hasClass("active")||"Add to Favorites"!=n&&"Add to Favorite"!=n?"Remove from Favorites"!=n&&"Remove from Favorite"!=n||i.hasClass("active")||(n="Add to Favorites",r=!0):(n="Remove from Favorites",r=!0),i.hasClass("active")&&"Add to Watchlist"==n?(n="Remove from Watchlist",r=!0):n.match("Watchlist")&&!i.hasClass("active")&&(n="Add to Watchlist",r=!0)),r&&(i.attr("data-original-title",n),i.attr("live-tooltip",n),i.tooltip({html:!0,trigger:"hover"}))})}}]),woi.directive("liveTooltipSingleLine",["$timeout",function(){return Modernizr.mq("screen and (max-width:1024px)")?void 0:function(e,t){t.on("mouseenter",function(){var e=t[0].scrollWidth,i=t[0].offsetWidth,n=t.attr("live-tooltip-single-line");t.attr("title",n),t.attr("data-original-title",n),console.log("outside"),e>i+1&&(console.log("inside"),t.tooltip({html:!0,trigger:"hover"}),t.tooltip("show")),t.attr("title","")})}}]),woi.directive("liveTooltipLocation",["$timeout",function(e){return Modernizr.mq("screen and (max-width:1024px)")?void 0:function(t,i,n){i.find(".location-input").bind("mouseenter",function(){return!1});var r=1e3;n.$observe("liveTooltipLocation",function(t){e(function(){r=0;var e=i[0].scrollWidth,n=i[0].offsetWidth;e>n?(i.attr("title",t),i.attr("data-original-title",t),i.tooltip({html:!0,trigger:"hover"})):(i.attr("title",""),i.attr("data-original-title",""),i.tooltip({html:!0}))},r)})}}]),woi.directive("watchlistTooltip",["$timeout",function(e){return Modernizr.mq("screen and (max-width:1024px)")?void 0:{restrict:"A",link:function(t,i,n){e(function(){var e=$("#watchlist-excoll"),t="none"==e.css("display");t&&e.show();var r=i[0].scrollWidth,o=i[0].offsetWidth,s=n.watchlistTooltip;r>o&&(i.attr("title",s),i.attr("data-original-title",s),i.tooltip({html:!0,trigger:"hover"})),t&&e.hide()})}}}]),woi.directive("movieToggleFilter",function(){return{restrict:"A",link:function(e,t){$(t).live("click",function(){var t=$(".moviesWrapper"),i=$(".phone-filters").find(".filter-wrapper"),n=$(".inner-wrapper"),r=$(".outer-wrapper"),o=i.find(".title"),s=t.outerWidth(!0),a=o.outerWidth(!0),l=i.outerWidth(),c=r.outerWidth();"on"==e.phoneSidebar?(t.show(),n.animate({marginLeft:0},500,function(){n.toggleClass("mobileView"),n.css("marginLeft",""),t.css("display","")}),i.animate({marginLeft:c-l},500),o.animate({opacity:1},250),e.toggleSidebar("off"),e.$apply()):(e.toggleSidebar("on"),e.$apply(),n.animate({marginLeft:-s},500,function(){n.toggleClass("mobileView"),n.css("marginLeft","")}),i.css("margin-left",c-l),i.css("float","none"),i.animate({marginLeft:-a},500),o.animate({opacity:0},500))})}}}),woi.directive("multilineOverflow",["$timeout",function(e){return{restrict:"A",link:function(t,i){e(function(){var e=$($(i.find("a, p")).get(0)),t=i.height(),n=i.parent().parent(),r=n.parent(),o="none"==n.css("display"),s="none"==r.css("display"),a=!1;for(s&&r.show(),o&&n.show();e.outerHeight()>t;)e.text(function(e,t){return t.replace(/\W*\s(\S)*$/,"...")}),a=!0;Modernizr.mq("screen and (max-width:1024px)")||a&&e.tooltip({html:!0,trigger:"hover"}),o&&n.hide(),s&&r.hide(),i.attr("title","")})}}}]),woi.directive("onOff",["$compile","$timeout",function(){return{restrict:"A",link:function(e,t){e.initSwitch=function(i){t.on_off({value:i,change:function(t){e.toggleSwitch(t)}})},e.toggleState=function(){var e=t.on_off("getValue");"on"==e?t.on_off("forceOff"):t.on_off("forceOn")}}}}]),woi.directive("placeholder",["$rootScope",function(e){return{restrict:"A",link:function(t,i,n){function r(){a=i.attr("placeholder"),a&&(i.attr("value",a).css("color","#999"),s(),o())}function o(){i.live("focus",function(){i.attr("value")==a&&i.attr("value","")}),i.live("blur",function(){""==$(this).val()&&$(this).val($(this).attr("placeholder"))})}function s(){l||(i.focus().blur(),l=!0)}if(!$("html").hasClass("ie9"))return!1;var a,l=!1;n.$observe("placeholder",function(e){a=e,r()}),e.$on("inputs:reset",function(){r()})}}}]),woi.directive("profileCompletion",["$compile","$timeout",function(){return{restrict:"A",link:function(e,t){t.progress({width:200,percent:0}),e.updateProgressBar=function(e){t.setPercent(e)},e.$watch("profileCompletion",function(e,i){return e==i?!1:(t.setPercent(e),void 0)})}}}]),woi.directive("questionnaireTip",["$compile","$timeout","$rootScope",function(){return{restrict:"A",link:function(e,t){var i=function(){return{show:{event:"click"},hide:{fixed:!0,event:"unfocus click"},position:{my:"top right",at:"bottom right",adjust:{x:Modernizr.touch?1:7,y:Modernizr.touch?-2:3}},style:{classes:"popover rside-popover"},content:{text:'<p class="questionnaireTip">The more we understand you, the more our site will show TV shows and channels that match your tastes and preferences. So answer the questions appearing in this section, keep favorite-ing channels and programs - and you will find that the site helps you discover shows that you are sure to like!</p>'}}},n=i();t.qtip(n)}}}]),woi.directive("rangeSlider",["$compile","$timeout",function(){return{restrict:"A",link:function(e,t){t.rangeSlider({bgImage:"/assets/img/bg.png",thumbImage:"/assets/img/selector.png",maxRight:2010,maxLeft:1940,currentLeft:1960,change2:function(t){e.yearsFilter(t)}})}}}]),woi.directive("ratingStars",["$rootScope","$compile","$timeout","userAPI",function(e,t,i,n){return{restrict:"A",scope:{typeId:"=typeId",userRating:"=userRating",ratingCount:"=ratingCount",userId:"=userId",loadAuth:"&"},link:function(r,o){r.$watch(function(){return r.typeId?(o.find("> .star").rating({callback:function(s){if(!e.isUserLogged()){e.beforeaction.title="Login To Rate",e.beforeaction.subtitle="Please login to rate this program";var a={my:"top center",at:"bottom center"},l=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:a.my,at:a.at,adjust:{y:-15}},style:{classes:"popover login-popover"},events:{hide:function(){if(!e.isUserLogged()){o.qtip("destroy");var t=l();o.qtip(t),o.find("> .star").rating("drain")}}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(a){var l=this;i(function(){l.set("content.text",t(a)(r)),i(function(){l.reposition()})}),r.actionObj={element:o,popconfig:c,success:function(){o.qtip("hide").qtip("destroy"),r.userId=e.getUser().userid,n.userRate({typename:"programme",typeid:r.typeId,rating:s,userid:r.userId},function(e){return e.response.responsestatus?(location.reload(),!1):void 0})},failure:function(){alert("oops")}}}}}}},c=l();return o.qtip(c),!1}n.userRate({typename:"programme",typeid:r.typeId,rating:s,userid:r.userId},function(e){e.response.responsestatus&&("0"==r.userRating&&r.ratingCount++,r.userRating=s)})}}),void 0):!1})}}}]),woi.directive("remindPopover",["$filter","$timeout","$compile","$parse","$rootScope",function(e,t,i,n,r){return e("isoToDate"),{restrict:"A",scope:{programData:"=programData"},link:function(e,n){var o=function(){return r.isUserLogged()?"/user/reminders":"/user/beforeaction"},s=o(),a=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus click"},position:{my:"top center",at:"bottom center",adjust:{y:5}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){n.parent().parent(".thumb").addClass("active"),n.parent().parent(".minor-details").addClass("active"),n.addClass("active")},hide:function(){n.parent().parent(".thumb").removeClass("active"),n.parent().parent(".minor-details").removeClass("active"),n.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:s,type:"GET",data:{}}}}},l=a(),c=function(s){var a=this;t(function(){a.set("content.text",i(s)(e)),t(function(){a.reposition()})}),r.beforeaction.title="Login to Set Reminder",r.beforeaction.subtitle="Please login to set this reminder",e.$apply(function(){e.reminderData=e.programData,e.$reminder=n,e.actionObj={element:n,popconfig:l,success:function(){var e=l;e.content.ajax.url=o(),n.qtip(e).qtip("show")},failure:function(){alert("oopss")}}})};l.content.ajax.success=c,l.events.hide=function(){n.removeClass("active"),n.parent().parent(".thumb").removeClass("active");var e=a();e.content.ajax.success=c,n.qtip(e)},n.click(function(e){if($("div.qtip:visible").qtip("hide"),e.stopPropagation(),r.isUserLogged()){var t=a();t.content.ajax.success=c,t.content.ajax.url=o(),n.qtip("disable").qtip(t).qtip("enable").qtip("show")}}),n.qtip(l)}}}]),woi.directive("saveStartTime",["$location","$rootScope",function(e,t){return{restrict:"A",link:function(e,i,n){i.bind("click",function(){console.log("generic item click .... ",e[n.saveStartTime].starttime),t.programmeStartTime=e[n.saveStartTime].starttime})}}}]),woi.directive("scrollCallback",["$filter",function(){return{restrict:"A",link:function(e){$(window).scroll(function(){this.pageYOffset>e.scrollValue&&e.$apply(function(){e.loadMoreDetails()})})}}}]),woi.directive("scrollCallbackTvGuide",["$filter",function(){return{restrict:"A",link:function(e){$(window).scroll(function(){e.loadOnScrollTop()})}}}]),woi.directive("searchAutoComplete",["$rootScope","$filter","$location","$route","autoAPI",function(e,t,i,n,r){return{restrict:"A",link:function(t,n){var o,s,a,l=300,c=[],u=[],d=$(".iconoverlay");if(t.showInvalid=!1,e.device.isMobile){var h={width:$("body").width()-30,position:"absolute",right:0,"z-index":5,"background-position":"5px 5px","background-color":"#fff"},p={width:n.width(),position:"relative",right:"auto","z-index":1,"background-position":n.css("background-position"),"background-color":"transparent"};n.bind("focus",function(){n.css(h),$(".main-nav ul:not(.dropdown-menu)").css("visibility","hidden")}).bind("blur",function(){n.css(p),$(".main-nav ul:not(.dropdown-menu)").css("visibility","visible")})}n.bind("focus",function(){d.removeClass("hidden-phone")}),n.bind("blur",function(){d.addClass("hidden-phone")}),n.bind("keypress",function(e){var i=e.charCode||e.keyCode;if(13==i){t.showInvalid=!1;var r=n.val().match(/[-$%^&*()_+|~=`{}\[\];<>.\/]/gi);if(null!=r&&r.length>0)return t.safeApply(function(){t.showInvalid=!0}),n.select().focus(),setTimeout(function(){t.safeApply(function(){t.showInvalid=!1})},3e3),!1;window.location.href="#!/search/"+n.val()}}),n.typeahead({items:50,source:function(e,i){clearTimeout(o);var d=n.val();d.length>1&&(s=(new Date).getTime(),o=setTimeout(function(){!function(e){r.autoComplete({autocompleteword:d},function(r){return r&&r.response&&e==s&&n.val().length?(t.autoComplete.data=r.response.docs,$.each(t.autoComplete.data,function(e,t){u[t.autoprompt]=t,c.push(t.autoprompt),c=_.uniq(c)}),i(c),void 0):!1})}(s)},l),a=d)},updater:function(e){return angular.isUndefined(e)?(window.location.href="#!/search/"+n.val(),n.val()):(u[e].category,i.path("/search/"+e),t.$apply(),e)},matcher:function(e){return-1!=e.toLowerCase().indexOf(this.query.trim().toLowerCase())?!0:void 0},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi"),i="cast"==u[e].category.toLowerCase()?u[e].category.toLowerCase():u[e].genre.toLowerCase().replace(" ","-");return"<span class='search-category'><i class='icon "+i+"'></i></span>"+e.replace(t,"<strong>$1</strong>")}})}}}]),woi.directive("searchByChannelName",["$filter",function(){return{restrict:"A",link:function(e,t){t.bind("keyup",function(){e.getNewDataSet(t.val())}),t.bind("focus",function(){t.val("")}),t.bind("change",function(){t.val("")})}}}]),woi.directive("searchList",["$filter",function(){return{restrict:"A",link:function(e){$(window).scroll(function(){$("body").height()<=$(window).height()+$(window).scrollTop()&&e.$apply(function(){e.loadMore()})})}}}]),woi.directive("searchResultsFilter",function(){return{restrict:"A",link:function(e,t){$(t).live("click",function(){var t=$(".content"),i=$(".phone-filters").find(".filter-wrapper"),n=$(".inner-wrapper"),r=$(".outer-wrapper"),o=i.find(".title"),s=t.outerWidth(!0);o.outerWidth(!0);var a=i.outerWidth(),l=r.outerWidth(),c=i.find("button").outerWidth(!0),u=t.css("margin-left");u=parseFloat(u.substring(0,u.length-2)),"on"==e.phoneSidebar?(n.animate({marginLeft:0},500,function(){}),$(".results_header.phone-view").css("opacity",0),$(".results_header.phone-view").removeClass("hidden-phone").addClass("visible-phone"),i.animate({marginLeft:l-a},250,function(){i.css("float","right"),i.css("margin-left","0px"),$(".results_header.phone-view").css("opacity",1)}),o.animate({opacity:1},250),e.toggleSidebar("off"),e.$apply()):(e.toggleSidebar("on"),e.$apply(),n.animate({marginLeft:-s},500),i.css("margin-left",l-a),i.css("float","none"),i.animate({marginLeft:-(a-c+u)},500),o.animate({opacity:0},500),$(".results_header.phone-view").removeClass("visible-phone").addClass("hidden-phone"))})}}}),woi.directive("signInInput",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(e,i){var n=$(i),r=Date.now();n.hasClass("ios-password")&&(n.attr("prefixvalue",r),n.attr("id",r+"signpwd"),t(function(){n.dPassword({prefix:r+"_"})},1)),n.keyup(function(){""===n.val()?n.removeClass("filled"):n.addClass("filled")}),t(function(){var e=$("#"+r+"_"+n.attr("id"));e.keyup(function(){""===e.val()?e.removeClass("filled"):e.addClass("filled")})},100)}}}]),woi.directive("signInPopover",["$rootScope","$compile","$timeout",function(e,t,i){return{restrict:"A",scope:{},link:function(n,r,o){r.click(function(){$("div.qtip:visible").qtip("hide")}),r.qtip({show:"click",hide:{fixed:!0,delay:750,event:"unfocus click"},position:{my:"top center",at:"bottom center"},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/"+o.action,type:"GET",data:{},success:function(e){var r=this;i(function(){r.set("content.text",t(e)(n)),i(function(){r.reposition()})})}}},style:{classes:"popover selfClearing"},events:{show:function(){r.addClass("active"),e.$apply(function(){e.$broadcast("change:loginPopoverState",{newState:"login"})}),$(".error").removeClass("error"),$(".errorMessage").hide(),$(".selfClearing").find("input").removeClass("filled").val("")},hide:function(){r.removeClass("active")}}})}}}]),woi.directive("trendingDiscussionItem",["$compile","$timeout",function(){return{restrict:"A",link:function(e){$pscope=e.$parent,e.td}}}]),woi.directive("trendingDiscussionItem",["$compile","$timeout",function(){return{restrict:"A",link:function(e,t){t.click(function(e){e.preventDefault(),console.log("element",t)})}}}]),woi.directive("tvGuideCalendarPopover",["$compile","$timeout","$location",function(e,t){return{restrict:"A",link:function(i,n){i.setCalendar(),n.qtip({show:"click",hide:{event:"unfocus"},position:{my:tvguidechannel_my,at:tvguidechannel_at,adjust:{x:tvguidechannel_x,y:5}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/tv-guide/calendar",type:"GET",data:{},success:function(n){var r=this;t(function(){r.set("content.text",e(n)(i)),t(function(){r.reposition()})})}}},style:{classes:"popover rside-popover",width:"340px",marginLeft:"-20px"},events:{show:function(){n.addClass("active")},hide:function(){n.removeClass("active")},render:function(e,t){if(Modernizr.mq("screen and (max-width:640px)")){var i=t.elements.tip;i.addClass("tip-tvguide-pos-fix")}}}})}}}]),woi.directive("tvGuideEvents",["$rootScope","$filter",function(e){return{restrict:"A",link:function(t,i){var n=i.find("#tv_guide_container"),r=n.find(".slider");t.wasDragged=!1,t.oldLeft=t.currentPosition,n.dragscrollable({dragSelector:".slider",acceptPropagatedEvent:!0,orientation:"x",onDrag:function(){t.wasDragged=!0,t.disableArrow("")},onMouseUp:function(){t.wasDragged?(t.wasDragged=!1,t.allowClick=!1):t.allowClick=!0;var i=parseInt(r.css("left").replace("px","")),o=parseInt(r.css("width").replace("px","")),s=parseInt(n.css("width").replace("px","")),a=0,l=!1,c=i+o-s;i>0&&(a=0,l=!0,t.disableArrow("prev")),-90>c&&(a=-(o-s+86),l=!0,t.disableArrow("next")),l&&r.stop().animate({left:a+"px"},100),t.containerWidth=s,t.currentPosition=i>0?0:-i>6e3-s?6e3-s:Math.abs(i),e.$broadcast("tvGuide:updateIndent",{position:t.currentPosition}),-1*t.oldLeft>-1*i?t.horizontalPageScrolled(i,!1):t.horizontalPageScrolled(i,!0),t.oldLeft=i}}),i.bind("mouseover",function(){var e=$(".expand-btn").get();if(e.length){var t=$(".expand-btn").position().left;t>=0&&($("html").hasClass("win")?$(".expand-btn").animate({left:"-90px"},5):$(".expand-btn").animate({left:"-75px"},5))}}),i.bind("mouseleave",function(){$(".expand-btn").stop().animate({left:"0px"},5)})}}}]);var hourWidth=250;if(woi.directive("tvGuideItem",["$rootScope","$filter","userAPI",function(e,t,i){var n=t("isoToDate");return{restrict:"A",link:function(t,r,o){var s=$("#tv_guide_container .slider"),a=$("#tv_guide_container"),l=function(e){if("1"==o.isRecommended&&r.width()>hourWidth/3){var t;i.getProgrammeDetails(e,function(e){return e.getfullprogrammedetails?(t=e.getfullprogrammedetails.fullprogrammedetails,r.css("backgroundImage",'url("'+t.imagefilepath+'")'),r.css("backgroundRepeat","no-repeat"),r.css("backgroundPosition","right center"),r.css("backgroundSize","100%"),r.addClass("recommended"),void 0):!1})}},c=function(e,t,i,n){var r=i+n,o=i;return e+t>o&&r>e};t.$watch("currentPosition",function(e){setTimeout(function(){var i=Math.abs(e),n=t.containerWidth||a.width(),o=r.css("left").replace("px","")-0,l=r.css("width").replace("px","")-0;if(!c(o,l,i,n)||o>i)return r.children("h3, h4").css("text-indent",""),!1;var u=(s.width(),r.children(0).width(),o+l-i),d=r.children("h3, h4").css("text-indent",""),h=d.first(),p=h.css("display","inline").width();if(h.css("display",""),p>l)return!1;if(u>p+40){var f=i-o;d.css("text-indent",f+"px")}else{var f=l-p>40?l-p-40:0;d.css("text-indent",f+"px")}})}),o.$observe("appliedFilter",function(){var e=n(t.thisProgram.starttime),i=n(t.thisProgram.endtime),o=Math.floor((i-e)/1e3/60),s=o*hourWidth/60;r.css("width",s+"px");var a=new Date(e.getTime());a.setHours(0),a.setMinutes(0);var l=Math.floor((e-a)/1e3/60)*hourWidth/60;r.css("left",l+"px"),r.width()<hourWidth/3&&(Modernizr.touch||r.data("title",t.thisProgram.programmename).tooltip(),r.addClass("info"),r.width()<10&&r.addClass("scaled"))}),o.$observe("imagePath",function(){if(o.imagePath){var t={userid:e.getUser().userid,programmeid:o.programId,channelid:o.channelId?o.channelId:0,starttime:o.startTime.replace("T"," ").split("+")[0],programmeimagesize:"xxlarge"};l(t)}})}}}]),woi.directive("tvGuideTimeElapsed",["$filter",function(){return{restrict:"A",link:function(e,t){var i=new Date,n=3600/hourWidth,r=Math.floor(i.getHours())*hourWidth+i.getMinutes()*hourWidth/60-t.outerWidth();t.css("left",r+"px"),setInterval(function(){t.animate({left:"+=1"});var e=new Date,i=e.getHours()+"00"+e.getDate()+e.getMonth();$(".timeline ul li").css("color","#86477E"),$(".timeline ul li[data-time="+i+"]").css("color","#FEEF02")},1e3*n)}}}]),woi.directive("tvGuideItemActions",["$filter","$location","$rootScope","userAPI",function(e,t,i,n){return{restrict:"A",link:function(r,o,s){if(i.device.isTouch)return o.click(function(){r.$apply(function(){t.path("programme/"+s.programId+"/channel/"+s.channelId)})}),!1;var a=e("loading");i.device.isTablet?o.click(function(){r.$apply(function(){return 0===$(".sidebar").length||$(".sidebar").hasClass("expand")?void 0:(t.path("programme/"+s.programId+"/channel/"+s.channelId),!1)})}):(o.click(function(){r.allowClick&&r.$apply(function(){if(0!==$(".sidebar").length&&!$(".sidebar").hasClass("expand"))return t.path("programme/"+s.programId+"/channel/"+s.channelId),!1;var e=o,r=e.parent().parent(),l=r.parent().parent().parent().children(".channels"),c=r.parent(),u=r.find("#description-popover"),d=362,h={},p={},f={};h.w=e.width(),h.x=e.position().left,h.y=e.parent().position().top,p.x=Math.abs(r.position().left),p.w=r.width(),f.w=c.width();var m=f.w/2,g=l.height()/2-50,v=h.x-p.x,y=h.y,b=e.height()+2,w=h.x,x=h.w>d?h.w:d,_=p.x,C=p.x+f.w,k=_>w,T=w+x>C,S=k||T;if(S){var D=-2;k?D=p.x-h.x:T&&(D=p.x+f.w-(h.x+d)-86),u.css({right:"auto",left:D+"px"})}else v>m?u.css({left:"auto",right:"-2px"}):u.css({left:"-2px",right:"auto"});g>y?u.css({bottom:"auto",top:b+"px"}):u.css({bottom:b+"px",top:"auto"});var E=function(e){if($(e.target).parents(".qtip").length||$(e.target).parents(".item.active").length>0)return!1;document.removeEventListener("click",E,!0);var t=r.find(".active");t.get(),t.length,t.removeClass("active"),u.hide(),i.showinfo.visible=!1,r.prepend(u);for(var n=r.find(".expanded"),o=n.length,s=0;o>s;s++){var a=n[s],l=a.getAttribute("data-originalWidth"),c=a.getAttribute("data-wasInfo"),d=a.getAttribute("data-oldLeft")?a.getAttribute("data-oldLeft"):$(a).position().left;l&&(a.removeAttribute("data-originalWidth"),$(a).width(l+"px")),d&&(a.removeAttribute("data-oldLeft"),$(a).css({left:d+"px"})),c&&($(a).addClass("info"),a.removeAttribute("data-wasInfo"))}},P=!1;if(o.hasClass("active")&&(P=!0),i.showinfo.visible=!1,r.find(".active").removeClass("active"),$(".qtip").qtip("hide"),P){var M=o.get(0).getAttribute("data-originalWidth"),I=o.get(0).getAttribute("data-wasInfo"),A=o.get(0).getAttribute("data-oldLeft")?o.get(0).getAttribute("data-oldLeft"):h.x;u.hide(),i.showinfo.visible=!1,r.prepend(u),M&&o.animate({width:M+"px",left:A+"px"}).removeClass("expanded").get(0).removeAttribute("data-originalWidth"),I&&(o.addClass("info"),o.get(0).removeAttribute("data-wasInfo"))}else{for(var L=r.find(".expanded"),O=L.length,q=0;O>q;q++){var N=L[q],M=N.getAttribute("data-originalWidth"),I=N.getAttribute("data-wasInfo"),A=N.getAttribute("data-oldLeft")?N.getAttribute("data-oldLeft"):$(N).position().left;M&&(N.removeAttribute("data-originalWidth"),$(N).width(M+"px")),A&&(N.removeAttribute("data-oldLeft"),$(N).css({left:A+"px"})),I&&($(N).addClass("info"),N.removeAttribute("data-wasInfo"))}if(o.addClass("active loading").append(u),a("show",{element:u.find(".loading-spinner")}),u.css({display:"table"}),h.w+24<d){var F=h.x;h.x>p.w-d&&(F=p.w-d,o.get(0).setAttribute("data-oldLeft",h.x)),o.animate({width:d-4+"px",left:F}).addClass("expanded"),o.hasClass("info")&&(o.removeClass("info"),o.get(0).setAttribute("data-wasInfo",!0)),o.get(0).setAttribute("data-originalWidth",h.w)}document.addEventListener("click",E,!0)}-1!=s.startTime.indexOf("+")&&(s.startTime=s.startTime.slice(0,s.startTime.indexOf("+")).replace("T"," "));var j={userid:i.getUser().userid,programmeid:s.programId,channelid:s.channelId?s.channelId:0,starttime:s.startTime};i.showinfo={},n.getProgrammeDetails(j,function(e){var t=e.getfullprogrammedetails.fullprogrammedetails;o.removeClass("loading"),i.showinfo=t,i.showinfo.visible=!0,a("hide",{element:u})})})}),o.mousedown(function(){$(".qtip").qtip("hide")}))}}}]),woi.directive("tvGuideLocation",["$rootScope","$filter",function(e){return{restrict:"A",link:function(t,i){var n=i.find(".location-string"),r=i.find(".location-input"),o=i.find(".location-change");o.bind("click",function(){n.hide(),r.show().select().focus(),r.val(n.text())}),r.bind("keyup",function(){t.triggerAutoComplete(r.val(),function(e){t.autoComplete.data=e})});var s=[],a=[];if(e.device.isMobile){var l={width:$("body").width()-30,position:"absolute",right:0,"z-index":5,"background-position":"5px 5px","background-color":"#fff"},c={width:i.width(),position:"relative",right:"auto","z-index":1,"background-position":i.css("background-position"),"background-color":"transparent"};i.bind("focus",function(){i.css(l),$(".main-nav ul").css("visibility","hidden")}).bind("blur",function(){i.css(c),$(".main-nav ul").css("visibility","visible")})}r.typeahead({items:50,source:function(e,i){$.each(t.autoComplete.data,function(e,t){a[t.cityname]=t,s.push(t.cityname),s=_.uniq(s)}),i(s)},updater:function(e){var i=a[e].cityname;return n.text(i),r.attr("value",i),t.locationString=i,t.$apply(),t.callFilter(a[e]),i},matcher:function(e){return-1!=e.toLowerCase().indexOf(this.query.trim().toLowerCase())?!0:void 0},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<span class='search-category'></span><strong>$1</strong>")}}),r.bind("blur keypress",function(e){(13==e.charCode||"blur"==e.type)&&(n.show(),r.hide())})}}}]),woi.directive("tvOperatorPopover",["$rootScope","$compile","$timeout","$location",function(e,t,i,n){var r=n.path(),o=e.device.isTablet;if("/Tv-Listings"==r)var s=o?"top left":"top center",a=o?"bottom left":"bottom center",l=5;else var s=o?"top right":"top center",a=o?"bottom right":"bottom center",l=o?10:0;return{restrict:"A",link:function(e,n){n.click(function(){e.update()}),n.qtip({show:"click",hide:{event:"unfocus"},position:{my:s,at:a,adjust:{x:l,y:10}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/tv-guide/tvoperator",type:"GET",data:{},success:function(n){var r=this;i(function(){r.set("content.text",t(n)(e)),i(function(){r.reposition()})})}}},style:{classes:"popover lside-popover tvoperator-popover"},events:{show:function(){n.removeClass("active").addClass("active")},hide:function(){n.removeClass("active")}}})}}}]),woi.directive("tvguideToggleFilter",function(){return{restrict:"A",link:function(e,t){$(t).live("click",function(){var t=$(".tv_guide"),i=$(".phone-filters").find(".filter-wrapper"),n=$(".inner-wrapper"),r=$(".outer-wrapper"),o=i.find(".title"),s=t.outerWidth(!0);o.outerWidth(!0);var a=i.outerWidth(),l=r.outerWidth(),c=i.find("button").outerWidth(!0),u=t.css("margin-left");$("html").hasClass("android")&&(s=t.eq(1).width()+2),u=parseFloat(u.substring(0,u.length-2)),"on"==e.phoneSidebar?(n.animate({marginLeft:0},500,function(){}),i.animate({marginLeft:l-a},500),o.animate({opacity:1},250),$("nav.top-nav").slideUp(),e.toggleSidebar("off"),e.$apply()):(e.toggleSidebar("on"),e.$apply(),n.animate({marginLeft:-s},500),i.css("margin-left",l-a),i.css("float","none"),$("nav.top-nav").slideDown(),i.animate({marginLeft:-(a-c+u)},500),o.animate({opacity:0},500))})}}}),woi.directive("tvoperatorCheckbox",["$timeout","$compile",function(e,t){return{restrict:"A",link:function(i,n,r){var o=i[r.tvoperatorCheckbox],s=t('<label for="checkbox'+o.operator_id+'" class="labeloperator">'+o.operator_name+'</label><div class="custom-checkbox radio"><input ng-checked="clickIt(op)" id="checkbox'+o.operator_id+'" ng-click="selectOperator({operator_name: \''+o.operator_name+"', operator_id: '"+o.operator_id+'\'})" name="tvoperator" type="radio"/><label for="checkbox'+o.operator_id+'"></label></div>')(i);$(n).html(s),e(function(){var e=$(n).find(".labeloperator").outerHeight();$(n).find(".custom-checkbox").css("height",e)})}}}]),woi.directive("videoItem",["$rootScope","$location",function(e,t){return{restrict:"A",templateUrl:"video-item.html",link:function(i,n){var r,o=i.p;do r="tab-"+o.videoid+(new Date).getTime();while($("#"+r).length);var s=function(e){for(var t=$("."+e).get(),i=[],n=t.length,r=0;n>r;r++){var o,s=t[r];s.children&&s.children.length&&(o=t[r].children[0].id,o&&i.push(o))}return i},a=function(e,t){for(var i=e.length,n=0;i>n;n++){var r=e[n],o=$("#"+r),s=o.parent().parent();r!=t&&(s.find(".play").show(),o.is("iframe")||(_V_(r).pause(),s.find(".player").empty()),o.parent().hide())}};i.hasVideo=function(){return"undefined"!=typeof o.videourl&&""!=o.videourl},i.playVideo=function(){if("block"!=n.find(".major-details").css("display"))return console.log(o.videourl),e.playThisVideo=o.videourl,e.playThisVideoObj=o,t.path("/programme/"+o.programmeid+"/channel/"+o.channelid),!1;console.log("Large"),n.find(".play").hide();var i=[];if("true"==o.isyoutube){$("#"+r).length&&(n.find(".player").show(),i=s("player"),a(i,r));var l=o.videourl.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);n.find(".player").html('<iframe id="'+r+'" width="170" height="130" src="http://www.youtube.com/embed/'+l[1]+'?autoplay=1&rel=0&modestbranding=1&showinfo=0" frameborder="0" allowfullscreen style="backgground-color=\'#000\'"></iframe>')}else{if(!$("html").hasClass("iphone")&&$("#"+r).length)return n.find(".player").show(),_V_(r).play(),i=s("player"),a(i,r),!1;var c,u=n.find(".thumb");c="block"==n.find(".major-details").css("display")?u.outerHeight(!0)-n.find(".video-details").outerHeight(!0):u.outerHeight(),r="tab-"+o.videoid+(new Date).getTime();var d=$("<video>").attr({id:r,width:u.width(),height:c}).addClass("video-js vjs-default-skin"),h=$("<source></source>").attr("src",o.videourl).attr("type","video/mp4");d.append(h),n.find(".player").append(d),n.find(".player").show(),_V_(r,{controls:!0,autoplay:!0,preload:"auto"}).addEvent("ended",function(){if(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),$("html").hasClass("no-touch")&&n.find(".player").hide(),n.find(".play").show(),$("html").hasClass("iphone")&&(n.find(".play").hide(),n.find(".player").children().length>0)){$(".player");
var e=n.find(".player > div:nth-child(1)").attr("id");n.find(".player").show(),n.find(".player").empty();var t,i=n.find(".thumb"),i=n.find(".thumb");t="block"==n.find(".major-details").css("display")?i.outerHeight(!0)-n.find(".video-details").outerHeight(!0):i.outerHeight();var r=$("<video>").attr({id:e,width:i.width(),height:t}),s=$("<source></source>").attr("src",o.videourl).attr("type","video/mp4");return r.append(s),n.find(".player").append(r),e="#"+e,$(e).play(),!1}($("html").hasClass("ipad")||$("html").hasClass("android"))&&n.find(".player").empty()})}i=s("player"),a(i,r)}}}}]),woi.directive("videoToggleFilter",function(){return{restrict:"A",link:function(e,t){$(t).live("click",function(){var t=$(".videosWrapper"),i=$(".phone-filters").find(".filter-wrapper"),n=$(".inner-wrapper"),r=$(".outer-wrapper"),o=i.find(".title"),s=t.outerWidth(!0);o.outerWidth(!0);var a=i.outerWidth(),l=r.outerWidth(),c=i.find("button").outerWidth(!0),u=t.css("margin-left");u=parseFloat(u.substring(0,u.length-2)),"on"==e.phoneSidebar?(t.show(),n.animate({marginLeft:0},500,function(){n.toggleClass("mobileView"),n.css("marginLeft",""),t.css("display","")}),i.animate({marginLeft:l-a},500),o.animate({opacity:1},250),$("div.select-boxes").slideUp(),e.toggleSidebar("off"),e.$apply()):(e.toggleSidebar("on"),e.$apply(),n.animate({marginLeft:-s},500,function(){n.toggleClass("mobileView"),n.css("marginLeft","")}),i.css("margin-left",l-a),i.css("float","none"),$("div.select-boxes").slideDown(),i.animate({marginLeft:-(a-c+u)},500),o.animate({opacity:0},500))})}}}),woi.directive("watchable",["$rootScope","$location","userAPI",function(e,t,i){return{restrict:"A",link:function(n,r,o){if($(r).addClass("watchable"),Modernizr.touch){if($("html").hasClass("android"))return!1;r.isDragged=!1,r.isClicked=!1,Hammer(r).on("hold",function(e){if($(e.target).hasClass("vjs-controls")||$(e.target).hasClass("vjs-control"))return!1;var t=n[o.watchable].imagefilepath;return $("#dragDiv").css({left:e.gesture.center.pageX-85,top:e.gesture.center.pageY-65,"background-image":"url("+t+")"}),$("#dragDiv").show(),r.isDragged||(r.isDragged=!0),r.isClicked||(r.isClicked=!0),e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,e.gesture.stopPropagation(),e.gesture.preventDefault(),!1}),Hammer(r).on("release",function(){r.isDragged&&(r.isDragged=!1,$("#dragDiv").is(":visible")&&($("#dragDiv").hide(),$("#dragDiv").css({left:0,top:0,"background-image":""})))}),Hammer(r).on("drag",function(i){if(r.isDragged){if($("#dragDiv").is(":visible")){if("none"==$("#dragDiv").css("background-image")){var s=n[o.watchable].imagefilepath;$("#dragDiv").css({"background-image":"url("+s+")"})}$("#dragDiv").css({left:i.gesture.center.pageX-85,top:i.gesture.center.pageY-65}),$(window).scrollTop()-100>0?$(window).scrollTop()-100:0,$("#dragDiv").offset().top<$(window).scrollTop()&&$("#dragDiv").offset().top>=0&&$("body,html").queue("fx",[]).animate({scrollTop:0},500);var a=$(".watchlistdropbox").first(),l=a.offset();i.gesture.center.pageX>l.left&&i.gesture.center.pageX<l.left+a.width()&&i.gesture.center.pageY>l.top&&i.gesture.center.pageY<l.top+a.height()&&e.isUserLogged()&&($(".watchlist-excoll").is(":visible")||"/Watchlist"==t.path()||($(".watchlist-excoll").slideDown(),$("#watchList").addClass("watchlistactive")))}i.stopPropagation(),i.preventDefault(),i.gesture.stopPropagation(),i.gesture.preventDefault()}}),Hammer(r).on("dragstart",function(){r.isDragged&&($("#watchList").addClass("watchlistactive"),"/Watchlist"==t.path()&&$(".watchlist-user .overlay").show())}),$("a",r).live("click",function(e){r.isClicked&&(r.isClicked=!1,e.stopPropagation(),e.preventDefault())}),Hammer(r).on("dragend",function(s){r.isDragged&&($("#dragDiv").hide(),$("#dragDiv").css({left:0,top:0,"background-image":""}),$(".watchlist-excoll").is(":visible")||$("#watchList").removeClass("watchlistactive"),"/Watchlist"==t.path()&&$(".watchlist-user .overlay").hide(),_.each($(".watchlistdropbox"),function(t){var r=$(t).offset();if(s.gesture.center.pageX>r.left&&s.gesture.center.pageX<r.left+$(t).width()&&s.gesture.center.pageY>r.top&&s.gesture.center.pageY<r.top+$(t).height())if(e.isUserLogged()){var a=n[o.watchable];e.$broadcast("watchlist::add",a);var l={watchliststatus:!0};_.isUndefined(a.videoid)?(l.contenttype="program",l.contentid=a.programmeid,l.videoid=0):(l.contenttype="video",l.contentid=a.programmeid,l.videoid=a.videoid),i.toggleWatchlist(l,function(e){console.log(e)})}else $("#watchList").qtip("show"),$("#watchList").hasClass("qtip")?console.log("true"):console.log("false")}),s.stopPropagation(),s.preventDefault())})}else $(r).draggable({containment:"document",appendTo:"body",helper:function(){var e=n[o.watchable].imagefilepath;return $("<div class='draggable-image-cont' style='background-image:url(\""+e+"\")' ><span class='plus_icon'></span></div>").clone()},cursorAt:{left:85,top:65},cursor:"move",start:function(e){return $(e.srcElement).first().hasClass("vjs-control")||$(e.srcElement).first().hasClass("vjs-controls")?!1:($("#watchList").addClass("watchlistactive"),r.context.bgobj=n[o.watchable],r.context.refObj=o.watchable,r.context.scope=n,"/Watchlist"==t.path()&&$(".watchlist-user .overlay").show(),void 0)},stop:function(){$(".watchlist-excoll").is(":visible")||$("#watchList").removeClass("watchlistactive"),"/Watchlist"==t.path()&&$(".watchlist-user .overlay").hide()}})}}}]),woi.directive("watchlistCalendarPopover",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(i,n){n.qtip({show:"click",hide:{event:"unfocus"},position:{my:"top right",at:"bottom right",adjust:{x:0,y:5}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/watchlist/calendar",type:"GET",data:{},success:function(n){var r=this;t(function(){r.set("content.text",e(n)(i)),t(function(){r.reposition()})})}}},style:{classes:"popover rside-popover"},events:{show:function(){n.addClass("active")},hide:function(){n.removeClass("active")}}})}}}]),woi.directive("watchlistDropbox",["$rootScope","userAPI","$location",function(e,t,i){var n=function(e){var t=["ChannelID","ChannelName","StartTime","ProgrammeID","ProgrammeName"];return _.each(t,function(t){!_.isUndefined(e[t])&&_.isUndefined(e[t.toLowerCase()])&&(e[t.toLowerCase()]=e[t])}),e};return{restrict:"A",link:function(r,o){$(o).addClass("watchlistdropbox"),Modernizr.touch||$(o).droppable({activeClass:"active",over:function(){e.isUserLogged()&&($(".watchlist-excoll").is("visible")||"/Watchlist"==i.path()||($(".watchlist-excoll").slideDown(),$("#watchList").addClass("watchlistactive")))},drop:function(i,r){if(e.isUserLogged()){var o=r.draggable.context.bgobj;r.draggable.context.scope[r.draggable.context.refObj].iswatchlist="1",o=n(o),e.$broadcast("watchlist::add",o);var s={watchliststatus:!0};_.isUndefined(o.videoid)?(s.contenttype="program",s.contentid=o.programmeid,s.videoid=0):(s.contenttype="video",s.contentid=o.programmeid,s.videoid=o.videoid),t.toggleWatchlist(s,function(){})}else $("#watchList").trigger("click")}})}}}]),woi.directive("watchlistPopover",["$compile","$timeout","$rootScope","$location","$filter",function(e,t,i,n,r){return{restrict:"A",link:function(o,s){var a=function(){return i.isUserLogged()?"/languages":"/user/watchlist"},l=a(),c=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus click"},position:{my:Modernizr.mq("screen and (max-width:640px)")?"top right":"top center",at:Modernizr.mq("screen and (max-width:640px)")?"bottom center":"bottom center",adjust:{x:Modernizr.mq("screen and (max-width:640px)")?50:5,y:5}},style:{classes:"popover rside-popover language-popover"},events:{show:function(){return i.isUserLogged()?!1:(s.addClass("watchlistactive"),void 0)},hide:function(){s.parent().parent(".thumb").removeClass("active"),s.removeClass("watchlistactive")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:l,type:"GET",data:{}}}}},u=c(),d=function(n){if(!i.isUserLogged()){var r=this;t(function(){r.set("content.text",e(n)(o)),t(function(){r.reposition()})}),i.beforeaction.title="Create Your Watchlist",i.beforeaction.subtitle="Follow your favorites on TV",o.$apply(function(){o.reminderData=o.programData,o.$reminder=s,o.actionObj={element:s,popconfig:u,success:function(){s.qtip("hide"),location.reload()},failure:function(){alert("oopss")}}})}};i.isUserLogged()||(u.content.ajax.success=d),u.events.hide=function(){s.parent().parent(".thumb").removeClass("active"),s.removeClass("watchlistactive");var e=c();e.content.ajax.success=d,s.qtip(e)},s.live("click",function(){if(i.isUserLogged()&&(i.watchlistClicked=!0,"/Watchlist"!=n.path()&&o.apiCalled&&i.$broadcast("watchlist::click")),!o.apiCalled&&i.isUserLogged()){var e=r("loading"),t=$(".watchlist-spinner"),s=$("span.mywatchlist"),a=$("#watchList");s.text(),s.text(""),e("show",{element:t}),a.addClass("watchlistactive")}}),s.qtip(u),$(".close-watchlist-slider").live("click",function(){$(".watchlist-excoll").slideUp(),$("#watchList").hasClass("watchlistactive")&&$("#watchList").removeClass("watchlistactive")})}}}]),woi.controller("DiscussionsController",["$scope","$rootScope","$filter","$timeout","$http","$routeParams","userAPI",function(e,t,i,n,r,o,s){t.$broadcast("resetHighlight",[]),e.tabs=[],e.tabsList={},e.dataLoaded=!1,e.activeFilter="Latest",e.requestKey,e.commentsExpanded=!1,e.showFacebook=!0;var a=i("loading"),l=$(".loadingIndicator");a("show",{element:l}),e.loadCategories=function(){s.getDiscussionCategories({},function(t){return t.RootTag?(e.tabsList={keys:t.RootTag.forumkey,headings:t.RootTag.forumtype},e.loadDiscussions(),void 0):!1})}(),e.loadDiscussions=function(){e.tabs=[],e.dataLoaded=!1;var t=e.tabsList.keys.length;e.requestKey=(new Date).getTime();for(var i=0;t>i;i++)!function(t,i){s.getAllDiscussions({forumtype:e.tabsList.keys[t],filter:e.activeFilter},function(n){if(!n.alldiscussion)return console&&console.log("Improper response for",e.tabsList.headings[t],n.alldiscussion),!1;if(i!=e.requestKey)return!1;for(var r={discussions:n.alldiscussion.alldiscussionlist.slice(0,4),heading:e.tabsList.headings[t],active:!1},o=r.discussions.length,s=0;o>s;s++)r.discussions[s].active=!1,r.discussions[s].loading=!1;e.dataLoaded||(e.dataLoaded=!0,r.active=!0,e.loadFilters()),e.openThread(r.discussions,r.discussions[0]),e.tabs.push(r)})}(i,e.requestKey)},e.applyFilter=function(t,i){t.preventDefault(),e.dataLoaded=!1,e.activeFilter=i,e.loadDiscussions()},e.loadFilters=function(){s.getDiscussionFilters({},function(t){return t.filters?(e.allFilters=t.filters.filtertype,void 0):(e.allFilters=[],!1)})},e.viewAllComments=function(t){t.visibleComments=t.allComments,e.commentsExpanded=!0},e.openThread=function(t,i){var r=$(".discussionContents .loadingIndicator");e.cleanObject(t,"active",!1),i.active=!0,i.loading=!0,function(){n(function(){e.commentsExpanded=!0},250)}(i);for(var o=r.get().length,s=0;o>s;s++){var l=$(r[s]),c=l.children().length;c||a("show",{element:l})}e.loadDiscussionThread(i);var u=e.tabs.indexOf(t);-1!=u&&e.tabs[u].active&&(e.commentsExpanded=!0)},e.loadDiscussionThread=function(t,i){var n=$(".discussionContents .loadingIndicator");i||(i=1),1===i&&(t.allComments=[],t.visibleComments=[],t.loading=!0),s.getTrendingDiscussion({forumid:t.forumid,pageno:i},function(r){return r.gettrendingdiscussion?(r=r.gettrendingdiscussion.trendinglist,1===i?(t.allComments=_.isArray(r)?r:[r],t.visibleComments=t.allComments.slice(0,1)):(_.isArray(r)?t.allComments=t.allComments.concat(r):t.allComments.push(r),t.visibleComments.length>1&&(t.visibleComments=t.allComments)),t.loading=!1,n.children().length||a("hide",{element:n}),e.loadDiscussionThread(t,i+1),void 0):(t.loading=!1,t.threadcount=t.allComments.length,!1)})},e.openTab=function(t,i){if(i.active)return!1;var n=$(t.currentTarget);e.cleanObject(e.tabs,"active",!1),i.active=!0,e.openThread(i.discussions,i.discussions[0]),setTimeout(function(){$("body, window").animate({scrollTop:n.position().top-50+"px"})},205)},e.openNotification=function(t){var i=t?$("#"+t):$(".discussionConfirmation"),n=i.children("li").children(".dc_check, .dc_close"),r=i.outerHeight();n.height(r),i.fadeIn().slideDown(),setTimeout(function(){e.closeNotification(null,i)},3e3)},e.closeNotification=function(e,t){if(e){e.preventDefault();var i=$(e.currentTarget),n=i.parent().parent()}else n=t;n.slideUp().fadeOut()},e.cleanObject=function(e,t,i){for(var n=e.length,r=0;n>r;r++)e[r][t]=i},e.scrollToComment=function(e){var t=$(e.currentTarget),i=t.parents(".discussionBody").find(".post-comment textarea"),n=i.offset().top-$(window).height()/2+i.height();$("body").animate({scrollTop:n},function(){i.focus()})},e.facebookHandle="HBOIndia",function(){$.get("https://graph.facebook.com/oauth/access_token?type=client_cred&client_id=135772246470432&client_secret=7fcfe7ded1aa03cb58318f9e93e874d2&callback=text",function(t){r({method:"JSONP",url:"https://graph.facebook.com/"+e.facebookHandle+"/posts?"+t,params:{limit:10,callback:"JSON_CALLBACK"}}).success(function(t){e.facebookResponse=t.data,"undefined"!=typeof e.facebookResponse&&(t.data.length<=0&&(e.showFacebook=!1),e.paginateFb=e.facebookResponse.slice(0,2))}).error(function(){})}),r({method:"JSONP",url:"http://graph.facebook.com/"+e.facebookHandle+"/?fields=picture&type=small",params:{callback:"JSON_CALLBACK"}}).success(function(t){return"undefined"==typeof t.picture?(e.facebookProfilePic="",void 0):(e.facebookProfilePic=t.picture.data.url,void 0)}).error(function(){e.facebookProfilePic=""})}(),e.paginateFb=[],e.fbText="View More",e.loadMoreFb=function(){"View More"==e.fbText?(e.fbText="View Less",e.paginateFb=e.facebookResponse):(e.fbText="View More",e.paginateFb=e.facebookResponse.slice(0,2))},$("#selectFilter").click(function(e){e.stopPropagation(),$(".dropdown-menu.selectFilter").toggle()}),$(document).click(function(){$(".dropdown-menu.selectFilter").hide()})}]),woi.filter("addLinks",["$routeParams","$rootScope",function(e,t){return function(i,n){var r="#!/";if("Channel"==n)return r+="channel/"+escape(e.channelid),t.channelNo?"<a href="+r+">"+i+"</a>"+"("+t.channelNo+")":"<a href="+r+">"+i+"</a>";if("Language"==n||"Genre"==n||"Sub-genre"==n)return r+="search/"+escape(i),"<a href="+r+">"+i+"</a>";if("Director"==n||"Actor"==n){for(var o=i.split(","),s="",a=0;a<o.length;a++){var l=escape(o[a]);s+="<a href=#!/search/"+l+">"+o[a]+" </a>"}return s}return i}}]),woi.filter("addZero",function(){return function(e){return 10>e?"0"+e:e}}),woi.filter("allFilter",function(){return function(e){return""==e?"!":" for "+e+"!"}}),woi.filter("durationFormated",function(){return function(e,t){var i=0;return e&&t?(t=t.substring(0,t.length-2).replace(/\-/g,"/").replace(/[T|Z]/g," "),e=e.substring(0,e.length-2).replace(/\-/g,"/").replace(/[T|Z]/g," "),minutes=Math.abs(new Date(t).getTime()-new Date(e).getTime()),minutes=Math.floor(minutes/1e3/60),isNaN(minutes)?!1:60>minutes?(minutes=(minutes+"").length>1?minutes:"0"+minutes,minutes+":00"):(i=parseInt(minutes/60),minutes=parseInt(minutes%60),minutes=(minutes+"").length>1?minutes:"0"+minutes,i+":"+minutes+":00")):!1}}),woi.filter("facebookTime",["$filter",function(){return function(e){var t=new Date((e||"").replace(/-/g,"/").replace(/[TZ]/g," ")),i=((new Date).getTime()-t.getTime())/1e3,n=Math.floor(i/86400);if(!(isNaN(n)||0>n||n>=31))return 0==n&&(60>i&&"just now"||120>i&&"1 minute ago"||3600>i&&Math.floor(i/60)+" minutes ago"||7200>i&&"1 hour ago"||86400>i&&Math.floor(i/3600)+" hours ago")||1==n&&"Yesterday"||7>n&&n+" days ago"||31>n&&Math.ceil(n/7)+" weeks ago"}}]),woi.filter("fbActivityLike",function(){return function(e){return"1"==e?"Liked!":"Like"}}),woi.filter("featuredVideoTime",["$filter",function(e){var t=e("isoToDate"),i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return function(e){if("undefined"==typeof e)return"";if("coming soon"==e)return e;var r=t(e),o=r.getHours(),s=r.getMinutes(),a=o>=12?"PM":"AM";o%=12,o=o?o:12,s=10>s?"0"+s:s;var l=o+":"+s+" "+a,c=new Date,u=c.getFullYear()==r.getFullYear()&&c.getMonth()==r.getMonth()&&c.getDate()==r.getDate()?"Today":i[r.getDay()]+", "+r.getDate()+([,"st","nd","rd"][/1?.$/.exec(r.getDate())]||"th")+" "+n[r.getMonth()];return l+=" "+u}}]),woi.filter("sideBarTime",["$filter",function(e){var t=e("isoToDate");return function(e){if("undefined"==typeof e)return"";var i=t(e),n=i.getHours(),r=i.getMinutes(),o=n>=12?"PM":"AM";n%=12,n=n?n:12,r=10>r?"0"+r:r;var s=n+":"+r+" "+o;return s}}]),woi.filter("sideBarDateString",["$filter",function(e){var t=e("isoToDate"),i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return function(e){if("undefined"==typeof e)return"";var r=t(e),o=new Date,s=o.getFullYear()==r.getFullYear()&&o.getMonth()==r.getMonth()&&o.getDate()==r.getDate()?"Today":i[r.getDay()]+", "+r.getDate()+([,"st","nd","rd"][/1?.$/.exec(r.getDate())]||"th")+" "+n[r.getMonth()];return s}}]),woi.filter("filterDefaultImage",function(){return function(e){if(!e)return"../assets/img/cast-default.png";var t=e.split("/").pop(),i=t?t.split(".")[0]:"no_image";return("no_profile"==i||"no_image"==i||"profileimage"==i||"null"==i)&&(e="../assets/img/cast-default.png"),e}}),woi.filter("filterDefaultProfileImage",function(){return function(e){if(!e)return"../assets/img/profile-default.png";var t=e.split("/").pop(),i=t?t.split(".")[0]:"no_image";return regular_exp=/^[A-Za-z]+$/,regular_exp.test(e)||(e="/images/upload/"+e),("no_profile"==i||"no_image"==i||"profileimage"==i)&&(e="../assets/img/profile-default.png"),e}}),woi.filter("filterDefaultDiscussionImage",function(){return function(e){if(!e)return"../assets/img/cast-default.png";var t=e.split("/").pop(),i=t?t.split(".")[0]:"no_image";return regular_exp=/^[A-Za-z]+$/,regular_exp.test(e)||(e="/images/upload/"+e),("no_profile"==i||"no_image"==i||"profileimage"==i)&&(e="../assets/img/profile-default.png"),e}}),woi.filter("filterUserName",function(){return function(e){if(!e)return"";var t=e.split("@");return t[0]}}),woi.filter("getNameDay",function(){return function(e,t){var i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return t?n[e]:i[e]}}),woi.filter("getNameMonth",function(){return function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t[e]}}),woi.filter("isLikedText",function(){return function(e){return"0"==e?"Like":"Liked"}}),woi.filter("isoToDate",function(){return function(e){var t=e.substr(0,4),i=e.substr(5,2),n=e.substr(8,2),r=e.substr(11,2),o=e.substr(14,2),s=e.substr(17,2);e.substr(20,2),e.substr(23,2);var a=new Date;return a.setYear(t),a.setDate(n),a.setMonth(i-1),a.setHours(r),a.setMinutes(o),a.setSeconds(s),a}}),woi.filter("likeCount",function(){return function(e){if(e=parseInt(e),angular.isNumber(e)){if(1==e)return" likes it.";if(0>=e)return"Be the first one to like.";var t=e;return t-=1,1==t?" and "+t+" person likes this.":" and "+t+" people liked this."}return"Be the first one to like."}}),woi.filter("loading",function(){return function(e,t){var i={lines:11,length:3,width:2,radius:5,corners:1,rotate:7,color:"#ffffff",speed:.8,trail:33,shadow:!0,hwaccel:!1,className:"spinner",zIndex:1,top:"auto",left:"auto",element:""};if("object"==typeof t&&$.extend(i,t),0==i.element.length)return!1;var n=new Spinner(i).spin();switch(e){case"hide":i.element.hasClass("discussionBody")&&i.element.children().animate({opacity:"1"},50),i.element.find("."+i.className).remove();break;default:i.element.hasClass("discussionBody")&&i.element.children().animate({opacity:"0.3"},50),i.element.append(n.el)}}}),woi.filter("makeURL",function(){return function(e,t){return"channel"==e.toLowerCase()?"#!/channel/"+t:"#!/programme/"+t+"/channel/0"}}),woi.filter("minToHrs",function(){return function(e){var t=Math.floor(e/60),i=e%60,n=Math.floor(t/24),r=t%24;return 0==t&&0==n?i+" minutes":0==n?0==i?1==t?t+" hour":t+" hours":t+" hours and "+i+" minutes":0==i?1==r?n+" days and "+r+" hour":0==r?n+" day"+(1==n?"":"s"):n+" days and "+r+" hours":n+" days, "+r+" hours and "+i+" minutes"}}),woi.filter("momentDiference",function(){return function(e){var t=new Date(e).toUTCString();return(new Date).toUTCString(),moment(t).fromNow()}}),woi.filter("toOrdinal",function(){return function(e){var t=e%100,i=["th","st","nd","rd","th"],n=21>t?4>t?i[t]:i[0]:t%10>4?i[0]:i[t%10];return e+n}}),woi.filter("removeTrailingDash",function(){return function(e){return String(e).substring(0,e.length-3)}}),woi.filter("replaceLinks",function(){return function(e){if(!_.isUndefined(e)){var t=e.match(/\b((http(s?):\/\/)?([a-z0-9\-]+\.)+(MUSEUM|TRAVEL|AERO|ARPA|ASIA|EDU|GOV|MIL|MOBI|COOP|INFO|NAME|BIZ|CAT|COM|INT|JOBS|NET|ORG|PRO|TEL|A[CDEFGILMNOQRSTUWXZ]|B[ABDEFGHIJLMNORSTVWYZ]|C[ACDFGHIKLMNORUVXYZ]|D[EJKMOZ]|E[CEGHRSTU]|F[IJKMOR]|G[ABDEFGHILMNPQRSTUWY]|H[KMNRTU]|I[DELMNOQRST]|J[EMOP]|K[EGHIMNPRWYZ]|L[ABCIKRSTUVY]|M[ACDEFGHKLMNOPQRSTUVWXYZ]|N[ACEFGILOPRUZ]|OM|P[AEFGHKLMNRSTWY]|QA|R[EOSUW]|S[ABCDEGHIJKLMNORTUVYZ]|T[CDFGHJKLMNOPRTVWZ]|U[AGKMSYZ]|V[ACEGINU]|W[FS]|Y[ETU]|Z[AMW])(:[0-9]{1,5})?((\/([a-z0-9_\-\.~]*)*)?((\/)?\?[a-z0-9+_\-\.%=&amp;]*)?)?(#[a-zA-Z0-9!$&'()*+.=-_~:@/?]*)?)/gi),i=String(t),n=i.match(/^http:\/\//);null==n&&(i="http://"+t);var r="<a href="+i+">"+t+"</a>";return e.replace(t,r)}return e}}),woi.filter("twitterTime",["$filter",function(){return function(e){var t;if($("html").hasClass("ie")){var i=e.split(" ");opArr=[i[0]+",",i[2],i[1],i[5],i[3],i[4]],opString=opArr.join(" "),t=new Date(Date.parse(opString))}else t=new Date(Date.parse(e));var n=((new Date).getTime()-t.getTime())/1e3;return n=Math.floor(n/86400),1>=n?"just now":20>n?n+" seconds ago":40>n?"half a minute ago":60>n?"less than a minute ago":90>=n?"one minute ago":3540>=n?Math.round(n/60)+" minutes ago":5400>=n?"1 hour ago":86400>=n?Math.round(n/3600)+" hours ago":129600>=n?"1 day ago":604800>n?Math.round(n/86400)+" days ago":777600>=n?"1 week ago":"on "+t}}]),woi.filter("videoLength",function(){return function(e){if(angular.isUndefined(e))return!1;var t=Math.floor(e/3600);e-=3600*t;var i=Math.floor(e/60);e-=60*i;var n=parseInt(e%60,10);if(0==t)var r=(10>i?"0"+i:i)+":"+(10>n?"0"+n:n);else var r=t+":"+(10>i?"0"+i:i)+":"+(10>n?"0"+n:n);return r}}),woi.filter("watchlisttimeformat",function(){return function(e){return moment(e).format("h:mma, Do MMM")}}),Array.prototype.remove=function(){for(var e,t,i=arguments,n=i.length;n&&this.length;)for(e=i[--n];-1!==(t=this.indexOf(e));)this.splice(t,1);return this},Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(r){if("object"!=typeof r&&"function"!=typeof r||null===r)throw new TypeError("Object.keys called on non-object");var o=[];for(var s in r)e.call(r,s)&&o.push(s);if(t)for(var a=0;n>a;a++)e.call(r,i[a])&&o.push(i[a]);return o}}()),Modernizr.touch)if(navigator.userAgent.match(/Android/i))$("body").on("touchstart",".watchable",function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1});else{window.addEventListener("load",function(){FastClick.attach(document.body)},!1),$(function(){FastClick.attach(document.body)});var xStart,yStart=0;document.addEventListener("touchstart",function(e){xStart=e.touches[0].screenX,yStart=e.touches[0].screenY}),document.addEventListener("touchmove",function(e){var t=Math.abs(e.touches[0].screenX-xStart),i=Math.abs(e.touches[0].screenY-yStart);3*t>i&&e.preventDefault()})}$(document).ready(function(){function e(){var t=$(".moreDropdownTrigger").siblings("ul.dropdown-menu");t.hide(),document.removeEventListener("click",e)}function t(t){t.stopPropagation();var i=$(t.currentTarget),n=i.parent().find(".dropdown-menu"),r=n.is(":hidden");$(".dropdown-menu").hide(),r&&n.show(),document.removeEventListener("click",e),document.addEventListener("click",e)}$('[href="#close"]').live("click",function(e){e.preventDefault(),$(this).parent().fadeOut()}),$(".mobile-number").live("keydown",function(e){var t=e.which,i=[8,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105],n=e.ctrlKey||e.shiftKey||e.altKey;(-1==i.indexOf(t)||n)&&e.preventDefault()}),$("body").on("click",".moreDropdownTrigger",function(e){t(e)})}),woi.controller("MainMenuController",["$scope","$rootScope","$filter","$location","recoAPI","userAPI","userList",function(e,t,i,n){e.$on("highlightChannel",function(){e.currentMenuActive="channels"}),e.$on("highlightMovies",function(){e.currentMenuActive="movies"}),e.$on("highlightTvGuide",function(){e.currentMenuActive="tv-guide"}),e.$on("highlightHome",function(){e.currentMenuActive="home"}),e.$on("highlightApps",function(){e.currentMenuActive="apps"}),e.$on("highlightVideos",function(){e.currentMenuActive="videos"}),e.$on("resetHighlight",function(){e.currentMenuActive="nil"}),e.currentMenuActive=n.path().replace(/\//g,""),e.goTo=function(i){$("#mainSearch").css("background-color","transparent"),$("html").hasClass("ie9")||($("#mainSearch").val(""),$("#searchBoxBottom").val("")),$.browser.msie&&"9.0"==$.browser.version&&($("#mainSearch").val($("#mainSearch").attr("placeholder")),$("#searchBoxBottom").val($("#searchBoxBottom").attr("placeholder"))),t.showinfo=t.showinfo||{},t.showinfo.visible=!1;var n=$("#description-popover");n&&n.hide(),e.currentMenuActive=i;var r=$(".main-nav ul.dropdown-menu");r.hide()},t.stopProp=function(e){e.stopPropagation()}}]),woi.controller("MoviesLandingPageController",["$scope","$rootScope","$filter","$routeParams","userAPI",function(e,t){$("#mainSearch").css("background-color","transparent"),$("html").hasClass("ie9")||($("#mainSearch").val(""),$("#searchBoxBottom").val("")),$.browser.msie&&"9.0"==$.browser.version&&($("#mainSearch").val($("#mainSearch").attr("placeholder")),$("#searchBoxBottom").val($("#searchBoxBottom").attr("placeholder"))),t.$broadcast("highlightMovies",[]),t.movieActiveTab="",e.phoneSidebar="off",e.toggleSidebar=function(t){e.phoneSidebar=t}}]),woi.controller("MoviesListController",["$scope","$rootScope","$filter","$routeParams","$timeout","$compile","userAPI",function(e,t,i,n,r,o,s){var a=i("loading");$spinnerDiv=$(".spin"),a("show",{element:$spinnerDiv}),e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)};var l=function(){e.moviesList=[],e.paginateMovies=[],e.pageNo=1,e.allowRequests=!0,e.scrollValue=300,e.amount=0,e.step=7,e.finishedLoading=!1};l(),e.currentOperatorId=0;var c=(new Date).getFullYear();e.startYear=c-10,e.endYear=c,e.isFavorite=!1,e.castName="",e.currentGenre="",e.filterMenuList=[],e.$on("new-filter-init",function(i,n,o){if(r(function(){t.$broadcast("update-filters:reset")}),"operator"==n)e.currentOperatorId=o;else if("range_slider"==n)e.startYear=o.start,e.endYear=o.end;else if("nav"==n)e.startTime=o.finalStartDate,e.endTime=o.finalEndDate;else{if("all_day"==n)return!1;"filter"==n&&("Favorite"==o?(e.currentGenre="",e.isFavorite=!0):(e.isFavorite=!1,e.currentGenre="All"==o?"":o))}"actors"==n&&(e.castName=o),e.safeApply(function(){l()}),r(function(){e.filterResults()})}),e.loadMoreDetails=function(){return e.scrollValue=e.scrollValue+500,e.paginateMovies.length>=e.moviesList.length?(e.allowRequests&&(e.allowRequests=!1,e.pageNo+=1,e.filterResults()),!1):(e.amount=e.amount+e.step,e.amount>=e.moviesList.length&&(e.amount=e.moviesList.length),e.paginateMovies=e.moviesList.slice(0,e.amount),void 0)},e.filterResults=function(){var i="applicationname=website;headendid="+e.currentOperatorId,n={pageno:e.pageNo,context:i,productionstartyear:e.startYear,productionendyear:e.endYear,fromdatetime:e.startTime,todatetime:e.endTime,isfavMovies:e.isFavorite,castname:e.castName,subgenre:e.currentGenre,userid:t.getUser().userid,noCache:$.now()};!function(i){s.getAllMovies(i,function(n){if(e.allowRequests=!0,i.todatetime!=e.endTime)return!1;if(i.fromdatetime!=e.startTime)return!1;if(i.productionstartyear!=e.startYear||i.productionendyear!=e.endYear)return!1;if(i.castname!=e.castName)return!1;var o="applicationname=website;headendid="+e.currentOperatorId;if(i.context!=o)return!1;if(i.isfavMovies!=e.isFavorite)return!1;if(i.subgenre!=e.currentGenre)return!1;if(i.pageno!=e.pageNo)return!1;if(1==i.pageno&&e.safeApply(function(){l()}),1==e.pageNo){if(!n.allmovies)return t.$broadcast("reset:top-filter"),e.finishedLoading=!0,!1;if(!angular.isArray(n.allmovies.genremoviescount)){if(!angular.isObject(n.allmovies.genremoviescount))return!1;n.allmovies.genremoviescount=[n.allmovies.genremoviescount]}r(function(){t.$emit("update-filters",n.allmovies.genremoviescount)})}if(!n.allmovies)return e.finishedLoading=!0,!1;if(angular.isUndefined(n.allmovies.movieslist)&&"All"!=e.currentGenre){if(e.isFavorite)return e.moviesList=[],e.paginateMovies=[],e.finishedLoading=!0,!1;t.$broadcast("reset:top-filter"),t.$broadcast("new-filter-init","filter","All")}if(!angular.isArray(n.allmovies.movieslist)){if(!angular.isObject(n.allmovies.movieslist))return e.finishedLoading=!0,!1;n.allmovies.movieslist=[n.allmovies.movieslist]}e.finishedLoading=!1;for(var s=0;s<n.allmovies.movieslist.length;s++)e.moviesList.push(n.allmovies.movieslist[s]);e.scrollValue=e.scrollValue-1e3,e.loadMoreDetails()})}(n)},e.toggleFavoriteMovie=function(i,n,l){n.preventDefault(),n.stopPropagation();var c=$(n.currentTarget),u="top center",u=t.device.isTouch&&c.offset().left<125?"top left":"top center";if(!t.isUserLogged()){t.beforeaction.title="Login to Favorite",t.beforeaction.subtitle="Please login to favorite";var d=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:u,at:"bottom center",adjust:{y:5}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){c.parent().parent(".thumb").addClass("active"),c.parent().parent(".minor-details").addClass("active"),c.addClass("active")},hide:function(){c.parent().parent(".thumb").removeClass("active"),c.parent().parent(".minor-details").removeClass("active"),c.removeClass("active")}},content:{text:'<div class="top left popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(t){var s=this;r(function(){s.set("content.text",o(t)(e)),r(function(){s.reposition()})}),e.actionObj={element:c,popconfig:h,success:function(){e.toggleFavoriteMovie(i,n,!0),c.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},h=d();return c.qtip(h).qtip("show"),!1}c.qtip("destroy"),c.parent().parent(".thumb").addClass("active"),c.addClass("loading"),a("show",{element:c});var p={like:"0"==i.isfavorite,programmeid:i.programmeid,userid:t.getUser().userid};s.toggleFavoriteProgramme(p,function(n){return l?(location.reload(),!1):(c.removeClass("loading"),r(function(){c.parent().parent(".thumb").removeClass("active")},1500),a("hide",{element:c}),n.response.responsestatus?(i.isfavorite="0"==i.isfavorite?"1":"0",e.isFavorite&&(e.paginateMovies=_.reject(e.paginateMovies,function(e){return"0"==e.isfavorite}),e.moviesList=_.reject(e.moviesList,function(e){return"0"==e.isfavorite})),"1"==i.isfavorite?t.$broadcast("watchlist::add",i):t.$broadcast("watchlist::FavRem::Remove",i)):alert(n.response.message),void 0)})}}]),woi.controller("MoviesFilterController",["$scope","$rootScope","$filter","$routeParams","userAPI",function(e,t,i){var n=i("loading");$spinnerDiv=$(".spin"),n("show",{element:$spinnerDiv}),e.currentFilter="All",e.filterMenuList=[],e.setFilter=function(i){e.currentFilter=i,t.$broadcast("new-filter-init","filter",i)},e.$on("reset:top-filter",function(){e.currentFilter="All"}),e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},t.$on("update-filters",function(t,i){e.safeApply(function(){e.filterMenuList=i})}),e.$on("update-filters:reset",function(){e.safeApply(function(){e.filterMenuList=[]})})}]),woi.controller("MoviesTvOperatorController",["$scope","$rootScope","$filter","userAPI","tsmAPI",function(e,t,i,n,r){e.allOperators=[],e.selectedOperator,e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},e.update=function(){if(e.allOperators.length>0)return!1;e.safeApply(function(){e.noTvOperators=!1});var i={userid:t.getUser().userid};angular.isDefined(t.userInfo.areaid)&&(i.areaid=t.userInfo.areaid),angular.isDefined(t.userInfo.cityid)&&(i.cityid=t.userInfo.cityid),angular.isDefined(t.userInfo.stateid)&&(i.stateid=t.userInfo.stateid),r.getOperatorList(i,function(t){return t.getoperators?(e.allOperators=t.getoperators.operatorslist,e.paginateOps=e.allOperators.slice(0,8),void 0):(e.noTvOperators=!0,!1)
})},e.viewAllOperators=function(){e.paginateOps=e.allOperators},e.selectOperator=function(i){$("div.qtip:visible").qtip("hide"),e.selectedOperator=i.operator_name;var n=$("#operator-name"),r=$("#mob-operator-name");n.html(i.operator_name),r.html(i.operator_name),t.$broadcast("new-filter-init","operator",i.operator_id)},e.$on("update:location",function(i,n){e.allOperators=[],e.paginateOps=[];var r=t.getUser();return-1==r.userid?!1:(t.userInfo.City=r.City=n.cityname,t.userInfo.areaid=r.areaid=n.areaid,t.userInfo.areatype=r.areatype=n.areatype,t.userInfo.cityid=r.cityid=n.cityid,t.userInfo.cityname=r.cityname=n.cityname,t.userInfo.placename=r.placename=n.placename,t.userInfo.stateid=r.stateid=n.stateid,t.userInfo.statename=r.statename=n.statename,t.userInfo.countryid=r.countryid=n.countryid,$.cookie("userInfo",JSON.stringify(r),{expires:365}),void 0)})}]),woi.controller("AllDayMoviesController",["$scope","$rootScope","$filter","userAPI","tsmAPI",function(e,t){e.allGenres=[],e.genresFilter=[{label:"All Day",value:"allDay"},{label:"Playing Now",value:"playingNow"},{label:"Morning",value:"morning"},{label:"Afternoon",value:"afternoon"},{label:"Prime Time",value:"primeTime"},{label:"Late Night",value:"lateNight"}],e.currentFilter=e.genresFilter[0].label,e.update=function(){return e.allGenres.length>0?!1:(e.allGenres=e.genresFilter,e.paginateGenres=e.allGenres.slice(0,8),void 0)},e.viewAllCategories=function(){e.paginateGenres=e.allGenres},e.selectCategory=function(i){$("div.qtip:visible").qtip("hide"),e.selectedCategory=i.label;var n=$("#allDayName"),r=$("#mobAllDayName");n.html(i.label),r.html(i.label),t.currentTimeFilter=i.value,t.$broadcast("new-filter-init","all_day",i)},e.$on("reset:all-day",function(){"playingNow"==e.currentTimeFilter&&(e.selectCategory({label:"All Day",value:"allDay"}),$("input:radio[name=genreFilter]:nth(0)").attr("checked",!0))})}]),woi.controller("ActorAutoCompleteController",["$scope","$rootScope","$filter","userAPI","autoAPI",function(e,t,i,n,r){e.triggerAutoComplete=function(t,i){return t.length<2?!1:(e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},r.autoCompleteActors({autocompleteword:t},function(t){return void 0==t.response.docs?!1:(e.safeApply(function(){e.autoComplete.data=t.response.docs}),i&&"function"==typeof i&&i(e.autoComplete.data),void 0)}),void 0)},e.callFilter=function(e){t.$broadcast("new-filter-init","actors",e)},e.clickSearch=function(e){var i=$(e.currentTarget),n=i.parent().find("input");return""==n.val()?(alert("Please enter the keyword"),!1):(t.$broadcast("new-filter-init","actors",n.val()),void 0)}}]),woi.controller("RangeSliderController",["$scope","$rootScope","$filter","$routeParams","userAPI",function(e,t){e.yearsFilter=function(e){t.$broadcast("new-filter-init","range_slider",e)}}]),woi.controller("MoviesNavController",["$scope","$rootScope","$filter","$routeParams","$timeout","userAPI",function(e,t,i,n,r){e.toggleTab=function(i,n){n=t.currentTimeFilter,e.currentTab=i,t.$broadcast("movieLanding::tabChanged",i);var r=new Date,o=r.getFullYear(),s=r.getMonth()+1,a=r.getDate(),l=r.getHours(),c=r.getMinutes();if("this_week"==i){var u=o+"-"+s+"-"+a+" "+l+":"+c,d=moment(),h=d.day(6),p=h.year(),f=h.month()+1,m=h.date(),g=h.hours(),v=h.minutes(),y=p+"-"+f+"-"+m+" "+g+":"+v;angular.isDefined(n)?"allDay"==n?(u=o+"-"+s+"-"+a+" "+0+":"+0,y=p+"-"+f+"-"+m+" "+23+":"+59):"playingNow"==n?(u=o+"-"+s+"-"+a+" "+l+":"+c,y=p+"-"+f+"-"+m+" "+(g+1)+":"+59):"morning"==n?(u=o+"-"+s+"-"+a+" "+6+":"+0,y=p+"-"+f+"-"+m+" "+12+":"+0):"afternoon"==n?(u=o+"-"+s+"-"+a+" "+12+":"+0,y=p+"-"+f+"-"+m+" "+19+":"+59):"primeTime"==n?(u=o+"-"+s+"-"+a+" "+20+":"+0,y=p+"-"+f+"-"+m+" "+23+":"+59):"lateNight"==n&&(u=o+"-"+s+"-"+a+" "+0+":"+0,y=p+"-"+f+"-"+m+" "+5+":"+59):y=p+"-"+f+"-"+m+" "+23+":"+59,e.startTime=u,e.endTime=y}else if("today"==i){var u=o+"-"+s+"-"+a+" "+l+":"+c,y=o+"-"+s+"-"+a+" "+23+":"+59;angular.isDefined(n)&&("allDay"==n?(u=o+"-"+s+"-"+a+" "+0+":"+0,y=o+"-"+s+"-"+a+" "+23+":"+59):"playingNow"==n?(u=o+"-"+s+"-"+a+" "+l+":"+c,y=o+"-"+s+"-"+a+" "+(l+1)+":"+59):"morning"==n?(u=o+"-"+s+"-"+a+" "+6+":"+0,y=o+"-"+s+"-"+a+" "+12+":"+0):"afternoon"==n?(u=o+"-"+s+"-"+a+" "+12+":"+0,y=o+"-"+s+"-"+a+" "+19+":"+59):"primeTime"==n?(u=o+"-"+s+"-"+a+" "+20+":"+0,y=o+"-"+s+"-"+a+" "+23+":"+59):"lateNight"==n&&(u=o+"-"+s+"-"+a+" "+0+":"+0,y=o+"-"+s+"-"+a+" "+5+":"+59)),e.startTime=u,e.endTime=y}else{e.$broadcast("reset:all-day");var d=moment(),h=d.add("days",1),p=h.year(),f=h.month()+1,m=h.date(),g=h.hours(),v=h.minutes(),u=p+"-"+f+"-"+m+" "+0+":"+0,y=p+"-"+f+"-"+m+" "+23+":"+59;angular.isDefined(n)&&("allDay"==n?(u=p+"-"+f+"-"+m+" "+0+":"+0,y=p+"-"+f+"-"+m+" "+23+":"+59):"playingNow"==n?(u=p+"-"+f+"-"+m+" "+g+":"+v,y=p+"-"+f+"-"+m+" "+(g+1)+":"+59):"morning"==n?(u=p+"-"+f+"-"+m+" "+6+":"+0,y=p+"-"+f+"-"+m+" "+12+":"+0):"afternoon"==n?(u=p+"-"+f+"-"+m+" "+12+":"+0,y=p+"-"+f+"-"+m+" "+19+":"+59):"primeTime"==n?(u=p+"-"+f+"-"+m+" "+20+":"+0,y=p+"-"+f+"-"+m+" "+23+":"+59):"lateNight"==n&&(u=p+"-"+f+"-"+m+" "+0+":"+0,y=p+"-"+f+"-"+m+" "+5+":"+59)),e.startTime=u,e.endTime=y}var b={finalStartDate:e.startTime,finalEndDate:e.endTime};t.$broadcast("new-filter-init","nav",b)},r(function(){e.toggleTab("this_week")}),e.$on("new-filter-init",function(t,i,n){"all_day"==i&&r(function(){e.toggleTab(e.currentTab,n.value)})}),e.$on("movieLanding::tabChanged",function(e,i){t.movieActiveTab=i})}]),woi.controller("MyAccountNavController",["$scope","$rootScope","$location","$route","$filter","userAPI","tsmAPI","$timeout","autoAPI",function(e,t,i,n,r,o,s,a,l){if(e.genreEdit,e.allLanguages=[],e.languages=[],e.paginate=[],e.amountDefault=10,e.amount=e.amountDefault,e.step=10,e.canUpload=!0,e.selectedLanguages=[],e.edit,t.$broadcast("handleResetEmit"),e.allOperators=[],e.locationString=null,e.popoverAttributes={language:"languagename",genre:"hybridgenre"},e.favoriteAttributes={language:"favlanguage",genre:"favGenre"},e.selectedOperator=null,-1==t.getUser().userid)return i.path("/home"),n.reload(),!1;if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/)&&(e.canUpload=!1),/iP(hone|od|ad)/.test(navigator.platform)){var c=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),u=[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3]||0,10)];u[0]<=5&&(e.canUpload=!1)}e.activeTab="myaccount",e.genresFilter=[],e.currentFilter="Genre",e.genresFilter=[],e.constructObject=function(){return e.genresFilter.length>0?(e.populateGenres(),!1):(o.getUserGenreList({userid:t.getUser().userid},function(t){return t.favhybridgenre?(e.genresFilter=t.favhybridgenre.hybridgenrelist,_.map(e.genresFilter,function(e){e.label=e.groupname,e.value=e.displayvalue,e.favGenre=e.genrefavorite,e.sortOrder=parseInt(e.displaykey)}),e.populateGenres(),void 0):!1}),void 0)},e.populateGenres=function(){e.allGenres=_.sortBy(e.genresFilter,function(e){return e.sortOrder}),e.genreEdit||(e.allGenres=_.select(e.allGenres,function(e){return"1"==e.favGenre})),e.paginateGenres=e.allGenres.slice(0,8),e.paginateGenres.length>0&&e.genreEdit?$(".genrePopoverEdit").qtip("show","click"):e.paginateGenres.length>0&&!e.genreEdit&&$(".genrePopoverShow").qtip("show","click"),e.$$phase||e.$apply()},e.loadMoreGenres=function(){e.paginateGenres=e.allGenres},e.changeTab=function(t){if(e.activeTab=t,"editaccount"==t&&(e.userAccountDetails=$.extend(!0,{},e.showUserDetails),e.newpassword="",e.passConfirm="",$firstpwd=$("input.pwd-img-placeholder"),$secondpwd=$("input.cpwd-img-placeholder"),$("html").hasClass("ie9")&&($firstpwd.attr("placeholder","").css("background","#fff url('assets/img/newpassword.png') no-repeat 20px center").bind("keyup",function(){$(this).css("background","#fff")}),$secondpwd.attr("placeholder","").css("background","#fff url('assets/img/confirmpassword.png') no-repeat 20px center").bind("keyup",function(){$(this).css("background","#fff")})),$("input.mobileno").focus().blur(),$.browser.msie&&"9.0"==$.browser.version)){var i=$("input.input-box");$.each(i,function(e,t){$(t).attr("value")!=$(t).attr("placeholder")&&$(this).css({color:"#787878"})}),i.live("blur",function(){$(this).css({color:"#999"})}),i.live("keypress",function(){$(this).css({color:"#787878"})})}},e.toggleLanguageGenre=function(t,i,n,r){var o=i;if(i=i.toLowerCase(),t.currentTarget.checked)e.userAccountDetails[e.popoverAttributes[n]]=_.isNull(e.userAccountDetails[e.popoverAttributes[n]])||"null"==e.userAccountDetails[e.popoverAttributes[n]]?o:e.userAccountDetails[e.popoverAttributes[n]]+","+o,r[e.favoriteAttributes[n]]="1";else{var s=e.userAccountDetails[e.popoverAttributes[n]].split(",");s=_.reject(s,function(e){return $.trim(e.toLowerCase())==i}),e.userAccountDetails[e.popoverAttributes[n]]=s.join(","),r[e.favoriteAttributes[n]]="0"}},o.getUserAccountDetails({userid:t.getUser().userid},function(i){return i.userprofile?(e.userAccountDetails=i.userprofile.user,t.$broadcast("got-user-details",e.userAccountDetails),_.isNull(i.userprofile.user.password)||(e.userAccountDetails.password=Base64.decode(i.userprofile.user.password)),_.isNull(e.userAccountDetails.name)&&(e.userAccountDetails.name=e.userAccountDetails.email.split("@")[0]),e.passConfirm,e.newpassword,e.showUserDetails=$.extend(!0,{},e.userAccountDetails),i.userprofile.user.headendlist?(angular.isArray(i.userprofile.user.headendlist.headendinfo)||angular.isObject(i.userprofile.user.headendlist.headendinfo)&&(i.userprofile.user.headendlist.headendinfo=[i.userprofile.user.headendlist.headendinfo]),e.userOperatorsList=i.userprofile.user.headendlist.headendinfo,_.map(e.userOperatorsList,function(e){"0"==e.pincode&&(e.pincode="")})):e.userOperatorsList=[],void 0):!1}),$(function(){jQuery("#imageUploadForm").ajaxForm(function(i){d(!1),i=JSON.parse(i),e.userImage="/images/upload/"+i.imageName,$("#imageFile").val(""),e.userImagePath="",e.userAccountDetails.imagepath=i.imageName,e.userAccountDetails.userimage=i.imageName,e.showUserDetails.imagepath=i.imageName,e.showUserDetails.userimage=i.imageName,e.$apply();var n={userid:t.getUser().userid,imagepath:e.userAccountDetails.userimage};o.updateUserDetails(n,function(){})})}),e.cancelImage=function(){$("#imageFile").val(""),e.userImagePath="",e.userAccountDetails.userimage=e.showUserDetails.userimage},e.showProfileImage=function(t){return"edit"==t?_.isUndefined(e.userAccountDetails)||_.isUndefined(e.userAccountDetails.userimage)||_.isNull(e.userAccountDetails.userimage)?"assets/img/profile-avatar.png":"/images/upload/"+e.userAccountDetails.userimage:_.isUndefined(e.showUserDetails)||_.isUndefined(e.showUserDetails.userimage)||_.isNull(e.showUserDetails.userimage)?"assets/img/profile-avatar.png":"/images/upload/"+e.showUserDetails.userimage},e.uploadPic=function(){""!=$("#imageFile").val()?($("#imageUploadForm").submit(),d(!0)):$("#uploadImageMessage").text("Please select an image.").show()},e.changedImage=function(t){var i=$("#imageFile").val().match(/^.*\.(.*)$/)[1];return _.isUndefined(i)||-1==$.inArray(i.toLowerCase(),["jpg","jpeg","png","gif","bmp"])?(e.userImagePath="",$("#imageFile").val(""),e.$apply(),$("#uploadImageMessage").text("Only Image file is allowed").show(),!1):!$("html").hasClass("ie9")&&t.target.files[0].size>2097152?(e.userImagePath="",$("#imageFile").val(""),e.$apply(),$("#uploadImageMessage").text("maximum file size allowed is 2 MB").show(),!1):($("#uploadImageMessage").hide(),e.userImagePath=$("#imageFile").val(),e.$apply(),void 0)},e.showMessage=function(){alert("Your browser doesn't support uploading images")};var d=function(e){var t=r("loading"),i=$(".upload-btn .spinner"),n=$("span.upload-text"),o=$(".upload-btn"),s=n.text();console.log("imageLoadingIndicator"),console.log(s),s?n.text(""):n.text("Upload"),e?t("show",{element:i}):t("hide",{element:i}),o.toggleClass("active")},h=function(){var t=$("#changePasswordMsg");return t.hide(),e.newpassword!=e.passConfirm?(t.addClass("error-msg").text("Password and Confirm Password doesn't match").show(),!1):(e._password=e.passConfirm,e._password.length<6?(t.addClass("error-msg").text("Password must be minimum 6 characters").show(),!1):!0)},p=function(){var t=$("#changePasswordMsg");t.hide();var i=e.userAccountDetails.mobile;return i?isNaN(i)||10!=i.length?(t.addClass("error-msg").text("Please enter valid mobile number").show(),!1):!0:!0},f=function(){var t=$("#usernameMessage");t.hide();var i=e.userAccountDetails.name,n=/^[A-Za-z0-9 ]*$/;return i&&n.test(i)?!0:(t.addClass("error-msg").text("Please enter valid username").slideDown(),!1)},m=function(){var e=$("#changePasswordMsg");e.hide();var t=$("input[type=email].email");return t.hasClass("ng-invalid-email")?(e.addClass("error-msg").text("Please enter valid Email ID").show(),!1):!0};e.changePassword=function(){var i=r("loading"),n=$("#changePasswordMsg"),s=$("#passwordConfirmation");if(!h())return!1;var a={Password:e._password,userid:t.getUser().userid};n.text(""),n.addClass("account-spinner"),i("show",{element:n}),o.updateUserDetails(a,function(e){i("hide",{element:n}),n.removeClass("account-spinner"),"true"==e.response.responsestatus?(s.slideDown(),setTimeout(function(){s.slideUp()},2e3)):n.addClass("error-msg").text("Error in updating password").show()})},e.triggerAutoComplete=function(t,i){return t.length<2?!1:(e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},l.autoCompleteLocation({placename:t},function(t){e.safeApply(function(){e.autoComplete.data=t.response.docs}),i&&"function"==typeof i&&i(e.autoComplete.data)}),void 0)},e.addConnection=function(){var i=r("loading"),n=$("#addConnectionMsg"),s=$("#addConnectionConfirmation");$("#editConnectionDetails .outer-connection-wrapper");var a=$("#editConnectionDetails .connection-wrapper");a.find("input:visible").filter(function(){return""==$.trim(this.value)});var l={},c=a.find("input.pincode:visible").val();if(""!=$.trim(c)){if(isNaN(c)||6!=c.length)return n.addClass("error-msg").text("Please enter valid pincode number").show(),!1;l.pincode=c}if(_.isNull(e.selectedOperator))return n.addClass("error-msg").text("TV Operator is not specified").show(),!1;var u=a.find("input.cityname:visible").val();if(""!=$.trim(u)){if(_.isNull(e.locationString))return n.addClass("error-msg").text("Please select a valid city").show(),!1;l.cityname=u}var d=a.find("input.roomname").val();""!=$.trim(d)&&(l.roomname=d);var h="applicationname=website;headendid="+e.selectedOperator.operator_id;additional_params={userid:t.getUser().userid,headendinfoid:0,isdelete:!1,context:h},l=$.extend(additional_params,l),n.text(""),n.addClass("account-spinner"),i("show",{element:n}),o.updateHeadendInfo(l,function(t){i("hide",{element:n}),n.removeClass("account-spinner"),"true"==t.response.responsestatus?(s.slideDown(),setTimeout(function(){s.slideUp(),l.headendinfoid=t.response.headendinfoid,l.headendname=e.selectedOperator.operator_name,e.selectedOperator=null,e.locationString=null,e.userOperatorsList.push(l),e.$apply(),a.find("input").val(""),a.find(".input-content.operator").text("TV Operator"),$("input[name=tvoperator]").attr("checked",!1)},2e3)):n.addClass("error-msg").text("Error in updating password").show()})},e.deleteConnection=function(i,n){var r={userid:t.getUser().userid,headendinfoid:i.headendinfoid,isdelete:!0};$("#connectionsList").find(".connection-wrapper .slide-connection-wrapper").eq(n).slideUp(),$("#connectionsList").find(".connection-wrapper .close-connection").eq(n).hide(),o.updateHeadendInfo(r,function(){e.userOperatorsList=_.reject(e.userOperatorsList,function(e){return e.headendinfoid==i.headendinfoid})})},e.saveChanges=function(){if($(".account-edit"),!f())return $(".input-box.username").focus(),!1;if(!p())return $(".input-box.mobileno").focus(),!1;if(!m())return $("input[type=email].email").focus(),!1;var i=function(e){return _.isNull(e)?"":e},n=function(e){return _.isNull(e)?"none":""==$.trim(e)?"none":$.trim(e)},r={name:i(e.userAccountDetails.name),mobilenumber:n(e.userAccountDetails.mobile),hybridgenre:n(e.userAccountDetails.hybridgenre),languages:n(e.userAccountDetails.languagename),userid:t.getUser().userid,Password:e.userAccountDetails.password};if(e.newpassword||e.passConfirm){if(!h())return $(".input-box[type=password]").first().focus(),!1;r.Password=e._password}if(e.userAccountDetails.email!=e.showUserDetails.email&&(r.emailid=i(e.userAccountDetails.email)),!_.isNull(e.selectedOperator)){var s=e.addConnection();if(!_.isUndefined(s)&&0==s)return!1}o.updateUserDetails(r,function(n){return"false"==n.response.responsestatus?($("#changePasswordMsg").addClass("error-msg").text(n.response.message).slideDown(),$("body,html").queue("fx",[]).animate({scrollTop:$("#changePasswordMsg").offset().top},500),!1):(t.$broadcast("filter:account-language-list",e.userAccountDetails.languagename),e.changeTab("myaccount"),$("body").scrollTop(0),""!==i(e.userAccountDetails.email)?t.userInfo.emailaddress=e.userAccountDetails.email:e.userAccountDetails.email=t.userInfo.emailaddress,t.userInfo.mobile=r.mobile,t.userInfo.name=r.name,$.cookie("userInfo",JSON.stringify(t.userInfo),{expires:365}),e.showUserDetails=$.extend(!0,{},e.userAccountDetails),void 0)})};var g={};e.populateOperators=function(){return e.allOperators.length>0?!1:(e.allOperators=[],g={userid:t.getUser().userid,stateid:0,cityid:0},s.getOperatorList(g,function(t){return t.getoperators?(e.allOperators=t.getoperators.operatorslist,e.allOperators=addData(e.allOperators),e.paginateOps=e.allOperators.slice(0,8),void 0):!1}),void 0)},e.viewAllOperators=function(){e.paginateOps=e.allOperators},e.selectOperator=function(t){$("div.qtip:visible").qtip("hide"),e.selectedOperator=t,$("#editConnectionDetails .input-content.operator").text(t.operator_name)},e.getLanguages=function(){var i,n=t.getUser();return i=-1==n.userid?{}:{stateid:0,cityid:0,userid:n.userid},e.allLanguages.length>0?(e.languages=e.allLanguages,e.edit||(e.languages=_.select(e.allLanguages,function(e){return 1==e.favlanguage})),e.$apply(),e.loadMoreLanguages(),!1):(o.userFavoriteLanguage(i,function(t){return t.favlanguage?(e.allLanguages=t.favlanguage.languagelist,e.languages=t.favlanguage.languagelist,e.edit||(e.languages=_.select(e.languages,function(e){return 1==e.favlanguage})),e.loadMoreLanguages(),void 0):(e.noLanguagesResponse=!0,!1)}),void 0)},e.getRefreshedLanguageList=function(){var i,n=t.getUser();i=-1==n.userid?{}:{stateid:0,cityid:0},o.userFavoriteLanguage(i,function(t){e.allLanguages=t.favlanguage.languagelist})},e.loadMoreLanguages=function(){e.paginate=e.languages.slice(0,e.amountDefault),$(".account-language-list").scrollTop($(".account-language-list")[0].scrollHeight),e.amount=e.amount>e.languages.length?e.languages.length:e.amount,e.paginate=e.languages.slice(0,e.amount),e.paginate=e.languages.slice(0,e.amount+e.step),e.amount+=e.step},e.$on("favorite:language-added",function(){o.getUserAccountDetails({userid:t.getUser().userid},function(t){return t.userprofile?(e.showUserDetails.languagename=t.userprofile.user.languagename,"editaccount"!=e.activeTab&&(e.userAccountDetails.languagename=t.userprofile.user.languagename),e.getRefreshedLanguageList(),e.$$phase||e.$apply(),void 0):!1})})}]),woi.controller("ProgressBarController",["$scope","$rootScope",function(e){e.profileCompletion=0,e.$on("got-user-details",function(t,i){e.profileCompletion=i.profilecompleteness})}]),woi.controller("SettingsController",["$scope","$rootScope","userAPI",function(e,t,i){e.$on("user-settings:update",function(n,r,o){var s={},a="on"==o?!0:!1;"social_sharing"==r?s={userid:t.getUser().userid,updatetype:"social sharing",updatevalue:a}:"language_filter"==r?s={userid:t.getUser().userid,updatetype:"language filter",updatevalue:a}:"sms"==r?s={userid:t.getUser().userid,updatetype:"sms reminder",updatevalue:a}:"email"==r?s={userid:t.getUser().userid,updatetype:"email reminder",updatevalue:a}:"reminder"==r?s={userid:t.getUser().userid,updatetype:"repeate reminder",updatevalue:a}:"profile"==r?s={userid:t.getUser().userid,updatetype:"profile settings",profileSettings:o}:"reminder_time"==r&&(s={userid:t.getUser().userid,updatetype:"reminder time",priortimeforreminder:o}),function(n){i.updateUserSettings(n,function(i){if(console.log("the passed in request params were ",n),console.log("rootScope user details = ",t.getUser()),!i.response.responsestatus)return"social sharing"==n.updatetype?e.$broadcast("revert-switch:socialsharing"):"language filter"==n.updatetype?e.$broadcast("revert-switch:languagefilter"):"sms reminder"==n.updatetype?e.$broadcast("revert-switch:sms"):"email reminder"==n.updatetype?e.$broadcast("revert-switch:email"):"repeate reminder"==n.updatetype&&e.$broadcast("revert-switch:reminder"),!1;var r=n.updatevalue?"true":"false";console.log("upated status ... == ",r),"social sharing"==n.updatetype?t.userInfo.SocialSharing=r:"language filter"==n.updatetype?t.userInfo.LanguageFilter=r:"sms reminder"==n.updatetype?t.userInfo.isSMSReminder=r:"email reminder"==n.updatetype&&(t.userInfo.isEmailReminder=r),$.cookie("userInfo",JSON.stringify(t.userInfo),{expires:365}),console.log("rootScope user details AFTER UPDATION = ",t.getUser())})}(s)})}]),woi.controller("AccountSocialSharingController",["$scope","$rootScope","userAPI",function(e,t){e.$on("got-user-details",function(t,i){e.onOffSocialSharingValue="true"==i.socialsharing.toLowerCase()?"on":"off",e.initSwitch(e.onOffSocialSharingValue.toLowerCase())}),e.toggleSwitch=function(e){t.$broadcast("user-settings:update","social_sharing",e)},e.$on("revert-switch:socialsharing",function(){e.toggleState()})}]),woi.controller("ProfileSettingsController",["$scope","$rootScope","userAPI",function(e,t){e.$on("got-user-details",function(t,i){e.activeChoice=i.profilesettings}),e.changeChoice=function(i){e.activeChoice=i,t.$broadcast("user-settings:update","profile",e.activeChoice)}}]),woi.controller("LanguageFilterController",["$scope","$rootScope","userAPI",function(e,t){e.$on("got-user-details",function(t,i){e.onOffLanguageValue="true"==i.languagefilter.toLowerCase()?"on":"off",e.initSwitch(e.onOffLanguageValue.toLowerCase())}),e.toggleSwitch=function(e){t.$broadcast("user-settings:update","language_filter",e)},e.$on("revert-switch:languagefilter",function(){e.toggleState()})}]),woi.controller("SmsController",["$scope","$rootScope","userAPI",function(e,t){e.$on("got-user-details",function(t,i){e.onOffSmsValue="true"==i.issmsreminder.toLowerCase()?"on":"off",e.initSwitch(e.onOffSmsValue.toLowerCase())}),e.toggleSwitch=function(e){t.$broadcast("user-settings:update","sms",e)},e.$on("revert-switch:sms",function(){e.toggleState()})}]),woi.controller("EmailController",["$scope","$rootScope","userAPI",function(e,t){e.$on("got-user-details",function(t,i){e.onOffEmailValue="true"==i.isemailreminder.toLowerCase()?"on":"off",e.initSwitch(e.onOffEmailValue.toLowerCase())}),e.toggleSwitch=function(e){t.$broadcast("user-settings:update","email",e)},e.$on("revert-switch:email",function(){e.toggleState()})}]),woi.controller("ReminderPopoverController",["$scope","$rootScope","userAPI",function(e,t){e.constructObject=function(){e.timeDuraions=[{label:"15 minutes",value:15},{label:"30 minutes",value:30},{label:"1 hour",value:60},{label:"2 hours",value:120},{label:"1 day",value:1440},{label:"2 days",value:2880}]},e.selectedReminderTime=function(i){$("div.qtip:visible").qtip("hide"),$("#selectReminder").html(i.label),e.userAccountDetails.priortimeforreminder=i.value,t.$broadcast("user-settings:update","reminder_time",i.value)}}]),woi.controller("RemindersController",["$scope","$rootScope","$filter","$routeParams","userAPI",function(e,t){e.$on("got-user-details",function(t,i){e.onOffReminderValue="true"==i.reminderrepeatoption.toLowerCase()?"on":"off",e.initSwitch(e.onOffReminderValue.toLowerCase())}),e.toggleSwitch=function(e){t.$broadcast("user-settings:update","reminder",e)},e.$on("revert-switch:reminder",function(){e.toggleState()})}]),woi.controller("AccountSideBarController",["$scope","$rootScope","$filter","$location","userAPI",function(e,t,i,n,r){e.activeTab="friends",e.changeTab=function(t){e.activeTab=t},e.paginateFriendList=[],e.paginateFriendList=[],e.amountFriendList=0,e.stepFriendList=5,e.showMoreFriendList=!0,e.loadMoreFriends=function(){return e.friendsList.length==e.paginateFriendList.length?!1:(e.amountFriendList=e.amountFriendList+e.stepFriendList,e.amountFriendList>=e.friendsList.length&&(e.showMoreFriendList=!1,e.amountFriendList=e.friendsList.length),e.paginateFriendList=e.friendsList.slice(0,e.amountFriendList),0==e.paginateFriendList.length&&e.changeTab("popular"),void 0)},r.facebookActivity({userid:t.getUser().userid},function(t){e.friendsList=t.getfacebookactivity.facebookactivitylist,_.each(e.friendsList,function(e){e.totalLikes=e.totallikes}),e.loadMoreFriends()}),e.paginatePopularList=[],e.popularList=[],e.amountPopularList=0,e.stepPopularList=5,e.showMorePopularList=!0,e.loadMorePopular=function(){return e.popularList.length==e.paginatePopularList.length?!1:(e.amountPopularList=e.amountPopularList+e.stepPopularList,e.amountPopularList>=e.popularList.length&&(e.showMorePopularList=!1,e.amountPopularList=e.popularList.length),e.paginatePopularList=e.popularList.slice(0,e.amountPopularList),void 0)};var o,s=t.getUser();if(-1==s.userid)e.popularList=[],o={userid:0,countryid:0,stateid:0,cityid:0,areaid:0};else{var a=angular.isDefined(s.countryid)?s.countryid:0,l=angular.isDefined(s.stateid)?s.stateid:0,c=angular.isDefined(s.cityid)?s.cityid:0,u=angular.isDefined(s.areaid)?s.areaid:0;o={userid:s.userid,countryid:a,stateid:l,cityid:c,areaid:u}}r.getPopularFeed(o,function(t){return t.getpopularfeed?(e.popularList=t.getpopularfeed.popularfeedlist,e.loadMorePopular(),void 0):(e.popularList=[],!1)}),e.facebookShare=function(e,t,o){var s;if(console.log("ITEM----.....",e),o){var a="#!/programme/"+e.programmeid+"/channel/";a+=angular.isDefined(e.channelid)?e.channelid:"0",s=n.host()+"/"+a,console.log("-------shareURL NEW === ",s)}else{var l=i("makeURL"),a=l(e.contenttype,e.contentid);s=n.host()+"/"+a,console.log("-------shareURL === ",s)}if("0"==e.isliked){var c={contenttype:"program",contentid:e.contentid?e.contentid:e.programmeid,removelike:!0,videoid:e.contentid?e.contentid:e.videoid};r.addRemoveLike(c,function(t){if(!t.response.responsestatus)return alert("Error sending request"),!1;e.totalLikes++,e.isliked="1";var i={method:"stream.publish",link:s,user_message_prompt:"Post this to your wall?"},n=e.imageurl||e.imagefilepath;angular.isDefined(n)&&(i.picture=n);var r=e.forumtitle||e.programmename;angular.isDefined(r)&&(i.name=r);var o=e.contentname||e.channelname;angular.isDefined(o)&&(i.caption=o);var a=e.feeddescription||e.contextualtext;angular.isDefined(a)&&(i.description=a),console.log("params....",i),FB.ui(i)})}else{var c={contenttype:"program",contentid:e.contentid?e.contentid:e.programmeid,removelike:!1,videoid:e.contentid?e.contentid:e.videoid};r.addRemoveLike(c,function(t){return t.response.responsestatus?(e.totalLikes--,e.isliked="0",void 0):(alert("Error sending request"),!1)})}}}]),woi.controller("AccountSliderController",["$rootScope","$scope","userAPI",function(e,t,i){function n(e){var i=e+t.noOfItems;r.find(".item").removeClass("active").eq(i).addClass("active")}t.trendings=[],t.currentSlide=0,t.noOfItems=0;var r=$("#trending"),o=(r.find(".recommended-container"),r.find(".recommended-slider")),s=o.position().left;t.slide=function(e){var i=e?t.currentSlide+1:t.currentSlide-1,r=o.find(".item").outerWidth();return i==t.trendings.length-(t.noOfItems-1)||0>i?!1:(t.currentSlide=i,n(t.currentSlide),o.animate({left:-(i*r-s)+"px"},500),void 0)},i.yourRecs({userid:e.getUser().userid},function(e){return e.getrecommendationpreferences?(t.trendings=e.getrecommendationpreferences.recommendationlist,setTimeout(function(){var e=r.find(".recommended-wrapper").outerWidth(),i=o.find(".item").outerWidth();t.noOfItems=Math.floor(e/i),n(0)},5),void 0):!1})}]),woi.controller("ProfileMainController",["$rootScope","$scope","$location","$routeParams","$filter","userAPI",function(e,t,i,n,r,o){$("#mainSearch").css("background-color","transparent"),$("html").hasClass("ie9")||($("#mainSearch").val(""),$("#searchBoxBottom").val(""));var s=i.path().split("/")[1];if(-1==e.getUser().userid)return i.path("/home"),$route.reload(),!1;e.$broadcast("resetHighlight",[]),t.profile={watchlist:{sectionLoaded:!1,isActive:!1,data:[],currentPage:1},reminders:{sectionLoaded:!1,isActive:!1,data:[],currentPage:1},favorites:{sectionLoaded:!1,isActive:!1,data:[],currentPage:1},feeds:{sectionLoaded:!1,loading:!0,isActive:!1,data:[],allData:[],currentPage:1,nullReached:!1}},t.activeFeed="latest";var a=n.publicid||e.getUser().userid;!!n.publicid;var l={sectionLoaded:!1,allData:[],currentPage:1,pageLength:"myprofile"==s?3:6,loading:!0,nullReached:!1},c={sectionLoaded:!1,allData:[],currentPage:1,pageLength:"myprofile"==s?3:6,loading:!0,nullReached:!1};!function(){t.profile.watchlist.sectionLoaded||o.getWatchlist({userid:a,pageno:t.profile.watchlist.currentPage},function(e){return t.profile.watchlist.sectionLoaded=!0,e.watchlistdata?(t.profile.watchlist.data=addData(e.watchlistdata.watchlist).slice(0,6),u(),d(),void 0):(u(),d(),!1)})}(),function(){var e=r("loading"),t=$(".loadingIndicator");e("hide",{element:t}),e("show",{element:t})}();var u=function(){t.profile.reminders.sectionLoaded||o.getUserReminders({userid:a,pageno:t.profile.reminders.currentPage},function(e){return t.profile.reminders.sectionLoaded=!0,e.getalluserreminders?(t.profile.reminders.data=t.profile.reminders.data.length?t.profile.reminders.data.concat(addData(e.getalluserreminders.alluserreminderslist).slice(0,6)):addData(e.getalluserreminders.alluserreminderslist).slice(0,6),t.profile.favorites.sectionLoaded||h(),void 0):(t.profile.favorites.sectionLoaded||h(),!1)})},d=function(){t.profile.favorites.sectionLoaded||o.getUserFavorites({userid:a,pageno:t.profile.favorites.currentPage},function(e){return t.profile.favorites.sectionLoaded=!0,e.getfavoriteprogrammes?(t.profile.favorites.data=addData(e.getfavoriteprogrammes.favoriteprogrammeslist).slice(0,6),t.profile.reminders.sectionLoaded||h(),void 0):(t.profile.reminders.sectionLoaded||h(),!1)})},h=function(){t.profile.feeds.data=t.profile.feeds.allData=[],t.profile.feeds.loading=!0,o.getLatestFeeds({userid:a,pageno:c.currentPage},function(e){c.sectionLoaded=!0,c.loading=!1,t.profile.feeds.loading=!1,"latest"==t.activeFeed&&(t.profile.feeds.sectionLoaded=!0),e.getlatestfeed||(c.nullReached=!0),e.getlatestfeed&&(c.allData=c.allData.concat(addData(e.getlatestfeed.latestfeedlist))),"latest"==t.activeFeed&&(t.profile.feeds.nullReached=c.nullReached,t.profile.feeds.allData=c.allData,t.profile.feeds.data=t.profile.feeds.allData.slice(0,c.currentPage*c.pageLength),f())})},p=function(){t.profile.feeds.data=t.profile.feeds.allData=[],t.profile.feeds.loading=!0,o.facebookActivity({userid:a,pageno:l.currentPage},function(e){l.sectionLoaded=!0,l.loading=!1,t.profile.feeds.loading=!1,"friends"==t.activeFeed&&(t.profile.feeds.sectionLoaded=!0),e.getfacebookactivity||(l.nullReached=!0),e.getfacebookactivity&&(l.allData=l.allData.concat(addData(e.getfacebookactivity.facebookactivitylist))),"friends"==t.activeFeed&&(t.profile.feeds.nullReached=l.nullReached,t.profile.feeds.allData=l.allData,t.profile.feeds.data=t.profile.feeds.allData.slice(0,l.currentPage*l.pageLength),m())})},f=function(){for(var e=c.allData.length,t=0;e>t;t++)!function(e){var t=c.allData[e],i=t.contenttype,n=t.contentid;if("channel"==i||"program"==i){if(!i||!n)return!1;o.getUsersWhoLikeThisFeed({contentid:n,contenttype:i},function(t){if(!t||!t.getuserfeed)return!1;var i=addData(t.getuserfeed.userfeedlist);c.allData[e].feedLikes={showSection:i.length?!0:!1,likeCount:i.length>1?i.length-2:0,displayUsers:function(){var e="";return i[0]&&i[0].username&&(e+=i[0].username),i[1]&&i[1].username&&(e+=", "+i[1].username),e}(),userImages:function(){for(var e=[],t=0;t<i.length;t++)e.push({userimage:i[t].userimage,username:i[t].username});return e}()}})}}(t)},m=function(){for(var e=l.allData.length,t=0;e>t;t++)!function(e){var t=l.allData[e],i=t.contenttype,n=t.contentid;if("channel"==i.toLowerCase()||"program"==i.toLowerCase()){if(!i||!n)return!1;o.getUsersWhoLikeThisFeed({contentid:n,contenttype:i},function(t){if(!t||!t.getuserfeed)return!1;var i=addData(t.getuserfeed.userfeedlist);l.allData[e].feedLikes={showSection:i.length?!0:!1,likeCount:i.length>1?i.length-2:0,displayUsers:function(){var e="";return i[0]&&i[0].username&&(e+=i[0].username),i[1]&&i[1].username&&(e+=", "+i[1].username),e}(),userImages:function(){for(var e=[],t=0;t<i.length;t++)e.push({userimage:i[t].userimage,username:i[t].username});
return e}()}})}}(t)},g=function(){var e=(c.currentPage+1)*c.pageLength,i=c.allData.length;t.profile.feeds.data.length,c.currentPage++,e>i?(c.loading=!0,h()):t.profile.feeds.data=t.profile.feeds.allData.slice(0,e)},v=function(){var e=(l.currentPage+1)*l.pageLength,i=l.allData.length;t.profile.feeds.data.length,l.currentPage++,e>i?(l.loading=!0,p()):t.profile.feeds.data=t.profile.feeds.allData.slice(0,e)},y=function(){t.profile.watchlist.isActive=!1,t.profile.reminders.isActive=!1,t.profile.favorites.isActive=!1,t.profile.feeds.isActive=!1};t.openTab=function(e,t){var i=$(".profile_item_content"),n=e?$($(e.currentTarget).siblings(".profile_item_content").get(0)):$(i.get(0));y(),i.slideUp(200),t.isActive=!0,n.stop().queue("fx",[]).slideDown(200,function(){e&&"A"!=e.target.nodeType&&$("body, window").animate({scrollTop:n.position().top-100},200)})},t.switchFeeds=function(e,i){if(e.preventDefault(),i==t.activeFeed)return!1;switch(t.profile.feeds.loading=!1,i){case"latest":c.sectionLoaded?(t.profile.feeds.sectionLoaded=c.sectionLoaded,t.profile.feeds.nullReached=c.nullReached,t.profile.feeds.allData=c.allData,t.profile.feeds.data=t.profile.feeds.allData.slice(0,6)):h(),t.activeFeed="latest";break;case"friends":l.sectionLoaded?(t.profile.feeds.sectionLoaded=l.sectionLoaded,t.profile.feeds.nullReached=l.nullReached,t.profile.feeds.allData=l.allData,t.profile.feeds.data=t.profile.feeds.allData.slice(0,6)):p(),t.activeFeed="friends"}},t.displayFeedComment=function(e){$(".testimonialContent .post-comment, .testimonialContent .post-reply").slideUp(),o.getTrendingDiscussion({forumid:e.contentid},function(t){return t.gettrendingdiscussion?(t=addData(t.gettrendingdiscussion.trendinglist),e.threadcount++,e.ownComment=t[0],void 0):!1})},t.toggleComment=function(e){var t=$(e.currentTarget),i=t.parents(".testimonialContent").find(".post-comment, .post-reply"),n=t.parents(".content-wrapper").find(".post-comment, .post-reply");n.each(function(){console.log(i),console.log(this),this!=i&&(console.log("Closing this element"),$(this).slideUp().removeClass("opened"))}),i.stop().queue("fx",[]).slideToggle().toggleClass("opened")},t.loadMoreFeeds=function(){switch(t.activeFeed){case"latest":c.nullReached||g();break;case"friends":l.nullReached||v()}},t.goToFeed=function(t){e.feedTab=t,i.path("/socialfeed")},t.facebookShare=function(e,t,n){var s;if(n)s=e;else{var a=r("makeURL"),l=a(e.contenttype,e.contentid);s=i.host()+"/"+l}"Like"==t.target.innerHTML?o.addRemoveLike({contenttype:"video",contentid:e.contentid?e.contentid:e.programmeid,removelike:!0,videoid:e.contentid?e.contentid:e.videoid},function(e){e.response.responsestatus?(t.target.innerHTML="Liked!",FB.ui({method:"stream.publish",link:s,user_message_prompt:"Post this to your wall?"})):alert("Error sending request")}):o.addRemoveLike({contenttype:"video",contentid:e.contentid,removelike:!1,videoid:e.contentid},function(e){e.response.responsestatus?t.target.innerHTML="Like":alert("Error sending request")})},t.openTab(null,t.profile.watchlist),t.playVideo=function(t){e.playThisVideo=t.videourl,e.playThisVideoObj=t,_.isUndefined(e.playThisVideo)&&!_.isUndefined(t.videoUrl)&&(e.playThisVideo=t.videoUrl),e.playThisVideoObj.videourl=e.playThisVideo,i.path("/programme/"+t.programmeid+"/channel/"+t.channelid)},t.showVideoButton=function(e){return!_.isUndefined(e.videoid)}}]),woi.controller("ProfileSidebarController",["$rootScope","$scope","$routeParams","userAPI",function(e,t,i,n){e.sidebar={userData:{dataLoaded:!1,data:[]},recentSearches:{dataLoaded:!1,visibleData:[],allData:[],showMore:!0,amount:0,step:4},recentBrowsed:{dataLoaded:!1,showMore:!0,visibleData:[],allData:[],amount:0,step:2},questionnaire:{dataLoaded:!1,data:[]}},t.loadMoreBrowsed=function(){var t=e.sidebar.recentBrowsed.allData,i=e.sidebar.recentBrowsed;return t.length?(i.amount=i.amount+i.step,i.amount>=t.length&&(i.showMore=!1,i.amount=t.length),i.visibleData=t.slice(0,i.amount),void 0):!1},t.loadMoreSearches=function(){var t=e.sidebar.recentSearches.allData,i=e.sidebar.recentSearches;return t.length?(i.amount=i.amount+i.step,i.amount>=t.length&&(i.showMore=!1,i.amount=t.length),i.visibleData=t.slice(0,i.amount),void 0):!1};var r=i.publicid||e.getUser().userid;!function(){e.sidebar.recentSearches.dataLoaded||n.getRecentSearches({userid:r},function(i){return e.sidebar.recentSearches.dataLoaded=!0,i.gebwowsedprogramme?(e.sidebar.recentSearches.allData=addData(i.gebwowsedprogramme.bwowsedprogrammelist),t.loadMoreSearches(),void 0):!1})}(),function(){e.sidebar.recentBrowsed.dataLoaded||n.getRecentlyBrowsed({userid:r},function(i){return e.sidebar.recentBrowsed.dataLoaded=!0,i.gebwowsedprogramme?(e.sidebar.recentBrowsed.allData=addData(i.gebwowsedprogramme.bwowsedprogrammelist),t.loadMoreBrowsed(),void 0):!1})}(),function(){e.sidebar.userData.dataLoaded||n.getUserAccountDetails({userid:r},function(t){return e.sidebar.userData.dataLoaded=!0,t.userprofile?(e.sidebar.userData.data=t.userprofile.user,void 0):!1})}(),t.$on("update:location",function(t,i){e.sidebar.userData.data.city=i.cityname})}]),window.console&&console.log||function(){for(var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],i=t.length,n=window.console={};i--;)n[t[i]]=e}(),$(function(){$.breakpoint({condition:function(){return window.matchMedia("screen and (max-width:768px)").matches},first_enter:function(){},enter:function(){$("body").addClass("tablet"),$("#trending").insertBefore($("#fb-activity"))},exit:function(){$("body").removeClass("tablet")}}),$.breakpoint({condition:function(){return window.matchMedia("screen and (max-width:480px)").matches},first_enter:function(){},enter:function(){$("body").addClass("phone");var e=$(".main-nav");e.find(".watchlist button").text("Watchlist"),e.find(".search a").removeClass("hide");var t=$(".featured");t.find(".actions .favourite").removeClass("btn btn-small").addClass("icon-search").text(""),t.find(".actions .schedule").removeClass("btn btn-small").addClass("icon-time").text(""),t.find(".actions .add-to").removeClass("btn btn-small").addClass("icon-plus").text("")},exit:function(){$("body").removeClass("phone")}})}),jQuery.fn.center=function(){return this.css("position","absolute"),this.css("top",Math.max(0,($(window).height()-$(this).outerHeight())/2+$(window).scrollTop())+"px !important"),this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px !important"),this},jQuery.fn.extend({scrollToMe:function(e){return!1}}),woi.controller("ProgrammeController",["$scope","$rootScope","$routeParams","$timeout","$location","userAPI","$http","$filter",function(e,t,i,n,r,o,s){t.$broadcast("handleResetEmit"),$("#mainSearch").css("background-color","transparent"),$("html").hasClass("ie9")||($("#mainSearch").val(""),$("#searchBoxBottom").val("")),console.log("proge page === $rootScope.programmeStartTime == ",t.programmeStartTime),t.thisStartTime=t.programmeStartTime?t.programmeStartTime.replace("T"," ").split("+")[0]:"",t.programmeStartTime=null,(angular.isUndefined(i.channelid)||!i.channelid.length)&&(i.channelid=0),e.channelid=i.channelid,e.programmeid=i.programmeid;var a=function(){var n={programmeid:i.programmeid,channelid:i.channelid,starttime:t.thisStartTime,userid:t.getUser().userid};console.log("params === ",n),e.fullProgrammeDetail=[],o.fullProgrammeDetail(n,function(i){if(_.isUndefined(i.getfullprogrammedetails))return e.fullProgrammeDetail=null,!1;e.fullProgrammeDetail=i.getfullprogrammedetails.fullprogrammedetails,e.fullProgrammeDetail.popularityindex||(e.fullProgrammeDetail.popularityindex="0"),t.programmeDetailForWatchlist=e.fullProgrammeDetail;var r=e.fullProgrammeDetail.programmeid;e.fullProgrammeDetail.showExclusive=-1!=t.exclusives.indexOf(r)?!0:!1,t.exclusives=[],e.findDuration=function(e,t){var i=0;return e&&t?(t=t.substring(0,t.length-6).replace(/\-/g,"/").replace(/[T|Z]/g," "),e=e.substring(0,e.length-6).replace(/\-/g,"/").replace(/[T|Z]/g," "),minutes=Math.abs(new Date(t).getTime()-new Date(e).getTime()),minutes=Math.floor(minutes/1e3/60),isNaN(minutes)?"??:??":60>minutes?(minutes=(minutes+"").length>1?minutes:"0"+minutes,minutes+" minutes"):(i=parseInt(minutes/60),minutes=parseInt(minutes%60),hr_text=i>1?" hours":" hour",minute_text=minutes>1?" minutes":" minute",minutes=(minutes+"").length>1?" "+minutes:" 0"+minutes,i+hr_text+minutes+minute_text)):"??:??"},e.$on("sync:nextSchedulePrograms",function(t,i){_.isUndefined(i)||(e.syncReminderObject=_.some(i,function(e){return"1"==e.isreminder}),e.syncReminderObject?e.fullProgrammeDetail.isreminder="1":o.fullProgrammeDetail(n,function(t){e.fullProgrammeDetail.isreminder=t.getfullprogrammedetails.fullprogrammedetails.isreminder,e.$$phase||e.$apply()}),e.$$phase||e.$apply())}),e.fullProgrammeDetail.duration=e.findDuration(e.fullProgrammeDetail.starttime,e.fullProgrammeDetail.endtime),t.channelNo=e.fullProgrammeDetail.lcn,console.log("$rootScope.channelNo = ",t.channelNo),e.aboutTabText="View More";var s=[{keyLabel:"Channel",keyValue:"channelname"},{keyLabel:"Duration",keyValue:"duration"},{keyLabel:"Genre",keyValue:"genre"},{keyLabel:"Language",keyValue:"languagename"},{keyLabel:"Actor",keyValue:"actor"},{keyLabel:"Director",keyValue:"director"},{keyLabel:"Rating",keyValue:"mpaarating"},{keyLabel:"Released",keyValue:"released"},{keyLabel:"Production Year",keyValue:"productionyear"},{keyLabel:"Sub-genre",keyValue:"subgenre"}];e.detailsToInclude=[];for(var a=0;a<s.length;a++)e.fullProgrammeDetail[s[a].keyValue]&&"0"!=e.fullProgrammeDetail[s[a].keyValue]&&"00 minutes"!=e.fullProgrammeDetail[s[a].keyValue]&&"??:??"!=e.fullProgrammeDetail[s[a].keyValue]&&e.detailsToInclude.push({key:s[a].keyLabel,val:e.fullProgrammeDetail[s[a].keyValue]});e.detailsToIncludePaginate=e.detailsToInclude.slice(0,6),e.showMoreButton=!0,e.detailsToIncludePaginate.length==e.detailsToInclude.length&&(e.showMoreButton=!1),e.showMore=function(){"Hide"==e.aboutTabText?(e.detailsToIncludePaginate=e.detailsToInclude.slice(0,6),e.aboutTabText="View More"):(e.aboutTabText="Hide",e.detailsToIncludePaginate=e.detailsToInclude),setTimeout(function(){$(".right-about").css("height",$(".left-about").css("height"))},0)},e.twitterHandle=i.getfullprogrammedetails.fullprogrammedetails.twitterhandle,e.facebookHandle=i.getfullprogrammedetails.fullprogrammedetails.facebookhandle,console.log("$scope.twitterHandle = ",e.twitterHandle),console.log("$scope.facebookHandle = ",e.facebookHandle),null==e.facebookHandle||"null"==e.facebookHandle?e.showFacebook=!1:e.facebookHandle.length>1?(e.showFacebook=!0,c()):e.showFacebook=!1,null==e.twitterHandle||"null"==e.twitterHandle?e.showTwitter=!1:e.twitterHandle.length>1?(e.showTwitter=!0,l()):e.showTwitter=!1,e.affinityindex<2?(e.fullProgrammeDetail.affinitytext="Poor",e.fullProgrammeDetail.affinityicon="poor"):e.affinityindex>4?(e.fullProgrammeDetail.affinitytext="Excellent",e.fullProgrammeDetail.affinityicon="ex"):(e.fullProgrammeDetail.affinitytext="Good",e.fullProgrammeDetail.affinityicon="ex"),setTimeout(function(){$(".right-about").css("height",$(".left-about").css("height"))},0)})};a(),e.programmeCast=[],e.paginate=[],e.amount=0,e.step=5,e.showMore=!0,e.loadMore=function(){return e.programmeCast.length?(e.amount=e.amount+e.step,e.amount>=e.programmeCast.length&&(e.amount=e.programmeCast.length),e.paginate=e.programmeCast.slice(0,e.amount),void 0):!1},o.castNcrew({programmeid:i.programmeid},function(t){return t.getprogrammecast?(e.programmeCast=addData(t.getprogrammecast.programmecast),e.loadMore(),void 0):(e.programmeCast=[],!1)}),e.infotab=0;var l=function(){s({method:"JSONP",url:"http://api.twitter.com/1/statuses/user_timeline.json",params:{screen_name:e.twitterHandle,count:"10",callback:"JSON_CALLBACK"}}).success(function(t){return console.log("got twitter response"),e.twitterResponse=t,e.twitterResponse&&e.twitterResponse.length?(e.paginateTwitter=e.twitterResponse.slice(0,2),void 0):(e.showTwitter=!1,void 0)}).error(function(t,i){e.data=t||"Request failed",e.status=i})},c=function(){o.getFBAccessToken({},function(t){console.log("got the access_token .... ",t);var i="access_token="+t.access_token;s({method:"JSONP",url:"https://graph.facebook.com/"+e.facebookHandle+"/posts?"+i,params:{limit:10,callback:"JSON_CALLBACK"}}).success(function(t){return console.log("fb response === ",t),e.facebookResponse=t.data,e.facebookResponse&&e.facebookResponse.length?(e.paginateFb=e.facebookResponse.slice(0,2),void 0):(e.showFacebook=!1,void 0)}).error(function(){})}),s({method:"JSONP",url:"http://graph.facebook.com/"+e.facebookHandle+"/?fields=picture&type=small",params:{callback:"JSON_CALLBACK"}}).success(function(t){return"undefined"==typeof t.picture?(e.facebookProfilePic="",void 0):(e.facebookProfilePic=t.picture.data.url,void 0)}).error(function(){e.facebookProfilePic=""})};e.paginateTwitter=[],e.twitterText="View More",e.loadMoreTweets=function(){"View More"==e.twitterText?(e.twitterText="View Less",e.paginateTwitter=e.twitterResponse):(e.twitterText="View More",e.paginateTwitter=e.twitterResponse.slice(0,2))},e.paginateFb=[],e.fbText="View More",e.loadMoreFb=function(){"View More"==e.fbText?(e.fbText="View Less",e.paginateFb=e.facebookResponse):(e.fbText="View More",e.paginateFb=e.facebookResponse.slice(0,2))},e.shareLinkOnFb=function(){if("true"!=t.getUser().SocialSharing)return alert("Social Sharing is disabled. Please enable Social Sharing in Myaccounts to share the watchlist"),!1;console.log("check this....",e.fullProgrammeDetail);var i=r.absUrl(),n=e.fullProgrammeDetail.programmename,o=e.fullProgrammeDetail.subgenre,s=e.fullProgrammeDetail.synopsis,a=e.fullProgrammeDetail.imagefilepath;FB.ui({method:"stream.publish",link:i,user_message_prompt:"Post this to your wall?",picture:a,name:n,caption:o,description:s})},t.$on("programme:syncReminder",function(t,i){var n=i.item,r=n.programmeid,o=(n.channelid,n.reminderid),s=n.starttime,a=n.isreminder;e.fullProgrammeDetail.programmeid==r&&e.fullProgrammeDetail.starttime==s&&(e.fullProgrammeDetail.isreminder=a,e.fullProgrammeDetail.reminderid=o)})}]),woi.controller("ProgrammeFeaturedVideosController",["$scope","$rootScope","$routeParams","userAPI","$timeout",function(e,t,i,n,r){n.programmeVideoGallery({programmeid:i.programmeid,userid:t.getUser().userid},function(n){var r=$(".featured").hide();if(!n.getprogrammevideogallery)return!1;var o=10;e.featuredVideos=[];var s=addData(n.getprogrammevideogallery.programmevideogallery),a=[];_.isUndefined(t.playThisVideoObj)||""==t.playThisVideoObj||(s=addData(t.playThisVideoObj)),_.each(s,function(e){e&&e.channelid==i.channelid?a.unshift(e):a.push(e)});var l=0;e.featuredVideos=a.slice(0,o);var c=0,u=!1;_.each(e.featuredVideos,function(e,i){e.slideid=l++,_.isUndefined(t.playThisVideo)||""==t.playThisVideo||t.playThisVideo==e.videourl&&(c=i,u=!0)}),setTimeout(function(){r.show(),r.find(".item:eq(0)").addClass("active"),r.find(".item-content:eq(0)").addClass("active");var e,i="";r.find(".carousel").carousel({interval:!1}).on("slide",function(){e=parseInt(r.find(".carousel-inner .active .player").attr("data-isyoutube"));var t=r.find(".carousel-inner .active .player iframe").attr("id");i=r.find(".carousel-inner .active .player"),console.log(r.find(".carousel-inner .active")),e&&($.browser.msie?callPlayer(t,function(){callPlayer(t,"stopVideo"),i.html(""),injectYT(r.find(".carousel-inner .active"),r.find(".carousel-inner .active").attr("data-youtubeurl"))}):callPlayer(t,function(){callPlayer(t,"stopVideo")}))}),r.find(".carousel").carousel({interval:!1}).on("slid",function(){var t=parseInt(r.find(".carousel-inner .active").attr("data-isvideo")),n=parseInt(r.find(".carousel-inner .active").attr("data-isyoutube"));r.find(".carousel-inner .active").attr("data-youtubeurl"),e||i.html(""),t?n||r.find(".carousel-inner .active span.play").show():r.find(".carousel-inner .active span.play").hide();var o=r.find(".carousel-inner .active").attr("data-slideid");$(".item-content").removeClass("active"),$(".item-content[data-actionsid="+o+"]").addClass("active")}),_.isUndefined(t.playThisVideoObj)||""==t.playThisVideoObj||(r.find(".carousel .item:nth-child("+(c+1)+") .play").hide(),r.find(".carousel .item:nth-child("+(c+1)+") .play").trigger("click"),t.playThisVideo="",t.playThisVideoObj="")},5)}),e.$on("appendAndPlayThisVideo",function(){var i=t.playThisVideoObj;i.slideid=e.featuredVideos.length,e.featuredVideos.push(i);var n=i.slideid;t.playThisVideoObj="",setTimeout(function(){var e=$(".featured");e.find(".carousel").carousel(n),e.find(".carousel .item:nth-child("+(n+1)+") .play").hide(),e.find(".carousel .item:nth-child("+(n+1)+") .player").trigger("click")},1e3),t.playThisVideo=""}),e.$on("PlaythisVideo",function(){e.featuredVideos=[t.playThisVideoObj],r(function(){var e=$(".featured");e.find(".carousel .item:nth-child(1)").addClass("active"),e.find(".carousel-actions .item-content:nth-child(1)").addClass("active"),$("body,html").queue("fx",[]).animate({scrollTop:e.find(".carousel .item:nth-child(1)").offset().top},500),e.find(".carousel .item:nth-child(1) .play").hide(),e.find(".carousel .item:nth-child(1) .play").trigger("click"),e.find(".carousel .item:nth-child(1)")},5),t.playThisVideo="",t.playThisVideoObj="",e.$$phase||e.$apply()}),t.$on("programme:syncReminder",function(t,i){var n=i.item,r=n.programmeid,o=(n.channelid,n.reminderid),s=n.starttime,a=n.isreminder;_.each(e.featuredVideos,function(e){e.programmeid==r&&e.starttime==s&&(e.isreminder=a,e.reminderid=o)})})}]),woi.controller("SimilarProgrammesController",["$scope","$rootScope","$routeParams","$filter","userAPI",function(e,t,i,n,r){e.recommended=[],e.paginate=[],e.amount=0,e.step=2,e.showMore=!0,e.loadMore=function(){return e.similarProgrammes.length?(e.amount=e.amount+e.step,e.amount>=e.similarProgrammes.length&&(e.showMore=!1,e.amount=e.similarProgrammes.length),e.paginate=e.similarProgrammes.slice(0,e.amount),void 0):!1},r.similarProgrammes({programmeid:i.programmeid,userid:t.getUser().userid},function(t){return t.getsimilarprogramme?(e.similarProgrammes=t.getsimilarprogramme.similarprogrammelist,e.loadMore(),void 0):!1})}]),woi.controller("NextScheduleController",["$scope","$rootScope","$routeParams","$filter","userAPI","$timeout",function(e,t,i,n,r,o){e.recommended=[],e.paginate=[],e.loading=!0,e.loadError=!1,e.amount=0,e.step=4,e.showMore=!0;var s=n("loading");s("show",{element:$(".next-schedule #loadIndicator")}),e.loadMore=function(){return e.nextSchedule.length?(e.amount=e.amount+e.step,e.amount>=e.nextSchedule.length&&(e.showMore=!1,e.amount=e.nextSchedule.length),e.paginate=e.nextSchedule.slice(0,e.amount),void 0):!1},e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},e.getNextSchedule=function(){r.nextSchedule({programmeid:i.programmeid,userid:t.getUser().userid},function(i){return i.getmoreprogrammeschedule&&i.getmoreprogrammeschedule.moreprogrammeschedulelist?(e.nextSchedule=addData(i.getmoreprogrammeschedule.moreprogrammeschedulelist),o(function(){_.each(e.nextSchedule,function(e){e.programmeid=e.ProgrammeID,_.isUndefined(t.programmeDetailForWatchlist)||(e.programmename=t.programmeDetailForWatchlist.programmename,e.imagefilepath=t.programmeDetailForWatchlist.imagefilepath,e.iswatchlist=t.programmeDetailForWatchlist.iswatchlist,e.isfavorite=t.programmeDetailForWatchlist.isfavorite)},1e3),t.programmeDetailForWatchlist=void 0,e.loadMore(),s("hide",{element:$(".next-schedule #loadIndicator")}),e.loading=!1}),void 0):(s("hide",{element:$(".next-schedule #loadIndicator")}),$(".next-schedule #loadIndicator").css("display","none"),e.loadError=!0,!1)})},e.getNextSchedule(),t.$on("programme:syncReminder",function(t,i){var n=i.item,r=n.programmeid,o=(n.channelid,n.reminderid),s=n.starttime,a=n.isreminder;_.each(e.nextSchedule,function(e){e.programmeid==r&&e.starttime==s&&(e.isreminder=a,e.reminderid=o)})})}]),woi.controller("AvailableInController",["$scope","$rootScope","$routeParams","$filter","userAPI",function(e,t,i,n,r){e.availableIn=[],e.showAvailableIn=!0,e.cutoff=8,r.availableIn({programmeid:i.programmeid,channelid:i.channelid},function(t){return t.getstoresavailability?(e.availableIn=addData(t.getstoresavailability.storesavailability),e.availableIn=e.availableIn.slice(0,e.cutoff),e.showAvailableIn=!0,void 0):(e.showAvailableIn=!1,!1)})}]),woi.controller("FriendsController",["$scope","$rootScope","$routeParams","$filter","userAPI",function(e,t,i,n,r){e.recommended=[],e.paginate=[],e.friends=[],e.amount=0,e.step=5,e.showMore=!0,t.device.isTablet&&(e.step=30),t.device.isMobile&&(e.step=20),e.loadMore=function(){return e.friends.length?(e.amount=e.amount+e.step,e.amount>=e.friends.length&&(e.showMore=!1,e.amount=e.friends.length),e.paginate=e.friends.slice(0,e.amount),void 0):!1},r.friends({programmeid:i.programmeid},function(t){return t.getpeoplielikeprogram?(e.friends=addData(t.getpeoplielikeprogram.peoplielikeprogram),e.loadMore(),void 0):!1})}]),woi.controller("ProgramDetailsTabController",["$scope","$rootScope","$routeParams","$timeout","$filter","recoAPI","userAPI",function(e,t,n,r,o,s,a){function l(){if(T)return!1;t.isUserLogged()||(w=!0);var e=w&&x&&C&&k;return r(function(){for(var e=$tabTriggers.length,t=0;e>t;t++)if($tabTriggers.eq(t).is(":visible")){c(t);break}}),e}function c(e){h.removeClass("active"),h.eq(e).addClass("active"),f.removeClass("less"),p.hide().eq(e).show(),m=e,u(e)}function u(e){var t=p.eq(e),i=t.find(".item"),n=i.length,r=i.filter(":visible").length,o=Modernizr.mq("screen and (min-width:768px) and (max-width:1024px)")?4:6;n>0&&n>o?(n==r&&f.addClass("less"),f.show()):f.hide()}function d(t){e.elements(),v.show();var i=f.filter(":visible").length;i&&(f.addClass("loading"),g("show",{element:f}));var n=p.eq(t),r=Modernizr.mq("screen and (min-width:768px) and (max-width:1024px)")?4:6,o=n.find(".item"),s=Math.ceil(o.filter(":visible").length/r),a=(s+1)*r;return o.filter(":visible").length==o.length?(f.removeClass("less"),o.hide().filter(":lt("+r+")").show(),g("hide",{element:f}),f.removeClass("loading"),!1):(o.filter(":lt("+a+")").show(),g("hide",{element:f}),f.removeClass("loading"),a>=o.length&&o.filter(":visible").length==o.length&&f.addClass("less"),void 0)}e.channelid=n.channelid;var h,p,f,m,g=o("loading"),v=$(".channel-tabs").hide();e.isweb=!0,e.isepi=!0,e.ispromo=!0;var y=o("addZero"),b=o("isoToDate"),w=!1,x=!1,C=!1,k=!1,T=!1;e.elements=function(){h=v.find(".tab-btn"),p=v.find(".tab"),f=v.find(".more"),$tabTriggers=v.find("> ul li")},e.elements(),e.programs={yourrecs:[],promos:[],episodes:[],web:[]},e.loadYourRecs=function(){t.isUserLogged()&&a.yourChannelRecs({userid:t.getUser().userid,channelid:e.channelid},function(t){if(w=!0,l(),!t.getsimilarchannelprogramme)return e.programs.yourrecs=0,setTimeout(function(){d(0)},5),!1;for(e.programs.yourrecs=addData(t.getsimilarchannelprogramme.similarchannelprogrammelist),i=0;i<e.programs.yourrecs.length;i++)e.programs.yourrecs[i].timestring=abbrMonth(e.programs.yourrecs[i].timestring);e.programs.yourrecs=_.reject(e.programs.yourrecs,function(e){return e.programmeid==n.programmeid}),setTimeout(function(){d(0)},5)})},e.loadPromos=function(){a.promos({programmeid:n.programmeid},function(t){if(x=!0,l(),!t.getpromovideos)return e.ispromo=!1,setTimeout(function(){d(1)},5),!1;for(e.ispromo=!0,e.programs.promos=addData(t.getpromovideos.promovideolist),i=0;i<e.programs.promos.length;i++)e.programs.promos[i].timestring=abbrMonth(e.programs.promos[i].timestring);setTimeout(function(){d(1)},5)})},e.loadEpisodes=function(){a.episodesList({programmeid:n.programmeid},function(t){if(C=!0,l(),!t.getepisodevideos)return e.isepi=!1,e.tablet_visibility(),setTimeout(function(){d(2)},5),!1;for(e.isepi=!0,e.programs.episodes=addData(t.getepisodevideos.episodevideolist),e.tablet_visibility(),i=0;i<e.programs.episodes.length;i++);setTimeout(function(){d(2)},5)})},e.loadWeb=function(){a.webVideos({programmeid:n.programmeid},function(t){if(k=!0,l(),!t.getwebvideos)return e.isweb=!1,e.tablet_visibility(),setTimeout(function(){d(3)},5),!1;for(e.isweb=!0,e.programs.web=addData(t.getwebvideos.webvideolist),e.tablet_visibility(),i=0;i<e.programs.web.length;i++)e.programs.web[i].timestring=abbrMonth(e.programs.web[i].timestring);setTimeout(function(){d(3)},5)})},e.init=function(){e.loadPromos(),e.loadEpisodes(),e.loadWeb(),t.isUserLogged()&&e.loadYourRecs()},h.live("click",function(t){t.preventDefault(),e.elements(),T=!0;var i=h.index(this);e.currentActiveTab="",0==i?e.currentActiveTab="recs":1==i?e.currentActiveTab="promos":2==i?e.currentActiveTab="episodes":3==i&&(e.currentActiveTab="web"),c(i)}),f.click(function(t){e.elements(),d(f.index(this)),t.preventDefault()}),e.addToFavorite=function(e){a.toggleFavoriteProgramme({like:"0"==e.isfavorite,programmeid:e.programmeid},function(t){t.response.responsestatus?e.isfavorite="0"==e.isfavorite?"1":"0":alert(t.response.message)})},e.addToReminder=function(e){if("0"==e.isreminder){var t=b(e.starttime);a.addReminder({channelid:e.channelid,programmeid:e.programmeid,starttime:""+t.getFullYear()+y(t.getMonth()+1)+y(t.getDate())+y(t.getHours())+y(t.getMinutes())},function(e){e.response.responsestatus||alert(e.response.message)})}else removeReminder.addReminder({reminderid:e.reminderid},function(){})},e.addToWatchlist=function(e){if(t.isUserLogged())var i={watchliststatus:!0};_.isUndefined(e.videoid)?(i.contenttype="program",i.contentid=e.programmeid,i.videoid=0):(i.contenttype="video",i.contentid=e.programmeid,i.videoid=e.videoid),a.toggleWatchlist(i,function(t){t.response.responsestatus?e.iswatchlist="0"==e.iswatchlist?"1":"0":alert(t.response.message)})},e.tablet_visibility=function(){Modernizr.mq("screen and (min-width:768px) and (max-width:1024px)")&&(e.isweb&&e.isepi?(e.isweb=!1,e.isepi=!0):e.isepi?(e.isepi=!0,e.isweb=!1):(e.isweb=!0,e.isepi=!1))}}]),woi.controller("ProgrammeDiscussionController",["$scope","$rootScope","$routeParams","userAPI",function(e,t,i,n){e.programmeid=i.programmeid,e.post={title:"",message:""},e.postDiscussion=function(){alert(1),n.createDiscussion({forumtype:"Program",forumtypeid:e.programmeid,forumtitle:e.post.title,comments:e.post.message},function(e){var t="";e.response.forumid&&(t=e.response.forumid)})}}]),woi.controller("DiscussionSliderController",["$scope","$rootScope","$routeParams",function(e){e.canShow=!1,e.startDiscussion=function(){e.canShow=!0,$("#discussionsBox").slideToggle()}}]),woi.controller("QuotationController",["$scope","$rootScope","$routeParams","userAPI",function(e,t,i,n){n.quotation({},function(t){return t.getprogrameditorialpickdiscussion?(e.quote=t.getprogrameditorialpickdiscussion.programeditorialpickdiscussion,void 0):!1})}]),woi.controller("QuestionnaireController",["$rootScope","$scope","$filter","userAPI",function(e,t,i,n){function r(){e.questionnaireModel={questionnaireLoaded:!1,questionBank:[]},e.displayedQuestion={},o()}function o(){n.getQuestionnaireQuestions({},function(t){return e.questionnaireModel.questionnaireLoaded=!0,t&&t.userfeedbackquestions?(e.questionnaireModel.questionBank=addData(t.userfeedbackquestions.questionnaire),e.displayedQuestion=e.questionnaireModel.questionBank[e.currentQuestion],s(),void 0):!1})}function s(){angular.forEach(e.questionnaireModel.questionBank,function(t,i){e.questionnaireModel.questionBank[i].defaulttext=t.defaulttext?t.defaulttext.split(","):"",x.indexOf(t.questiontype)>-1&&(e.questionnaireModel.questionBank[i].displayClass="qType_"+t.questiontype),e.questionnaireModel.questionBank[i].userid=e.getUser().userid,e.questionnaireModel.questionBank[i].applicationname="sourcebits",t.autocompleteurl&&(e.questionnaireModel.questionBank[i].autocompleteurl=l("autocompleteurl",t)),function(t){e.questionnaireModel.questionBank[i].placeholder=t.concat()}(e.questionnaireModel.questionBank[i].defaulttext),t.getapiurl&&(e.questionnaireModel.questionBank[i].getapiurl=a("getapiurl",t))})}function a(e,t){var i=t[e],n=(Object.keys(t),c("{",i)),r=c("}",i),o=u(n,r),s=d(o,i),a=h(s,t),l=p(s,a,i);return l}function l(t,i){var n=i||e.displayedQuestion,r=n[t],o=c("{",r),s=c("}",r),a=u(o,s),l=d(a,r),h=p(l,["{ac_key}"],r);return h}function c(e,t){for(var i=t.length,n=[],r=0;i>r;r++)t[r]==e&&n.push(r);return n}function u(e,t){if(e.length!=t.length)return!1;for(var i=[],n=e.length,r=0;n>r;r++)i[r]=[e[r],t[r]];return i}function d(e,t){for(var i=e.length,n=[],r=0;i>r;r++){var o=t.substring(e[r][0]+1,e[r][1]);o.length&&(n[r]=o)}return n}function h(e,t){for(var i=e.length,n=[],r=0;i>r;r++)if(e[r].indexOf(",")>-1){for(var o=e[r].split(","),s=o.length,a=[],l="",c=0;s>c;c++)t[o[c]]&&(a[c]=t[o[c]]);l=a.join(","),l&&(n[r]=l)}else n[r]=t[e[r]];return n}function p(e,t,i){for(var n=e.length,r=i,o=0;n>o;o++){var s="{"+e[o]+"}";r=r.replace(s,t[o])}return r}function f(e){e?(w?(g("hide",{element:y}),b.html(w),y.append(b),w=""):(g("hide",{element:y}),b.html(""),g("show",{element:y})),y.fadeIn(50)):(y.fadeOut(200),w="",g("hide",{element:y}))}function m(e){if(!e)return!1;var t=e.split("/"),i=t.pop();t.shift();var n=t.join("/");return new RegExp(n,i)}var g=i("loading"),v=$(".questionnaireContainer"),y=$('<div id="uiblock"></div>'),b=$('<div class="errorMessage"></div>'),w="";angular.isUndefined(e.currentQuestion)&&(e.currentQuestion=0),v.append(y),e.questionnaireModel&&e.questionnaireModel.questionnaireLoaded||r();var x=["1","2","3","4","5"];t.submitAns=function(){var i=!1,r=e.displayedQuestion.validator,o=m(r);switch(e.displayedQuestion.questiontype){case"2":e.displayedQuestion.dd_answer||(i=!0);break;case"3":e.displayedQuestion.ac_answer||(i=!0);break;case"4":case"5":e.displayedQuestion.ac_answer&&e.displayedQuestion.dd_answer||(i=!0)}if(i)return w="All fields are required",f(!0),setTimeout(function(){f(!1)},1e3),!1;if(r){var s,l="";switch(e.displayedQuestion.questiontype){case"3":case"5":s=$('.customTextbox input[type="text"]').eq(1),l=s.val()||s.attr("placeholder");break;case"4":s=$('.customTextbox input[type="text"]').eq(0),l=s.val()||s.attr("placeholder")}if(l&&!o.test(l))return w="Please enter valid values",f(!0),setTimeout(function(){f(!1)},1e3),!1}f(!0);for(var c=a("updateapiurl",e.displayedQuestion),u=c.split("?")[0].split("/").pop(),d=c.split("?")[1].split("&"),h=d.length,p={call:u},g=0;h>g;g++){var v=d[g].split("="),y=v.shift(),l=v.join("=");y&&l&&(p[y]=l)}n.customAPI(p,function(i){var n=!1;i&&i.response&&i.response.message&&"true"==i.response.responsestatus||(w="Looks like something went wrong!",f(!0),n=!0,setTimeout(function(){f(!1)},4e3)),e.displayedQuestion=e.questionnaireModel.questionBank[++e.currentQuestion],t.selectedValues={},t.dd_selectedValues={},n||setTimeout(function(){f(!1)},500)})},t.submitYes=function(){e.displayedQuestion.answer="Yes",t.submitAns()},t.submitNo=function(){e.displayedQuestion.answer="No",t.submitAns()},t.clearForm=function(){!function(t){e.displayedQuestion.placeholder=t.concat()}(e.displayedQuestion.defaulttext),e.displayedQuestion.answer="",t.selectedValues={},t.dd_selectedValues={},e.displayedQuestion.ac_answer="",e.displayedQuestion.dd_answer="",angular.forEach(e.displayedQuestion.dropdownValues,function(e){e.selected=!1}),angular.forEach(e.displayedQuestion.autocompleteText,function(e){e.selected=!1}),v.find("input").val("")},t.nextQuestion=function(){f(!0),e.displayedQuestion=e.questionnaireModel.questionBank[++e.currentQuestion],setTimeout(function(){f(!1)},200)}}]),woi.controller("SearchAutoCompleteController",["$scope","$rootScope","$location","$route","autoAPI",function(e,t){t.searchQuery={text:""},e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},e.clickSearch=function(){var t=$("#mainSearch").val();e.showInvalid=!1;var i=t.match(/[-$%^&*()_+|~=`{}\[\];<>.\/]/gi);return null!=i&&i.length>0?(e.safeApply(function(){e.showInvalid=!0}),$("#mainSearch").select().focus(),setTimeout(function(){e.safeApply(function(){scope.showInvalid=!1})},3e3),!1):(window.location.href="#!/search/"+t,void 0)}}]),woi.controller("SearchCategoryController",["$scope","$rootScope","recoAPI","userAPI","$routeParams","$compile","$timeout",function(e,t){t.searchCategories=[{label:"All Categories",param:"allcategories",value:0},{label:"Recommended",param:"recommended",value:1},{label:"Entertainment",param:"entertainment",value:2},{label:"Lifestyle",param:"lifestyle",value:3},{label:"Kids",param:"childrens",value:4},{label:"Sports",param:"sport",value:5},{label:"Movies",param:"film",value:6},{label:"Kannada",param:"kannada",value:7},{label:"News",param:"news",value:8},{label:"Music",param:"music",value:9}],e.searchSort=[{label:"Relevance",param:"relevance",value:0},{label:"View Count",param:"viewcount",value:1},{label:"Airing Time",param:"airingtime",value:2},{label:"Rating",param:"rating",value:3}],e.searchCategoriesCurrent=0,e.currentFilter=e.searchCategories[0].label,e.currentFilterRating=e.searchSort[0].label,e.paginateGenres=[],e.paginateGenresRating=[],e.constructObject=function(){e.allGenres=e.searchCategories,0==e.paginateGenres.length&&(e.paginateGenres=e.allGenres.slice(0,8))
},e.viewAllOperators=function(){e.paginateGenres=e.allGenres},e.selectedGenre=function(i){$("div.qtip:visible").qtip("hide"),e.currentFilter=i.label,e.searchCategoriesCurrent=i.value;var n={filter:e.searchCategories[e.searchCategoriesCurrent].param};t.$broadcast("search:categorize",n)},e.constructObjectRating=function(){e.allGenresRating=e.searchSort,e.paginateGenresRating=e.allGenresRating.slice(0,8)},e.viewAllRating=function(){e.paginateGenres=e.allGenresRating},e.selectedRating=function(i){$("div.qtip:visible").qtip("hide"),e.currentFilterRating=i.label,e.searchSortCurrent=i.value;var n={filter:e.searchSort[e.searchSortCurrent].param};t.$broadcast("search:sort",n)},e.hello=function(){alert("Not yet, Waiting for UX/UI VD/Clarification")}}]),woi.controller("SearchResultsController",["$scope","$rootScope","$filter","recoAPI","userAPI","$routeParams","$compile","$timeout","$location",function(e,t,i,n,r,o,s,a,l){if(angular.isUndefined(o.query)||""==o.query)return e.isEmptyText=!0,t.searchQuery.text="",t.searchQuery.resultText="",!1;e.isEmptyText=!1,e.updateSearchText=function(e){$("#mainSearch").val(e)};var c={};e.scrollValue=500,t.searchQuery.text=o.query,t.searchQuery.resultText=o.query,t.searchTitle="Searching for ",e.updateSearchText(o.query),c.searchtext=t.searchQuery.text,e.amount=0,e.amount_channel=0,e.amount_cast=0,e.current="all",e.searchType="programs, movies or channels",e.step=8,e.step_channel=8,e.step_cast=8,e.isLoaded=!1,e.isSorted=!1,e.phoneSidebar="off",e.toggleSidebar=function(t){e.phoneSidebar=t},e.searchResults={},e.removedSearch={},e.resetRemovedSearch=function(){e.removedSearch={all:[],channels:[],casts:[]}},e.resetSearchResults=function(){e.searchResults={all:[],movies:[],tvshows:[],videos:[],channels:[],casts:[],count:{all:0,movies:0,tvshows:0,videos:0,channels:0,casts:0}},e.amount=0,e.amount_channel=0,e.amount_cast=0},e.paginated=[],e.resetSearchResults(),e.resetRemovedSearch();var u=(i("addZero"),i("durationFormated"));e.displayEmptyBlock=function(){return e.isLoaded&&e.searchResults[e.current].length<1&&_.isEmpty(e.paginated)},e.applyFilter=function(t,i){switch(t.M2eCategoryName){case"Film":e.searchResults.movies.push(t);break;case"TV Show":e.searchResults.tvshows.push(t)}i&&e.searchResults.all.push(t)};var d=function(){var t=e.searchResults.all.concat(e.removedSearch.all),i=e.searchResults.channels.concat(e.removedSearch.channels),n=e.searchResults.casts.concat(e.removedSearch.casts);e.resetRemovedSearch(),e.resetSearchResults(),e.searchResults.all=t,e.searchResults.channels=i,e.searchResults.casts=n};e.$on("search:categorize",function(t,i){switch(d(),i.filter){case"recommended":e.removedSearch.all=_.filter(e.searchResults.all,function(e){return"0"==e.isrecommended}),e.searchResults.all=_.filter(e.searchResults.all,function(e){return"1"==e.isrecommended});break;case"film":case"sport":case"childrens":case"music":e.removedSearch.all=_.filter(e.searchResults.all,function(e){return e.M2eCategoryName.toLowerCase()!=i.filter}),e.searchResults.all=_.filter(e.searchResults.all,function(e){return e.M2eCategoryName.toLowerCase()==i.filter});break;case"allcategories":break;default:e.removedSearch.all=_.filter(e.searchResults.all,function(e){return e.M2eSubCategoryName.toLowerCase()!=i.filter}),e.searchResults.all=_.filter(e.searchResults.all,function(e){return e.M2eSubCategoryName.toLowerCase()==i.filter})}"allcategories"!=i.filter&&(e.removedSearch.channels=e.searchResults.channels,e.searchResults.channels=[],e.removedSearch.casts=e.searchResults.casts,e.searchResults.casts=[]),e.paginated=[];for(var n=0;n<e.searchResults.all.length;n++)e.applyFilter(e.searchResults.all[n],!1);e.$emit("search:updateCount",e.searchResults)}),e.$on("search:sort",function(t,i){switch(e.isSorted=!0,i.filter){case"viewcount":e.searchResults[e.current]=_.sortBy(e.searchResults[e.current],function(e){return parseInt(e.ViewCount)});break;case"rating":e.searchResults[e.current]=_.sortBy(e.searchResults[e.current],function(e){return parseFloat(e.woiscore)});break;case"airingtime":e.searchResults[e.current]=_.sortBy(e.searchResults[e.current],function(e){var t=new Date(e.StartTime);return t.getTime()});break;default:e.searchResults[e.current]=_.sortBy(e.searchResults[e.current],function(e){return e.ProgrammeName})}e.amount=0,e.amount_channel=0,e.amount_cast=0,e.loadMoreDetails()}),e.$on("search:make",function(i,s){console.log("search:make()"),e.resetSearchResults(),e.isLoaded=!1,t.searchTitle="Searched for ",$("#mainSearch").trigger("blur"),$("#mainSearch").css("background-color","#fff !important"),e.$emit("handleResetEmit"),angular.isDefined(o.ismovie)?(s.searchcriteria="cast",n.search(s,function(t){if(!t.Search)return e.isLoaded=!0,!1;var i=addData(t.Search.Programme);_.each(i,function(t){t.duration=u(t.StartTime,t.EndTime),t.type="programme";for(var i=Object.keys(t),n=i.length,r=0;n>r;r++)t[i[r].toLowerCase()]=t[i[r]];e.applyFilter(t,!0)}),e.$emit("search:updateCount",e.searchResults)})):n.search(s,function(t){if(!t.Search)return e.isLoaded=!0,!1;var i=addData(t.Search.Programme);_.each(i,function(t){t.duration=u(t.StartTime,t.EndTime),t.type="programme";for(var i=Object.keys(t),n=i.length,r=0;n>r;r++)t[i[r].toLowerCase()]=t[i[r]];e.applyFilter(t,!0)}),e.$emit("search:updateCount",e.searchResults)}),r.getSuggestKeyword({Keyword:t.searchQuery.text},function(t){return t.response?"false"==t.response.responsestatus?(e.showSuggestionBox=!1,!1):(e.showSuggestionBox=!0,e.suggestedWord=t.response.keywordsuggestionlist.displayName,void 0):(e.showSuggestionBox=!1,!1)})}),e.loadMoreDetails=function(){if(!e.isLoaded)return!1;var t=e.searchResults.channels,i=e.searchResults.casts,n=e.searchResults[e.current];"all"==e.current?(i.length&&(e.paginated=e.paginated.concat(i.slice(e.amount_cast,e.step_cast+e.amount_cast)),e.amount_cast+=e.step_cast),t.length&&(e.paginated=e.paginated.concat(t.slice(e.amount_channel,e.step_channel+e.amount_channel)),e.amount_channel+=e.step_channel),e.paginated=e.isSorted?n.slice(0,e.step+e.amount).concat(t.slice(0,e.step_channel+e.amount_channel)).concat(i.slice(0,e.step_cast+e.amount_cast)):e.paginated.concat(n.slice(e.amount,e.step+e.amount))):e.paginated=n.slice(0,e.step+e.amount),e.amount+=e.step},e.filter=function(t,i){switch(i.preventDefault(),e.current=t,e.paginated=e.searchResults[t],e.amount=0,e.amount_channel=0,e.amount_cast=0,e.paginated=[],e.loadMoreDetails(),t){case"movies":e.searchType="movies";break;case"tvshows":case"videos":e.searchType="programs";break;case"channels":e.searchType="channels";break;default:e.searchType="programs, movies or channels"}},e.$on("search:updateCount",function(t,i){e.searchResults.count.all=i.all.length+i.channels.length+i.casts.length,e.searchResults.count.movies=i.movies.length,e.searchResults.count.tvshows=i.tvshows.length,e.searchResults.count.channels=i.channels.length,e.searchResults.count.casts=i.casts.length,e.isLoaded=!0,e.filter("all",t)}),e.addToFavorite=function(e){r.toggleFavoriteProgramme({like:"0"==e.isfavorite,programmeid:e.ProgrammeID},function(t){t.response.responsestatus?e.isfavorite="0"==e.isfavorite?"1":"0":alert(t.response.message)})},e.addToReminder=function(e){return alert("Not yet"),!1},e.addToWatchlist=function(e){if(t.isUserLogged())var i={watchliststatus:"0"==e.iswatchlist};_.isUndefined(e.videoid)?(i.contenttype="program",i.contentid=e.ProgrammeID,i.videoid=0):(i.contenttype="video",i.contentid=e.ProgrammeID,i.videoid=e.videoid),r.toggleWatchlist(i,function(t){t.response.responsestatus?e.iswatchlist="0"==e.iswatchlist?"1":"0":alert(t.response.message)})},e.getPlayerIDs=function(e){for(var t=$("."+e).get(),i=[],n=t.length,r=0;n>r;r++){var o,s=t[r];s.children&&s.children.length&&(o=t[r].children[0].id,o&&i.push(o))}return i},e.stopPlaying=function(e,t){for(var i=e.length,n=0;i>n;n++){var r=e[n];r!=t&&(_V_(r).pause(),$("#"+r).parent().hide())}},e.playVideo=function(i,n){var r=[],o=i.videoid,s=$("#trigger-"+i.videoid).parent().parent();if(s.outerWidth()<550)return t.playThisVideo=i.url,i.videourl=i.url,t.playThisVideoObj=i,l.path("/programme/"+n.ProgrammeID+"/channel/"+n.ChannelID),!1;if($("#"+o).length)return s.find(".player").show(),_V_(o).play(),r=e.getPlayerIDs("player"),e.stopPlaying(r,o),!1;var a=$("<video>").attr({id:o,width:170,height:130}).addClass("video-js vjs-default-skin"),c=$("<source></source>").attr("src",i.url).attr("type","video/mp4");a.append(c),s.find(".player").append(a),_V_(o,{controls:!0,autoplay:!0,preload:"auto"}).addEvent("ended",function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),s.find(".player").hide()}),r=e.getPlayerIDs("player"),e.stopPlaying(r,o)};var h={searchvalue:t.searchQuery.text};e.$emit("search:make",h),angular.isUndefined(o.ismovie)&&(r.searchChannel(c,function(t){return t.searchdetails?(_.isArray(t.searchdetails.searchdata)?(_.each(t.searchdetails.searchdata,function(e){e.type="channel"}),e.searchResults.channels=t.searchdetails.searchdata):(t.searchdetails.searchdata.type="channel",e.searchResults.channels.push(t.searchdetails.searchdata)),e.$emit("search:updateCount",e.searchResults),void 0):!1}),r.searchCast(c,function(t){return t.searchdetails?(_.isArray(t.searchdetails.searchdata)?(_.each(t.searchdetails.searchdata,function(e){e.type="cast"}),e.searchResults.casts=t.searchdetails.searchdata):(t.searchdetails.searchdata.type="cast",e.searchResults.casts.push(t.searchdetails.searchdata)),e.$emit("search:updateCount",e.searchResults),void 0):!1}))}]),woi.factory("autoAPI",["$rootScope","$resource",function(e){return e.woiresource("/appi/auto/",{},{autoComplete:{method:"GET",params:{mode:"autoComplete",autocompleteword:"",noofrecords:10}},autoCompleteLocation:{method:"GET",params:{mode:"autoCompleteLocation",placename:"",noofrecords:15}},autoCompleteActors:{method:"GET",params:{mode:"autoCompleteActors",autocompleteword:"",noofrecords:50}},autoCompleteChannel:{method:"GET",params:{mode:"autoCompleteChannel",noofrecords:10}},customAutocomplete:{method:"GET",params:{}}})}]),woi.factory("IPfetcher",["$http","$timeout",function(e){e.get("/ip/").success(function(e){$.cookie("userIP",e)})}]),woi.factory("recoAPI",["$resource","$http","$rootScope",function(e,t,i){var n=i.woiresource("/appi/reco/",{responseformat:"json",responselanguage:"English",pageno:1},{exclusiveVideo:{method:"GET",params:{mode:"ExclusiveVideo",userid:i.getUser().userid}},search:{method:"GET",params:{mode:"Search",searchvalue:"",userid:i.getUser().userid}},addToFavorite:{method:"GET",params:{mode:"addRemoveFavoriteProgram",userid:i.getUser().userid}},premiers:{method:"GET",params:{mode:"PremieresAndUpcoming"}}});return n}]),woi.factory("tsmAPI",["$resource","$rootScope",function(e,t){return t.woiresource("/appi/tsm/",{responseformat:"json",responselanguage:"English",pageno:1,context:"custid=1;msisdn=222;headendid=0;applicationname=website"},{getOperatorList:{method:"GET",params:{mode:"getOperatorList",userid:t.getUser().userid}},getSitemapChannels:{method:"GET",params:{mode:"getSitemapChannels"}},getSitemapOperators:{method:"GET",params:{mode:"getSitemapOperators",pageno:1,userid:0}},getStateAndCityIds:{method:"GET",params:{mode:"getStateAndCityIds"}}})}]),woi.factory("userAPI",["$resource","$rootScope","IPfetcher",function(e,t){var i,n;i=new Date,i.toUTCString(),n=parseInt((i.getUTCHours()+5.5)%24);var r=function(){return(new Date).getTime()};return t.woiresource("/appi/user",{responseformat:"json",responselanguage:"English",pageno:1,context:"custid=1;msisdn=222;headendid=0;applicationname=website"},{signIn:{method:"GET",params:{mode:"signIn"}},forgotPassword:{method:"GET",params:{mode:"forgotPassword"}},registerUser:{method:"GET",params:{mode:"registerUser"}},featuredProgramme:{method:"GET",params:{mode:"featuredProgramme",operatorid:0,userid:t.getUser().userid}},premiers:{method:"GET",params:{mode:"premiers",userid:t.getUser().userid}},exclusiveList:{method:"GET",params:{mode:"exclusiveList",userid:t.getUser().userid}},nowNext:{method:"GET",params:{mode:"nowNext",operatorname:0,selecteddate:0,starthour:n,userid:t.getUser().userid}},myWatchlist:{method:"GET",params:{mode:"myWatchlist",userid:t.getUser().userid,noCache:r()}},toggleWatchlist:{method:"GET",params:{mode:"toggleWatchlist",context:"custid=1;msisdn=222;headendid=0;applicationname=website;ipaddress="+$.cookie("userIP")+";useragent="+navigator.userAgent.replace(/;/g,","),userid:t.getUser().userid,watchliststatus:!0,noCache:r()}},toggleFavoriteProgramme:{method:"GET",params:{mode:"toggleFavoriteProgramme",userid:t.getUser().userid,programmeid:0,like:!0,operatorid:0,context:"custid=1;msisdn=222;headendid=0;applicationname=website;ipaddress="+$.cookie("userIP")+";useragent="+navigator.userAgent.replace(/;/g,",")}},myFavoritesProgramme:{method:"GET",params:{mode:"myFavoritesProgramme",userid:t.getUser().userid,useragent:null,operatorid:0}},addReminder:{method:"GET",params:{mode:"addReminder",context:"custid=1;msisdn=222;headendid=0;applicationname=website;ipaddress="+$.cookie("userIP")+";useragent="+navigator.userAgent.replace(/;/g,","),channelid:0,programmeid:0,starttime:0}},removeReminder:{method:"GET",params:{mode:"removeReminder",reminderid:0}},myReminders:{method:"GET",params:{mode:"myReminders",userid:t.getUser().userid}},topRated:{method:"GET",params:{mode:"topRated",operatorid:0}},yourRecs:{method:"GET",params:{mode:"yourRecs",userid:t.getUser().userid}},homeTrendingDiscussion:{method:"GET",params:{mode:"homeTrendingDiscussion"}},thirdPartyRegistration:{method:"GET",params:{mode:"thirdPartyRegistration"}},facebookActivity:{method:"GET",params:{mode:"facebookActivity",userid:t.getUser().userid}},searchCast:{method:"GET",params:{mode:"searchCast",userid:t.getUser().userid}},searchChannel:{method:"GET",params:{mode:"searchChannel",userid:t.getUser().userid}},yourChannelRecs:{method:"GET",params:{mode:"yourChannelRecs"}},addRemoveLike:{method:"GET",params:{mode:"addRemoveLike",context:"custid=1;msisdn=222;headendid=0;applicationname=website;ipaddress="+$.cookie("userIP")+";useragent="+navigator.userAgent.replace(/;/g,","),userid:t.getUser().userid,contentid:0,removelike:!0,videoid:0}},toggleFavoriteChannel:{method:"GET",params:{mode:"toggleFavoriteChannel",context:"custid=1;msisdn=222;headendid=0;applicationname=website;ipaddress="+$.cookie("userIP")+";useragent="+navigator.userAgent.replace(/;/g,","),userid:t.getUser().userid,channelid:0,like:!0}},subscribeNewsLetter:{method:"GET",params:{mode:"subscribeNewsLetter",isweekly:!0,istrendingdaily:!0,istrendingweekly:!0,isprogrammeAnnouncement:!0,isprogramReminder:!0,userid:0}},getProgrammeDetails:{method:"GET",params:{mode:"getProgrammeDetails",context:"custid=1;msisdn=222;headendid=0;applicationname=website;ipaddress="+$.cookie("userIP")+";useragent="+navigator.userAgent.replace(/;/g,","),programmeid:0,channelid:0,userid:t.getUser().userid}},getProgramme:{method:"GET",params:{mode:"getProgramme",context:"custid=1;msisdn=222;headendid=0;applicationname=website;ipaddress="+$.cookie("userIP")+";useragent="+navigator.userAgent.replace(/;/g,","),userid:t.getUser().userid}},verifyMobileNumber:{method:"GET",params:{mode:"verifyMobileNumber",userid:t.getUser().userid}},verifyMobileCode:{method:"GET",params:{mode:"verifyMobileCode",userid:t.getUser().userid}},userFavoriteLanguage:{method:"GET",params:{mode:"userFavoriteLanguage",userid:t.getUser().userid,pageno:1}},updateUserFavoriteLanguage:{method:"GET",params:{mode:"updateUserFavoriteLanguage",userid:t.getUser().userid}},fullProgrammeDetail:{method:"GET",params:{mode:"fullProgrammeDetail",pageno:1,userid:t.getUser().userid}},castNcrew:{method:"GET",params:{mode:"castNcrew",pageno:1}},channelDetails:{method:"GET",params:{mode:"channelDetails",context:"custid=1;msisdn=222;headendid=0;applicationname=website;ipaddress="+$.cookie("userIP")+";useragent="+navigator.userAgent.replace(/;/g,","),pageno:1,channelid:0,userid:t.getUser().userid}},channelPopularPrograms:{method:"GET",params:{mode:"channelPopularPrograms",pageno:1,channelid:0,userid:t.getUser().userid}},createDiscussion:{method:"GET",params:{mode:"createDiscussion",forumtypeid:0,userid:t.getUser().userid}},replyDiscussion:{method:"GET",params:{mode:"replyDiscussion",forumid:0,userid:t.getUser().userid}},getTrendingDiscussion:{method:"GET",params:{mode:"getTrendingDiscussion",pageno:1,forumid:0,userid:t.getUser().userid}},getProgrammeDiscussions:{method:"GET",params:{mode:"getProgrammeDiscussions",channelid:0,programmeid:0,userid:t.getUser().userid}},getChannelDiscussions:{method:"GET",params:{mode:"getChannelDiscussions",forumid:0,userid:t.getUser().userid}},toggleDiscussionLike:{method:"GET",params:{mode:"toggleDiscussionLike",forumid:0,userid:t.getUser().userid}},flagDiscussion:{method:"GET",params:{mode:"flagDiscussion",forumid:0,reportabuse:!0,userid:t.getUser().userid}},toggleCommentLike:{method:"GET",params:{mode:"toggleCommentLike",threadid:0,userid:t.getUser().userid}},toggleFlagComment:{method:"GET",params:{mode:"toggleFlagComment",threadid:0,reportabuse:!0,userid:t.getUser().userid}},featuredChannelVideos:{method:"GET",params:{mode:"featuredChannelVideos",pageno:1,channelid:0,userid:t.getUser().userid}},programmeVideoGallery:{method:"GET",params:{mode:"programmeVideoGallery",pageno:1,userid:t.getUser().userid}},nextSchedule:{method:"GET",params:{mode:"nextSchedule",pageno:1,userid:t.getUser().userid}},similarProgrammes:{method:"GET",params:{mode:"similarProgrammes",pageno:1,userid:t.getUser().userid}},ChannelScheduleTodayTomorrow:{method:"GET",params:{mode:"ChannelScheduleTodayTomorrow",pageno:1}},availableIn:{method:"GET",params:{mode:"availableIn"}},friends:{method:"GET",params:{mode:"friends",userid:t.getUser().userid}},similarChannels:{method:"GET",params:{mode:"similarChannels",pageno:1,userid:t.getUser().userid}},episodesList:{method:"GET",params:{mode:"episodesList",pageno:1,userid:t.getUser().userid}},getBrowseForChannel:{method:"GET",params:{mode:"getBrowseForChannel",headendid:0,userid:196878,channelid:0,pageno:1}},userRate:{method:"GET",params:{mode:"userRate",typeid:0,rating:0,userid:t.getUser().userid}},promos:{method:"GET",params:{mode:"promos",pageno:1,userid:t.getUser().userid}},webVideos:{method:"GET",params:{mode:"webVideos",pageno:1,userid:t.getUser().userid}},quotation:{method:"GET",params:{mode:"quotation",pageno:1,userid:t.getUser().userid}},filterChannels:{method:"GET",params:{mode:"filterChannels",starthour:n,dateselected:0,userid:t.getUser().userid}},updateUserLocationDetails:{method:"GET",params:{mode:"updateUserLocationDetails",userid:t.getUser().userid}},favoriteDetails:{method:"GET",params:{mode:"favoriteDetails",date:0,starthour:18,userid:t.getUser().userid}},featuredChannelsLP:{method:"GET",params:{mode:"featuredChannelsLP",userid:t.getUser().userid}},browseItems:{method:"GET",params:{mode:"browseItems",userid:t.getUser().userid}},filterByHybridGenre:{method:"GET",params:{mode:"filterByHybridGenre",userid:t.getUser().userid}},getAppDetails:{method:"GET",params:{mode:"getAppDetails",pageno:1,userid:196878}},getAppFeatures:{method:"GET",params:{mode:"getAppFeatures",pageno:1,userid:196878,appid:1}},getAppTestimonials:{method:"GET",params:{mode:"getAppTestimonials",pageno:1,userid:196878,appid:1}},getAppImages:{method:"GET",params:{mode:"getAppImages",pageno:1,userid:196878,appid:1}},getSitemapSections:{method:"GET",params:{mode:"getSitemapSections"}},getSitemapApps:{method:"GET",params:{mode:"getSitemapApps",pageno:1,userid:196878}},getSitemapOperators:{method:"GET",params:{mode:"getSitemapOperators",pageno:1,userid:0,countryid:2,stateid:22,cityid:120,areaid:0}},getAllMovies:{method:"GET",params:{mode:"getAllMovies",pageno:1,productionstartyear:2001,productionendyear:2013,userid:t.getUser().userid,isfavMovies:!1}},getSitemapGenres:{method:"GET",params:{mode:"getSitemapGenres",userid:t.getUser().userid}},getChannelsByGenre:{method:"GET",params:{mode:"getChannelsByGenre",pageno:1,userid:t.getUser().userid}},getDiscussionCategories:{method:"GET",params:{mode:"getDiscussionCategories",headendid:0}},getAllDiscussions:{method:"GET",params:{mode:"getAllDiscussions",userid:t.getUser().userid,pageno:1}},getDiscussionFilters:{method:"GET",params:{mode:"getDiscussionFilters",headendid:0}},searchByChannelName:{method:"GET",params:{mode:"searchByChannelName",pageno:1,userid:t.getUser().userid}},getAllVideos:{method:"GET",params:{mode:"getAllVideos",pageno:1,userid:t.getUser().userid}},getVideosGenre:{method:"GET",params:{mode:"getVideosGenre"}},getWatchlistByDate:{method:"GET",params:{mode:"getWatchlistByDate",userid:t.getUser().userid,noCache:r(),allvalue:!0}},getFavouriteByDate:{method:"GET",params:{mode:"getFavouriteByDate",userid:t.getUser().userid,noCache:r(),allvalue:!0}},getReminderByDate:{method:"GET",params:{mode:"getReminderByDate",msisdn:150,headendid:0,userid:t.getUser().userid,noCache:r(),allvalue:!0}},getSuggestKeyword:{method:"GET",params:{mode:"getSuggestKeyword"}},getUserAccountDetails:{method:"GET",params:{mode:"getUserAccountDetails",noCache:r()}},updateUserDetails:{method:"GET",params:{mode:"updateUserDetails"}},updateHeadendInfo:{method:"GET",params:{mode:"updateHeadendInfo"}},getPopularFeed:{method:"GET",params:{mode:"getPopularFeed"}},updateUserSettings:{method:"GET",params:{mode:"updateUserSettings"}},getUserReminders:{method:"GET",params:{mode:"getUserReminders",userid:t.getUser().userid,pageno:1}},getUserFavorites:{method:"GET",params:{mode:"getUserFavorites",pageno:1,userid:t.getUser().userid}},getRecentSearches:{method:"GET",params:{mode:"getRecentSearches",userid:t.getUser().userid,pageno:1}},getRecentlyBrowsed:{method:"GET",params:{mode:"getRecentlyBrowsed",userid:t.getUser().userid,pageno:1}},getLatestFeeds:{method:"GET",params:{mode:"getLatestFeeds",userid:t.getUser().userid,pageno:1}},getWatchlist:{method:"GET",params:{mode:"getWatchlist",userid:t.getUser().userid,pageno:1}},getTVGuideInfo:{method:"GET",params:{mode:"getTVGuideInfo",userid:t.getUser().userid}},getUsersWhoLikeThisFeed:{method:"GET",params:{mode:"getUsersWhoLikeThisFeed",userid:t.getUser().userid,contentid:0}},getContextFlag:{method:"GET",params:{mode:"getContextFlag",userid:t.getUser().userid}},verifyUser:{method:"GET",params:{mode:"verifyUser",userid:t.getUser().userid}},getQuestionnaireQuestions:{method:"GET",params:{mode:"getQuestionnaireQuestions",userid:t.getUser().userid}},getGenreList:{method:"GET",params:{mode:"getGenreList",pageno:1}},getUserGenreList:{method:"GET",params:{mode:"getUserGenreList",pageno:1}},customAPI:{method:"GET",params:{mode:"customAPI"}},getFBAccessToken:{method:"GET",params:{mode:"getFBAccessToken"}}})}]),woi.service("userList",["$rootScope","userAPI","recoAPI",function(){}]),woi.service("videoActions",["$rootScope","userAPI","recoAPI",function(e,t){this.toggleWatchList=function(i,n){if(!e.isUserLogged())return!1;var r={userid:e.getUser().userid,contenttype:"video",contented:0,videoid:i.videoid};r.watchliststatus="0"==i.iswatchlist?!0:!1,t.toggleWatchlist(r,function(e){n&&"function"==typeof n&&n(e)})},this.toggleFavoriteProgramme=function(i,n){if(!e.isUserLogged())return!1;var r={userid:e.getUser().userid,programmeid:i.programmeid};r.like="0"==i.isfavorite?!0:!1,t.toggleFavoriteProgramme(r,function(e){n&&"function"==typeof n&&n(e)})},this.toggleReminder=function(i,n){if(!e.isUserLogged())return!1;var r={userid:e.getUser().userid,channelid:i.channelid,programmeid:i.programmeid,starttime:201212141230,priortimeinminutes:5,ismailreminder:!0,issmsreminder:!0,isdevicereminder:!1,isrecurring:!1};t.addReminder(r,function(e){n&&"function"==typeof n&&n(e)})}}]),woi.controller("SitemapController",["$scope","$rootScope","$filter","$timeout","$location","$routeParams","userAPI","tsmAPI",function(e,t,i,n,r,o,s,a){t.sitemap={},e.sitemapLoaded=!1,e.hasChannels=!1,e.hasApps=!1,e.hasOperators=!1,t.$broadcast("resetHighlight",[]);var l=i("loading");l("show",{element:$(".pageLoadingIndicator")}),getSitemap=function(){s.getSitemapSections({},function(i){return e.sitemapLoaded=!0,i.getsitemap?(t.sitemap=i.getsitemap.sitemaplist,checkSubitems(),populateLinks(),n(function(){l("show",{element:$(".loadingIndicator.live")})},5),e.hasChannels&&a.getSitemapChannels({},function(t){if(!t.getchanneldetails)return!1;for(var i=[],n=t.getchanneldetails.channeldetaillist,r=n.length,o=0;r>o;o++)i[o]={sectionName:n[o].displayname,sectionUrl:"#!/channel/"+n[o].channelid};e.insertSubsection(e.channelsIndex,i),e.sitemap[e.hasChannels.index].loading=!1}),e.hasApps&&s.getSitemapApps({},function(t){if(!t.getallapps)return!1;for(var i=[],n=t.getallapps.appslist,r=n.length,o=0;r>o;o++)i[o]={sectionName:n[o].appname,sectionUrl:"#!/apps/"+n[o].appid};e.insertSubsection(e.appsIndex,i),e.sitemap[e.hasApps.index].loading=!1}),e.hasOperators&&a.getSitemapOperators({},function(i){if(!i.getoperators)return!1;for(var n=[],o=i.getoperators.operatorslist,s=o.length,a=0;s>a;a++)!function(e){n[e]={sectionName:o[e].publicname,sectionAction:function(){t.preselectOperator=o[e],r.path("/tv-guide")}}}(a);e.insertSubsection(e.operatorIndex,n),e.sitemap[e.hasOperators.index].loading=!1}),void 0):!1})}(),e.insertSubsection=function(e,i){t.sitemap[e].subsections=i},checkSubitems=function(){for(var i=t.sitemap.length,n=0;i>n;n++)t.sitemap[n].loading=!1,"Channels"==t.sitemap[n].sitemaptitle&&(e.hasChannels={index:n},t.sitemap[n].loading=!0,e.channelsIndex=n),"Apps"==t.sitemap[n].sitemaptitle&&(e.hasApps={index:n},t.sitemap[n].loading=!0,e.appsIndex=n),"Operator"==t.sitemap[n].sitemaptitle&&(e.hasOperators={index:n},t.sitemap[n].loading=!0,e.operatorIndex=n)},populateLinks=function(){for(var e={Home:"#!/home","TV Guide":"#!/tv-guide",Channels:"#!/channels",Apps:"#!/apps",About:"#!/about",Contact:"http://www.whatsonindia.net/contact.html",Corporate:"http://www.whatsonindia.net","Terms & Condition":"#!/tnc",Privacy:"#!/privacy",Operator:""},i=t.sitemap.length,n=0;i>n;n++)t.sitemap[n].linkUrl=_.isUndefined(e[t.sitemap[n].sitemaptitle])?"":e[t.sitemap[n].sitemaptitle]}}]),$(document).ready(function(){setTimeout(function(){},500)}),woi.controller("FeedsController",["$scope","$rootScope","$filter","$routeParams","userAPI",function(){}]),woi.controller("TNC_Controller",["$scope","$rootScope","$location","$routeParams","$filter","userAPI",function(e,t,i){t.$broadcast("resetHighlight",[]),e.openSection=function(e){var t=$(".tnc_privacy_nav_wrapper .common_header_style"),i=$(".common_wrapper_style");t.removeClass("active"),t.eq(e).addClass("active"),i.hide(),i.eq(e).show()};var n=i.path().replace(/\//g,"");"privacy"==n&&e.openSection(1)}]),woi.controller("TrendingDiscussionController",["$scope","$rootScope","$routeParams","$filter","userAPI",function(e,t,i,n,r){var o={channelid:e.$parent.channelid,programmeid:_.isUndefined(e.$parent.programmeid)?0:e.$parent.programmeid,userid:t.getUser().userid};e.channels=[],e.discussionsAvailable=!1,e.programmes=[],t.currentforumid=0,e.loadingDiscussions=!0,$dlIndicator=$("#DiscussionLoadIndicator"),t.thread={current:[],all:[]};var s=n("loading");s("show",{element:$dlIndicator});var a;e.loadDiscussion=function(i,n,o){if(n&&(n.preventDefault(),$(n.currentTarget),e.channels.indexOf(i)),_.isUndefined(o)?o=1:(o=parseInt(o),0==o&&(o=1)),1==o){for(var l=0;l<e.channels.length;l++)e.channels[l].active=!1;i.active=!0,i.loading=!0,s("hide",{element:$(".comments-list .loadingIndicator")}),s("show",{element:$(".comments-list .loadingIndicator")}),t.thread.all=[],t.thread.current=[]}var c={forumid:i.forumid,userid:t.getUser().userid,pageno:o};t.currentforumid=i.forumid,a=(new Date).getTime(),function(l){r.getTrendingDiscussion(c,function(r){if(l!=a)return!1;if(i.loading=!1,s("hide",{element:$(".comments-list .loadingIndicator")}),!r.gettrendingdiscussion)return!1;if(_.isArray(r.gettrendingdiscussion.trendinglist))if(1==o)t.thread.all=r.gettrendingdiscussion.trendinglist;else for(var c=r.gettrendingdiscussion.trendinglist,u=c.length,d=0;u>d;d++)t.thread.all.push(c[d]);else t.thread.all.push(r.gettrendingdiscussion.trendinglist);1==o&&t.thread.current.push(t.thread.all[0]),o++,e.loadDiscussion(i,n,o),e.loadingDiscussions=!1})}(a)},e.showAllComments=function(e){e.preventDefault(),t.thread.current=t.thread.all},e.scrollToComment=function(e){var t=$(e.currentTarget),i=t.parents(".discussionBody").find(".post-comment textarea"),n=i.offset().top-$(window).height()/2+i.height();$("body").animate({scrollTop:n},function(){i.focus()})},e.initTrending=function(t){console.log("Reloading discussions....",t),e.loadingDiscussions=!0;var i=$(".discussionBody");s("show",{element:i}),_.isUndefined(e.$parent.programmeid)?(console.log("Loading channel discussions...."),r.getChannelDiscussions(o,function(n){if(s("hide",{element:i}),!n.getchanneldiscussion)return console.log("Returning false for channel discussions!"),e.loadingDiscussions=!1,e.discussionsAvailable=!1,!1;e.discussionsAvailable=!0,e.channels=addData(n.getchanneldiscussion.channeldiscussion);for(var r=0;r<e.channels.length;r++)e.channels[r].active=!1;if(e.channels=_.sortBy(e.channels,function(e){return parseInt(e.forumid)}),e.channels=e.channels.reverse(),e.channels.length>4&&(e.channels=e.channels.slice(0,4)),t&&t.forumid){console.log("Channels in scope",e.channels);for(var o=e.channels.length,r=0;o>r;r++){if(e.channels[r].forumid==t.forumid){e.loadDiscussion(e.channels[r]),console.log("Case 1, Loading comments for discussion",e.channels[r]);break}r==o-1&&(e.loadDiscussion(e.channels[0]),console.log("Case 2, Loading comments for discussion",e.channels[0]))}}else console.log("Case 3, Loading comments for discussion",e.channels[0]),e.loadDiscussion(e.channels[0])})):(console.log("Loading program discussions...."),r.getProgrammeDiscussions(o,function(n){if(s("hide",{element:i}),e.loadingDiscussions=!1,!n.getprogramdiscussion)return console.log("Returning false for program discussions!"),e.discussionsAvailable=!1,!1;e.discussionsAvailable=!0,e.channels=addData(n.getprogramdiscussion.programdiscussion);for(var r=0;r<e.channels.length;r++)e.channels[r].active=!1;if(e.channels=_.sortBy(e.channels,function(e){return parseInt(e.forumid)}),e.channels=e.channels.reverse(),e.channels.length>4&&(e.channels=e.channels.slice(0,4)),t&&t.forumid){console.log("Channels in scope",e.channels);for(var o=e.channels.length,r=0;o>r;r++){if(e.channels[r].forumid==t.forumid){e.loadDiscussion(e.channels[r]),console.log("Case 1, Loading comments for discussion",e.channels[r]);break}r==o-1&&(e.loadDiscussion(e.channels[0]),console.log("Case 2, Loading comments for discussion",e.channels[0]))}}else console.log("Case 3, Loading comments for discussion",e.channels[0]),e.loadDiscussion(e.channels[0])}))},e.$on("discussionPosted",function(t,i){e.initTrending(i)}),e.initTrending()}]),woi.controller("TVGuide_GridController",["$scope","$rootScope","$filter","$location","$routeParams","$timeout","userAPI",function(e,t,i,n,r,o,s){_.isUndefined(t.dateParamInChannel)||_.isNull(t.dateParamInChannel)||(e.channelSelectedDate=t.dateParamInChannel,t.dateParamInChannel=null),e.thisPage||(e.thisPage=n.path().split("/")[1].toLowerCase()),("tvGuide"===e.thisPage||"tv-guide"===e.thisPage||"tv-listings"===e.thisPage)&&t.$broadcast("highlightTvGuide",[]),t.showinfo={};var a=i("loading"),l=$(".emptyGuideLoader");a("show",{element:l});var c=!0;e.currentDate=!0,e.phoneSidebar="off",e.toggleSidebar=function(t){e.phoneSidebar=t},e.initTimeline=function(){for(var t=0;24>t;t++){var i=new Date;e.timeline.push({hour:t+":00",time:t+"00"+i.getDate()+i.getMonth(),active:t==i.getHours()})}for(var t=0;24>t;t++){var i=new Date;e.halfTimeline.push({hour:t+":30",time:t+"30"+i.getDate()+i.getMonth(),active:t==i.getHours()&&i.getMinutes()>=30})}};var u;u=t.device.isMobile?24:24;var d=function(){e._MODEL=[],e._SAVED_DATA={},e._MAPPING={},e.timeline=[],e.halfTimeline=[],e.hourWidth=250,e.scrollValue=300,e.allowRequests=!0,e.pageNo=1,e.isEmpty=!0,t.loadingBelow=!0,t.emptyResult=!1,t.tvGuideVisibleRows=0,e.loadingContent=!1,e.notEnoughFavorites=!1,e.channelLimitReached=!1,e.initTimeline(),(new Date).getTime();var i=$("#tv_guide_container .slider"),n=i.find("#description-popover");o(function(){i.prepend(n),n.hide()}),b.height("100%")};t._currentDayParam=t.loadNextDay?1:0,t._currentTvOperator=0,t._currentGenre="all",t._hourValue=(new Date).getHours();var h=function(i,n){var r=0,o=Object.keys(e._MAPPING),s=o.length,a={};_.each(n,function(t){a[t.ChannelID]=t,e._MAPPING[t.ChannelID]||0==e._MAPPING[t.ChannelID]||(e._MAPPING[t.ChannelID]=s+r,r++)}),_.each(i,function(t){e._MODEL[e._MAPPING[t.channelid]]||(e._MODEL[e._MAPPING[t.channelid]]={channel_info:a[t.channelid],programs:[]});for(var i=e._MODEL[e._MAPPING[t.channelid]].programs,n=i.length,r=0;n>r;r++)if(i[r].starttime==t.starttime)return!1;
e._MODEL[e._MAPPING[t.channelid]].programs.push(t)}),t.loadingBelow=!1};e.$on("tvGuide:notEnoughFavorites",function(i,n){var r=t.tvGuideVisibleRows,o=70*r+"px",s=7>r?70*r-500+"px":"0px";"favorite"==e._currentGenre&&(7>r||e.notEnoughFavorites)?(b.height(o),w.css("margin-top",s)):(b.height("100%"),w.css("margin-top",0)),n.adjust&&"favorite"==e._currentGenre&&(e.adjustHeight(),t.emptyResult=!1)}),e.currentNavButton="now",e.currentPosition=0;var p=$("#tv_guide_container"),f=p.find(".slider"),m=$(".tv_guide"),g=$(".tv_guide .channels"),v=m.find(".arrow"),y=$(".main-section > .sidebar"),b=$(".time-elapsed"),w=$("#notEnoughFavorites");d(),e.disableArrow=function(e){v.removeClass("disabled"),("prev"==e||"next"==e)&&v.filter("."+e).addClass("disabled")},e.slideToNow=function(){e.disableArrow();var t=(new Date).getHours(),i=f.width(),n=m.width(),r=-(i-n+86);e.currentPosition=-(t*e.hourWidth),e.currentPosition<r&&(e.currentPosition=r),f.stop().animate({left:e.currentPosition+"px"},750),e.currentNavButton="now"},e.moveNext=function(){e.slideToNow(),e.moveSlider(!0),e.currentNavButton="next"},e.moveSlider=function(i){var n=Math.floor(Math.abs(f.position().left))+(i?10:-10),r=m.width(),o=Math.floor(n/hourWidth),s=n%hourWidth;e.currentNavButton="",i?(o>23&&(o=23),o++):(s||o--,0>=o&&(o=0));var a=24*e.hourWidth-r+86,l=-(o*e.hourWidth);e.disableArrow(),-(a+4)>l&&(l=-a,e.disableArrow("next")),l>=0&&(l=0,e.disableArrow("prev")),f.stop().animate({left:l+"px"},250),e.currentPosition=l,t.device.isMobile&&e.horizontalPageScrolled(e.currentPosition,i)},e.moveTo=function(t,i){var n=m.width(),r=24*e.hourWidth-n+86,o=-(t*e.hourWidth);-(r+4)>o&&(o=-r,e.disableArrow("next")),o>0&&(o=0,e.disableArrow("prev")),f.stop().animate({left:o+"px"},250),e.currentPosition=o,e.horizontalPageScrolled(e.currentPosition,i)},e.expandNowNext=function(){var t=$(".main-section > .content"),i=$(".expand-btn"),n=y.find(".now-and-next"),r=$("#description-popover"),o=$(".recommendations"),s=y.find(".slider"),a=$(".featured"),l=a.find(".active .player iframe").attr("id"),c=a.find(".active .player > div").attr("id"),u=a.find(".active .vjs-play-control");if(y.hasClass("expand")){y.find(".slider .active").removeClass("active");for(var d=s.find(".expanded"),h=d.length,p=0;h>p;p++){var f=d[p],m=f.getAttribute("data-originalWidth"),g=f.getAttribute("data-wasInfo"),v=f.getAttribute("data-oldLeft");m&&(f.removeAttribute("data-originalWidth"),$(f).width(m+"px")),v&&(f.removeAttribute("data-oldLeft"),$(f).css({left:v+"px"})),g&&($(f).addClass("info"),f.removeAttribute("data-wasInfo"))}r.hide(),s.prepend(r),y.removeClass("expand").delay(500).show(function(){t.removeClass("shrink").removeClass("fade"),i.removeClass("expanded").text("Expand"),o.removeClass("fade")}),n.addClass("sidebar")}else o.addClass("fade"),t.addClass("fade").delay(600).show(function(){$(this).addClass("shrink"),y.addClass("expand"),i.addClass("expanded").text("Collapse"),n.removeClass("sidebar"),s.position().left<-5e3&&e.moveTo(20),l&&callPlayer(l,function(){callPlayer(l,"stopVideo")}),c&&(a.find(".active .play").show().click(function(){return u.hasClass("vjs-paused")?(u.eq(0).click(),a.find(".player > div:gt(0)").remove(),!1):void 0}),_V_(c).pause())})},e.horizontalPageScrolled=function(i,n){if(!t.device.isMobile)return!1;e.currentNavButton="";var r=Math.floor(-1*i/(2*e.hourWidth)),o=$(document).scrollTop(),s=$(window).height(),a=s/2+o,l=0;do a-=490,l++;while(a>245);if(e.pageNo=l,n)if(-1!=e._SAVED_DATA[l].indexOf(r+1));else{var c=e._SAVED_DATA[l].sort(function(e,t){return t-e})[0];c+=1,c>22&&(c=22),e.currentPosition=c,t._hourValue=c,e.$broadcast("FILTER:tv-gude","hours",t._hourValue)}else if(e._SAVED_DATA[l]&&-1!=e._SAVED_DATA[l].indexOf(r-1));else{var c=e._SAVED_DATA[l]?e._SAVED_DATA[l].sort(function(e,t){return e-t})[0]:0;c-=1,0>c&&(c=0),e.currentPosition=c,t._hourValue=c,e.$broadcast("FILTER:tv-gude","hours",t._hourValue)}},e.adjustHeight=function(){channelCount=t.tvGuideVisibleRows;var e=70*channelCount+37+"px";p.height(e).closest(".tv_guide").height(e),g.height(70*channelCount+"px")},e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},e.$on("FILTER:tv-gude",function(i,n,a){"calendar"!=n||a==e.channelSelectedDate||c||(e.channelSelectedDate=null),e.safeApply(function(){t.loadingBelow=!0}),"pageno"!=n&&"hours"!=n&&d();var l={userid:t.getUser().userid,totalhrdata:u};l.context="tv_operator"==n?"applicationname=sourcebits;headendid="+a:"applicationname=sourcebits;headendid="+t._currentTvOperator,l.channelgenre="nav"==n?a:e._currentGenre,"calendar"==n?(l.dateselected=a,o(function(){a>0?(e.moveTo(0),e.currentDate=!1,b.hide()):(b.show(),e.slideToNow())})):(l.dateselected=t._currentDayParam,_.isUndefined(e.channelSelectedDate)||_.isNull(e.channelSelectedDate)||(l.dateselected=e.channelSelectedDate),e.currentDate=!0),l.pageno="pageno"==n?a:e.pageNo,l.starthour="hours"==n?a:t._hourValue,l.starthour=0,c&&(angular.isDefined(r.channelid)&&(l.channelid=r.channelid,t.highlightedChannel=r.channelid),c=!1),_.isUndefined(e.channelSelectedDate)||_.isNull(e.channelSelectedDate)||(l.dateselected=e.channelSelectedDate),apiKey=(new Date).getTime(),function(i,n){t.emptyResult=!1,s.getTVGuideInfo(i,function(r){if(n!=apiKey)return!1;if(e.allowRequests=!0,!r.gettvguidewithgenre)return"favorite"==e._currentGenre?(e.notEnoughFavorites=!0,e.channelLimitReached=!0,t.$broadcast("tvGuide:notEnoughFavorites",{counter:t.tvGuideVisibleRows,adjust:!0})):t.emptyResult=!0,t.loadingBelow=!1,!1;if(i.channelgenre!=t._currentGenre)return!1;var s=Object.keys(e._MODEL).length;0==s&&e.currentDate?e.slideToNow():0==s&&e.moveTo(0),e.isEmpty=!1,r.gettvguidewithgenre.tvguideprogrammewithgenrelist=addData(r.gettvguidewithgenre.tvguideprogrammewithgenrelist),r.gettvguidewithgenre.channelinfo=addData(r.gettvguidewithgenre.channelinfo);var a=r.gettvguidewithgenre.channelinfo.length;t.tvGuideVisibleRows+=a,(!a||7>a)&&"favorite"==e._currentGenre&&(e.notEnoughFavorites=!0,e.channelLimitReached=!0,t.$broadcast("tvGuide:notEnoughFavorites",{counter:t.tvGuideVisibleRows,adjust:!0})),h(r.gettvguidewithgenre.tvguideprogrammewithgenrelist,r.gettvguidewithgenre.channelinfo),"home"!==e.thisPage||1!=e.pageNo||t.device.isMobile||t.device.isTablet||t.device.isTouch||(e.pageNo++,e.$broadcast("FILTER:tv-gude","pageno",e.pageNo));for(var l=i.starthour;l<i.starthour+u;l++)e._SAVED_DATA[i.pageno]||(e._SAVED_DATA[i.pageno]=[]),e._SAVED_DATA[i.pageno].push(l);e.scrollValue=e.scrollValue-1e3,e.adjustHeight();var c=$(".channels");o(function(){c=c.find("> ul > li"),t.tvGuideVisibleRows=c.length})})}(l,apiKey)}),$(function(){if($.extend($.support,{touch:"ontouchend"in document}),$.support.touch){var e=$(".tv_guide .slider").get(0);e&&(e.addEventListener("touchstart",iPadTouchHandler,!1),e.addEventListener("touchmove",iPadTouchHandler,!1),e.addEventListener("touchend",iPadTouchHandler,!1),e.addEventListener("touchcancel",iPadTouchHandler,!1))}}),"home"===e.thisPage&&e.$broadcast("FILTER:tv-gude","hours",t._hourValue),e.loadOnScrollTop=function(){if("home"===e.thisPage||e.channelLimitReached)return!1;var i=$(document).scrollTop(),n=$(window).height(),r=n/2+i,o=0;do r-=490,o++;while(r>245);o==e.pageNo?e.allowRequests=!0:(e.pageNo=o,e._SAVED_DATA[e.pageNo]?(Math.floor(-1*e.currentPosition/(2*e.hourWidth)),-1==e._SAVED_DATA[e.pageNo].indexOf(t._hourValue)&&e.allowRequests&&(e.allowRequests=!1,e.$broadcast("FILTER:tv-gude","hours",t._hourValue))):e.allowRequests&&(e.allowRequests=!1,e.$broadcast("FILTER:tv-gude","pageno",e.pageNo)))},e.$on("tvGuide:updateIndent",function(t,i){e.$apply(function(){e.currentPosition=i.position})})}]),woi.controller("GenreController",["$scope","$rootScope","$filter","userAPI","tsmAPI",function(e,t){e.setGenre=function(e){t._currentGenre=e,t.$broadcast("FILTER:tv-gude","nav",e)}}]),woi.controller("TVGuide_OperatorsController",["$scope","$rootScope","$filter","userAPI","tsmAPI",function(e,t,i,n,r){e.allOperators=[],e.paginateOps=[],e.selectedOperator,e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},e.breakIt=!1,e.preSelectedOperator={},e.update=function(){if(e.allOperators.length>0)return!1;e.safeApply(function(){e.noTvOperators=!1});var i={userid:t.getUser().userid};angular.isDefined(t.userInfo.areaid)&&(i.areaid=t.userInfo.areaid),angular.isDefined(t.userInfo.cityid)&&(i.cityid=t.userInfo.cityid),angular.isDefined(t.userInfo.stateid)&&(i.stateid=t.userInfo.stateid),r.getOperatorList(i,function(t){if(!t.getoperators){var i={operator_name:"TV Operator",operator_id:0};return e.selectOperator(i),e.noTvOperators=!0,!1}e.allOperators=addData(t.getoperators.operatorslist),e.paginateOps=e.allOperators.slice(0,8);for(var n=0;n<e.allOperators.length;n++)e.breakIt&&(e.allOperators[n].isoperatoradded="0"),"1"==e.allOperators[n].isoperatoradded&&(e.breakIt=!0,e.preSelectedOperator=e.allOperators[n]);if(angular.isDefined(e.preSelectedOperator.operator_id))e.selectOperator(e.preSelectedOperator);else{var i={operator_name:"TV Operator",operator_id:0};e.selectOperator(i)}})},e.update(),e.clickIt=function(e){return"1"==e.isoperatoradded?!0:void 0},e.viewAllOperators=function(){e.paginateOps=e.allOperators},e.selectOperator=function(i){$("div.qtip:visible").qtip("hide"),e.selectedOperator=i.operator_name;var n=$(".operator-name");n.html(i.operator_name),t._currentTvOperator=i.operator_id,t.$broadcast("FILTER:tv-gude","tv_operator",i.operator_id)},e.$on("update:location",function(i,n){e.allOperators=[],e.paginateOps=[],0==e.allOperators.length&&setTimeout(function(){$(".tvop:first").attr("checked","checked")},5),e.locationString=n.cityname,$(".location-string").html(n.cityname);var r=t.getUser();return-1!=r.userid&&t.isUserLogged()?(t.userInfo.City=n.cityname,t.userInfo.areaid=n.areaid,t.userInfo.areatype=n.areatype,t.userInfo.cityid=n.cityid,t.userInfo.cityname=n.cityname,t.userInfo.placename=n.placename,t.userInfo.stateid=n.stateid,t.userInfo.statename=n.statename,t.userInfo.countryid=n.countryid,$.cookie("userInfo",JSON.stringify(r),{expires:365}),void 0):!1})}]),woi.controller("CalendarController",["$scope","$rootScope","$filter","userAPI","tsmAPI",function(e,t,i){var n=i("addZero"),r=i("getNameDay"),o=i("getNameMonth"),s=i("toOrdinal"),a=!0;e.calendar=[],e.ndays=7;var l=new Date;if(t.loadNextDay&&l.setDate(l.getDate()+1),e.selected_date={date_string:s(l.getDate())+" "+o(l.getMonth()).substr(0,3),day_name:r(l.getDay(),!0),day_value:n(l.getDate()),day_ordinal:s(l.getDate()),value:t.loadNextDay?1:0},t.loadNextDay=!1,e.setCalendar=function(){for(var t=[],i=new Date,a=0;a<e.ndays;a++)t.push({date_string:s(i.getDate())+" "+o(i.getMonth()).substr(0,3),day_name:r(((new Date).getDay()+a)%7,!0),day_value:n(i.getDate()),month_name:o(i.getMonth()).substr(0,3),day_ordinal:s(i.getDate()),value:a}),i.setDate(i.getDate()+1);e.calendar=t},e.isDateSelected=function(t){return t.value===e.selected_date.value},e.selectDate=function(i,n){n.target,e.selected_date=i,$("div.qtip:visible").qtip("hide"),t._currentDayParam=i.value,e.channelSelectedDate=null,t.$broadcast("FILTER:tv-gude","calendar",i.value)},a&&!_.isUndefined(e.channelSelectedDate)&&!_.isNull(e.channelSelectedDate)){if(e.setCalendar(),e.selected_date=_.select(e.calendar,function(t){return t.value==e.channelSelectedDate?t:void 0}),e.selected_date=e.selected_date[0],e.selected_date.value>0){e.moveTo(0),e.currentDate=!1;var c=$(".time-elapsed");c.hide()}a=!1}}]),woi.controller("UserLocationController",["$scope","$rootScope","$routeParams","autoAPI","userAPI",function(e,t,i,n,r){if(angular.isDefined(t.getUser().City))e.locationString=t.getUser().City;else{var o=geoip_city();e.locationString=o}e.triggerAutoComplete=function(t,i){return t.length<2?!1:(e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},n.autoCompleteLocation({placename:t},function(t){e.safeApply(function(){e.autoComplete.data=t.response.docs}),i&&"function"==typeof i&&i(e.autoComplete.data)}),void 0)},e.callFilter=function(e){var i={city:e.cityname,state:e.statename,area:e.areaid,userid:t.getUser().userid};r.updateUserLocationDetails(i,function(i){i.response.responsestatus&&t.$broadcast("update:location",e)})}}]),woi.controller("UserController",["$rootScope","$scope","$compile","$filter","$location","$timeout","$routeParams","userAPI","recoAPI","videoActions","userList","$location",function(e,t,i,n,r,o,s,a,l,c,u,r){t.userData=e.getUser(),t.remindVerified=!1,n("addZero");var d=n("loading");t.takeMeToInfo=function(){$("div.qtip:visible").qtip("hide"),r.path("/watchlistinfo"),e.$emit("handleResetEmit")},t.toggleLikeDiscussion=function(n,r,s,l){s.preventDefault();var c=$(s.currentTarget);if(!e.isUserLogged()){e.beforeaction.title="Login to Like",e.beforeaction.subtitle="Please login to Like";var u=c.attr("data-popover")?-15:5,h=$(".sidebar").hasClass("expand")||$(".tv_guide").hasClass("tv")?{my:"top left",at:"bottom center"}:{my:"top center",at:"bottom center"},p=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:h.my,at:h.at,adjust:{y:u}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){c.parent().parent(".thumb").addClass("active"),c.addClass("active")},hide:function(){c.parent().parent(".thumb").removeClass("active"),c.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(e){var a=this;o(function(){a.set("content.text",i(e)(t)),o(function(){a.reposition()})}),t.actionObj={element:c,popconfig:f,success:function(){t.toggleLikeDiscussion(n,r,s,!0),c.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},f=p();return c.qtip(f).qtip("show"),!1}c.qtip("destroy"),c.addClass("loading"),d("show",{element:c});var m={likeStatus:n?"True":"False",contentType:"forum",forumid:r.forumid?r.forumid:r.contentid,userid:e.getUser().userid};a.toggleDiscussionLike(m,function(e){return l?(location.reload(),!1):(c.removeClass("loading"),d("hide",{element:c}),e.response.responsestatus?(n?0==1*r.userlike&&(r.forumlikecount++,r.likecount&&r.likecount++):1==1*r.userlike&&(r.forumlikecount--,r.likecount&&r.likecount--),r.userlike=n?1:0,r.userdislike=n?0:1,void 0):(alert(e.response.message),!1))})},t.flagDiscussion=function(n,r,s){r.preventDefault();var l=$(r.currentTarget);if(!e.isUserLogged()){e.beforeaction.title="Login to Flag this discussion",e.beforeaction.subtitle="Please login to Flag this discussion";var c=l.attr("data-popover")?-15:5,u=$(".sidebar").hasClass("expand")||$(".tv_guide").hasClass("tv")?{my:"top left",at:"bottom center"}:{my:"top center",at:"bottom center"},h=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:u.my,at:u.at,adjust:{y:c}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){l.parent().parent(".thumb").addClass("active"),l.addClass("active")},hide:function(){l.parent().parent(".thumb").removeClass("active"),l.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(e){var s=this;o(function(){s.set("content.text",i(e)(t)),o(function(){s.reposition()})}),t.actionObj={element:l,popconfig:p,success:function(){t.flagDiscussion(n,r,!0),l.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},p=h();return l.qtip(p).qtip("show"),!1}l.qtip("destroy"),l.addClass("loading"),d("show",{element:l});var f={reportabuse:"0"==n.userreportabuse?!0:!1,contentType:"forum",forumid:n.forumid?n.forumid:n.contentid,userid:e.getUser().userid};a.flagDiscussion(f,function(e){return s?(location.reload(),!1):(l.removeClass("loading"),d("hide",{element:l}),e.response.responsestatus?(n.userreportabuse="0"==n.userreportabuse?"1":"0",void 0):(alert(e.response.message),!1))})},t.toggleLikeComment=function(n,r,s,l){s.preventDefault();var c=$(s.currentTarget);if(!e.isUserLogged()){e.beforeaction.title="Login to Like",e.beforeaction.subtitle="Please login to Like";var u=c.attr("data-popover")?-15:5,h=$(".sidebar").hasClass("expand")||$(".tv_guide").hasClass("tv")?{my:"top left",at:"bottom center"}:{my:"top center",at:"bottom center"},p=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:h.my,at:h.at,adjust:{y:u}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){c.parent().parent(".thumb").addClass("active"),c.addClass("active")},hide:function(){c.parent().parent(".thumb").removeClass("active"),c.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(e){var a=this;o(function(){a.set("content.text",i(e)(t)),o(function(){a.reposition()})}),t.actionObj={element:c,popconfig:f,success:function(){t.toggleLikeComment(n,r,s,!0),c.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},f=p();return c.qtip(f).qtip("show"),!1}c.qtip("destroy"),c.addClass("loading"),d("show",{element:c});var m={LikeStatus:n,contentType:"thread",threadid:r.threadid,userid:e.getUser().userid};a.toggleCommentLike(m,function(e){return l?(location.reload(),!1):(c.removeClass("loading"),d("hide",{element:c}),e.response.responsestatus?(r.userlike=n?1:0,r.userdislike=n?0:1,void 0):(alert(e.response.message),!1))})},t.toggleFlagComment=function(n,r,s){r.preventDefault();var l=$(r.currentTarget);if(!e.isUserLogged()){e.beforeaction.title="Login to Report Abuse",e.beforeaction.subtitle="Please login to Report Abuse";var c=l.attr("data-popover")?-15:5,u=$(".sidebar").hasClass("expand")||$(".tv_guide").hasClass("tv")?{my:"top left",at:"bottom center"}:{my:"top center",at:"bottom center"},h=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:u.my,at:u.at,adjust:{y:c}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){l.parent().parent(".thumb").addClass("active"),l.addClass("active")},hide:function(){l.parent().parent(".thumb").removeClass("active"),l.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(e){var s=this;o(function(){s.set("content.text",i(e)(t)),o(function(){s.reposition()})}),t.actionObj={element:l,popconfig:p,success:function(){t.toggleFlagComment(n,r,!0),l.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},p=h();return l.qtip(p).qtip("show"),!1}l.qtip("destroy"),l.addClass("loading"),d("show",{element:l});var f={reportabuse:"0"==n.userreportabuse?!0:!1,contentType:"thread",threadid:n.threadid,userid:e.getUser().userid};a.toggleFlagComment(f,function(e){return s?(location.reload(),!1):(l.removeClass("loading"),d("hide",{element:l}),e.response.responsestatus?("true"==e.response.responsestatus?n.userreportabuse="0"==n.userreportabuse?"1":"0":console&&console.log(e.response.message),void 0):(alert(e.response.message),!1))})},t.discussion={reply:{forumid:0,message:""}};var h=function(e,t){t?(e.stop().queue("fx",[]).slideDown(),e.prev().addClass("error")):(e.stop().queue("fx",[]).slideUp(),e.prev().removeClass("error"))};t.commentDiscussion=function(e,i,n,r){i.preventDefault(),t.isComment=!0,console.log("commentDiscussion",e,i,n,r),t.replyDiscussion(e,i,n,r)},t.replyDiscussion=function(n,r,s,l,c){r.preventDefault();var u=($(".errorMessage"),$("#trending_comment_error")),p=$("#trending_reply_error");h(u,!1),h(p,!1);var f=$(r.currentTarget),m=f.parent().find("textarea");if(""==$.trim(t.discussion.reply.message))return t.isComment?h(u,!0):h(p,!0),f.parent().find("textarea").focus(),!1;var g={forumid:n,commenttext:t.discussion.reply.message,userid:e.getUser().userid};if(!e.isUserLogged()){e.beforeaction.title="Login to Reply",e.beforeaction.subtitle="Please login to Reply";var v=f.attr("data-popover")?-15:5,y=$(".sidebar").hasClass("expand")||$(".tv_guide").hasClass("tv")?{my:"top left",at:"bottom center"}:{my:"top center",at:"bottom center"},b=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:y.my,at:y.at,adjust:{y:v}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){f.parent().parent(".thumb").addClass("active"),f.addClass("active")},hide:function(){f.parent().parent(".thumb").removeClass("active"),f.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(e){var s=this;o(function(){s.set("content.text",i(e)(t)),o(function(){s.reposition()})}),t.actionObj={element:f,popconfig:w,success:function(){t.replyDiscussion(n,r,null,null,!0),f.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},w=b();return f.qtip(w).qtip("show"),!1}f.qtip("destroy"),f.addClass("loading"),d("show",{element:f}),a.replyDiscussion(g,function(e){if(c)return location.reload(),!1;if(f.removeClass("loading"),d("hide",{element:f}),t.openNotification("trendingConfirmation"),m.val(""),!e.response.responsestatus)return alert(e.reponse.message),!1;if(s&&"function"==typeof s){var i;i=l?l:{forumid:n},s(i)}}),t.isComment=!1},t.openNotification=function(e){var i=e?$("#"+e):$(".discussionConfirmation"),n=i.children("li").children(".dc_check, .dc_close"),r=i.outerHeight();n.height(r),i.fadeIn().slideDown(),setTimeout(function(){t.closeNotification(null,i)},3e3)},t.closeNotification=function(e,t){if(e){e.preventDefault();var i=$(e.currentTarget),n=i.parent().parent()}else n=t;n.slideUp().fadeOut()},t.openReplyForm=function(e){var t=$(e.currentTarget),i=t.parents(".info").find("form.post-reply"),n=$("form.post-reply.opened");n.each(function(){this!=i.get(0)&&$(this).slideUp().removeClass("opened")}),i.slideToggle().toggleClass("opened")},t.toggleFavoriteChannel=function(n,r,s){n.preventDefault();var l=$(n.currentTarget);if(!e.isUserLogged()){e.beforeaction.title="Login to Favorite",e.beforeaction.subtitle="Please login to favorite",l.attr("data-popover")?-15:5;var c=$(".sidebar").hasClass("expand")||$(".tv_guide").hasClass("tv")?{my:"top left",at:"bottom center"}:{my:"top center",at:"bottom center"},u=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:c.my,at:c.at,adjust:{y:2,x:-2}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){l.parent().parent(".thumb").addClass("active"),l.addClass("active")},hide:function(){l.parent().parent(".thumb").removeClass("active"),l.removeClass("active")}},content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(e){var s=this;o(function(){s.set("content.text",i(e)(t)),o(function(){s.reposition()})}),t.actionObj={element:l,popconfig:h,success:function(){t.toggleFavoriteChannel(n,r,!0),l.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},h=u();return l.qtip(h).qtip("show"),!1}l.qtip("destroy"),l.addClass("loading"),d("show",{element:l});var p={channelid:r.id?r.id:r.channelid?r.channelid:r.ChannelID,userid:e.getUser().userid,like:r.favorite?!r.favorite:r.channelfavorite?"1"==r.channelfavorite?!1:!0:"true"==r.ischannelfavorite?!1:!0};a.toggleFavoriteChannel(p,function(i){if(s)return location.reload(),!1;if(l.removeClass("loading"),d("hide",{element:l}),"false"==i.response.responsestatus)return alert(i.response.message),!1;if(r.favorite=!r.favorite,r.channelfavorite="1"==r.channelfavorite?"0":"1",r.ischannelfavorite&&(r.ischannelfavorite="true"==r.ischannelfavorite?"false":"true","false"==r.ischannelfavorite&&(e.tvGuideVisibleRows--,t.adjustHeight(),e.$broadcast("tvGuide:notEnoughFavorites",{counter:e.tvGuideVisibleRows,adjust:!1}))),angular.isDefined(r.nooffans)){var n=r.nooffans;-1===n.toString().indexOf("k")&&("true"==r.ischannelfavorite||"1"==r.channelfavorite?r.nooffans++:r.nooffans--)}})},t.loadAuth=function(n,r){return r.element.qtip($.extend(r.popconfig,{content:{text:'<div class="popover-loader signin-loader"></div>',ajax:{url:"/user/"+n,type:"GET",data:{},success:function(n){var s=this;o(function(){e.callback=r,s.set("content.text",i(n)(t)),o(function(){s.reposition()})})}}}})).qtip("show"),!1},t.goToProgramme=function(e,t){t.preventDefault(),r.path("/programme/"+e.programmeid+"/channel/"+e.channelid)},t.toggleChannelFavorite=function(t,i){i.preventDefault(),i.stopPropagation();var n=$(i.currentTarget);n.parent().parent(".thumb").addClass("active"),n.addClass("loading"),d("show",{element:n}),a.toggleFavoriteChannel({like:"0"==t.channelfavorite,channelid:t.channelid,userid:e.getUser().userid},function(e){n.removeClass("loading"),window.setTimeout(function(){n.parent().parent(".thumb").removeClass("active")},1500),d("hide",{element:n}),e.response.responsestatus?t.channelfavorite="0"==t.channelfavorite?"1":"0":alert(e.response.message)}),location.reload()},t.toggleFavorite=function(n,r,s){r.preventDefault(),r.stopPropagation();var l=$(r.currentTarget),c=e.device.isTouch&&l.offset().left<125?"top left":"top center";if(!e.isUserLogged()){e.beforeaction.title="Login to Favorite",e.beforeaction.subtitle="Please login to favorite";var u=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:c,at:"bottom center",adjust:{y:5}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){l.parent().parent(".thumb").addClass("active"),l.parent().parent(".minor-details").addClass("active"),l.addClass("active")},hide:function(){l.parent().parent(".thumb").removeClass("active"),l.parent().parent(".minor-details").removeClass("active"),l.removeClass("active")}},content:{text:'<div class="top left popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(e){var s=this;o(function(){s.set("content.text",i(e)(t)),o(function(){s.reposition()})}),t.actionObj={element:l,popconfig:h,success:function(){t.toggleFavorite(n,r,!0),l.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},h=u();return l.qtip(h).qtip("show"),!1}l.qtip("destroy");var p=JSON.stringify(n).toLowerCase(),f=JSON.parse(p);l.parent().parent(".thumb").addClass("active"),l.addClass("loading"),d("show",{element:l}),_.isUndefined(f.programmeid)&&(f.programmeid=f.programid),a.toggleFavoriteProgramme({like:"0"==f.isfavorite,programmeid:f.programmeid,userid:e.getUser().userid},function(t){if(s)return location.reload(),!1;if(l.removeClass("loading"),window.setTimeout(function(){l.parent().parent(".thumb").removeClass("active")},1500),d("hide",{element:l}),console.log("toggleFavoriteProgramme"),t.response.responsestatus){if(n.isfavorite="0"==n.isfavorite?"1":"0",console.log("toggleFavoriteProgramme => Else"),"1"==n.isfavorite?e.$broadcast("watchlist::add",n):e.$broadcast("watchlist::FavRem::Remove",n),angular.isDefined(n.nooffans)){var i=n.nooffans;-1===i.toString().indexOf("k")&&("1"==n.isfavorite?n.nooffans++:n.nooffans--)}}else alert(t.response.message)})};var p=function(i,s,l,c,u){var h=$(s.currentTarget),p="top center";h.attr("data-popover-position")&&(p=h.attr("data-popover-position")),h.parent().parent(".thumb").addClass("active"),h.addClass("loading"),h.hasClass("programme-reminder")||d("show",{element:h});var f=n("addZero"),m=n("isoToDate");if((angular.isUndefined(l)||!l)&&(l="false"),"0"==i.isreminder||"true"==l||c){var g=m(i.starttime);console.log("user details ....  ?????? === ",e.userInfo),"custid=1;headendid=0;applicationname=website;msisdn="+e.getUser().mobile;var v=e.userInfo.isSMSReminder,y=e.userInfo.isEmailReminder;if("false"==v.toLowerCase()&&"false"==y.toLowerCase()){y="true";var b={userid:e.getUser().userid,updatetype:"email reminder",updatevalue:!0};a.updateUserSettings(b,function(){})}var b={channelid:i.channelid,programmeid:i.programmeid,starttime:""+g.getFullYear()+f(g.getMonth()+1)+f(g.getDate())+f(g.getHours())+f(g.getMinutes()),userid:e.getUser().userid,priortimeinminutes:e.getUser().priortimeinminutes,isemailreminder:y,issmsreminder:v,isdevicereminder:!1,isrecurring:l};console.log("params for adding reminder"),console.log(b),a.addReminder(b,function(n){return u?(location.reload(),!1):(console.log("REMINDEr response"),console.log(n),h.removeClass("loading"),d("hide",{element:h}),"false"==n.response.responsestatus?(t.isReminderSet=!1,setTimeout(function(){alert(n.response.message),h.parent().parent().hasClass("schedule-item")?h.qtip("hide"):h.qtip("destroy")})):(console.log("added reminder"),i.isreminder="1",i.reminderid=n.response.reminderid,i.statusMsg="Set Reminder",t.isReminderSet=!0,e.$broadcast("watchlist::add",i,e.reminderList),e.currentItemForReminder.isRepeated=l,console.log(i),e.$broadcast("programme:syncReminder",{item:i})),void 0)})}else{if("/Watchlist"==r.path()){var w=$(".watchlist-header .btn-group a:first-child"),x=w.text();x=x.trim(),x=x.toLowerCase(),"reminders"==x&&w.hasClass("active")&&$(".qtip").hide()}h.removeClass("loading"),d("hide",{element:h}),a.removeReminder({reminderid:i.reminderid,repeatReminder:!1},function(t){if(console.log("removed the like"),console.log(t),"true"==t.response.responsestatus){e.currentItemForReminder.isRepeated=!1;var n;_.isUndefined(e.reminderList)||_.each(e.reminderList,function(e,t){i.programmeid==e.programmeid&&i.reminderid==e.reminderid&&(n=t)}),_.isUndefined(n)||(e.reminderList[n].isreminder="0",e.reminderList[n].reminderid="0"),i.isreminder="0",i.reminderid="0",e.$broadcast("watchlist::FavRem::Remove",i,e.reminderList),o(function(){e.reminderList=void 0}),i.statusMsg="Cancelled Reminder",e.$broadcast("programme:syncReminder",{item:i})}})}console.log("END p.isreminder == "+i.isreminder)};t.setRepeatReminder=function(t){console.log("setRepeatReminder ----->>>>> p == "),console.log(e.currentItemForReminder),p(e.currentItemForReminder,t,"true",!0)},t.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},t.toggleReminder=function(n,s,a,l,c){s.preventDefault(),s.stopPropagation(),t.userData=e.getUser(),e.reminderList=l;var u="cside-popover",d=$(s.currentTarget);r.path().match("Programme")&&d.parent().parent().hasClass("schedule-item")&&(u="rside-popover"),e.currentItemForReminder=n,t.safeApply(function(){n.statusMsg=""});var h=e.getUser(),m="top center",m=e.device.isTouch&&d.offset().left>600?"top right":e.device.isTouch&&d.offset().left<125?"top left":"top center";e.device.isMobile&&(m=e.device.isMobile&&d.offset().left>200?"top right":e.device.isMobile&&d.offset().left<100?"top left":"top center");var g="";if("top right"==m&&(g=" watchlist-hover-popover"),!e.isUserLogged()){e.beforeaction.title="Login to Set Reminder",e.beforeaction.subtitle="Please login to set reminder";var v=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:m,at:"bottom center",adjust:{y:5,x:0}},style:{classes:"popover reminder-popover cside-popover"+g},events:{show:function(){d.parent().parent(".thumb").addClass("active"),d.parent().parent(".minor-details").addClass("active"),d.parent().parent(".schedule-item").addClass("active"),d.addClass("active")},hide:function(){d.parent().parent(".thumb").removeClass("active"),d.parent().parent(".minor-details").removeClass("active"),d.parent().parent(".schedule-item").removeClass("active"),d.removeClass("active")},render:function(e,t){f=t.elements.content}},content:{text:'<div class="top left popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(r){var a=this;o(function(){a.set("content.text",i(r)(t)),o(function(){a.reposition()})}),t.actionObj={element:d,popconfig:y,success:function(){console.log("success........."),e.isUserLogged()?(console.log("user was logged in"),t.toggleReminder(n,s,null,!0),d.qtip("hide").qtip("destroy")):console.log("user was NOT logged in")},failure:function(){alert("oopss")}}}}}}},y=v();return d.qtip(y).qtip("show"),!1}if(d.qtip("destroy"),e.device.isMobile&&(g+=" mobile-reminder-popup"),e.isUserLogged()){e.beforeaction.title="Login to Set Reminder",e.beforeaction.subtitle="Please login to set reminder";var v=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:Modernizr.mq("screen and (max-width:640px)")?"top right":m,at:"bottom center",adjust:{y:5,x:0}},style:{classes:"popover reminder-popover android-tip-fix "+u+g},events:{show:function(){d.parent().parent(".minor-details").addClass("active"),d.parent().parent(".schedule-item").addClass("active")},hide:function(){d.parent().parent(".thumb").removeClass("active"),d.parent().parent(".minor-details").removeClass("active"),e.isUserLogged()&&"0"!=e.currentItemForReminder.isreminder||(d.parent().parent(".schedule-item").removeClass("active"),d.parent().parent().hasClass("programme-info")&&d.removeClass("active"))
}},content:{text:'<div class="top left popover-loader signin-loader"></div>',ajax:{url:"/user/reminders",type:"GET",data:{},success:function(r){var a=this;o(function(){a.set("content.text",i(r)(t)),o(function(){a.reposition()})}),t.actionObj={element:d,popconfig:y,success:function(){console.log("success........."),e.isUserLogged()?(console.log("user was logged in"),t.toggleReminder(n,s),d.qtip("hide").qtip("destroy")):console.log("user was NOT logged in")},failure:function(){alert("oopss")}}}}}}};if(angular.isUndefined(e.currentItemForReminder.channelid)||0==e.currentItemForReminder.channelid||"0"==e.currentItemForReminder.channelid||angular.isUndefined(e.currentItemForReminder.starttime))return alert("Reminder can not be set because program is currently not airing on any channel."),d.parent().parent(".thumb").removeClass("active"),d.parent().parent(".minor-details").removeClass("active"),d.parent().parent(".schedule-item").removeClass("active"),d.removeClass("active"),!1;var y=v();if(Modernizr.mq("screen and (max-width:640px)")&&("sliderWL"==a||"landingWL"==a)){var b=y;b.position.my="center",b.position.at="center",b.position.target=$(window)}d.qtip(y).qtip("show")}e.isUserLogged()&&("true"==h.mobilenumberverified?p(e.currentItemForReminder,s,null,null,c):p(e.currentItemForReminder,s,null,null,c))},t.verifyMobileNumber=function(i){if(!t.mobile_number_verification)return alert("Empty mobile number"),!1;var n=$(i.currentTarget);n.addClass("loading"),d("show",{element:n});var r={context:"custid=1;headendid=0;applicationname=website;msisdn="+t.mobile_number_verification,userid:e.getUser().userid};a.verifyMobileNumber(r,function(e){return n.removeClass("loading"),d("hide",{element:n}),"false"==e.response.responsestatus?(alert(e.response.message),!1):void 0})},t.authorizeMobileNumber=function(i){if(!t.mobile_number_verification_code)return alert("Please enter a valid verification code."),!1;var n=$(i.currentTarget);n.addClass("loading"),d("show",{element:n});var r={context:"custid=1;headendid=0;applicationname=website;msisdn="+t.mobile_number_verification,smscode:t.mobile_number_verification_code,userid:e.getUser().userid};a.verifyMobileCode(r,function(r){if(n.removeClass("loading"),d("hide",{element:n}),"false"==r.response.responsestatus)return alert("Please enter a valid verification code."),!1;console.log("you are now verified");var o=e.getUser();if(-1==o.userid)return!1;var s={userid:e.getUser().userid,updatetype:"sms reminder",updatevalue:!0};a.updateUserSettings(s,function(n){console.log("SMS is set to on = ",n),e.userInfo.isSMSReminder="true",e.userInfo.mobilenumberverified="true",e.userInfo.mobile=t.mobile_number_verification,$.cookie("userInfo",JSON.stringify(e.userInfo),{expires:365}),console.log("updated cookie"),console.log(JSON.parse($.cookie("userInfo"))),p(e.currentItemForReminder,i,"false",!0)})})},t.remindVerified=t.userData.mobilenumberverified?!0:!1;var f;t.addToWatchlist=function(n,r,s){r.preventDefault(),r.stopPropagation();var l,c=$(r.currentTarget);console.log("..... element == ",c),console.log(c.offset());var u=e.device.isTablet&&c.offset().left>600?"top right":"top center";e.device.isMobile&&(u=e.device.isMobile&&c.offset().left>200?"top right":e.device.isMobile&&c.offset().left<100?"top left":"top center");var h=null;if(!e.isUserLogged()){e.beforeaction.title="Create Your Watchlist",e.beforeaction.subtitle="Follow your favorites on TV";var p=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:u,at:"bottom center",adjust:{y:5,x:0}},style:{classes:"popover reminder-popover cside-popover watchlist-hover-popover"},events:{show:function(){c.parent().parent(".thumb").addClass("active"),c.parent().parent(".minor-details").addClass("active"),c.addClass("active")},hide:function(){c.parent().parent(".thumb").removeClass("active"),c.parent().parent(".minor-details").removeClass("active"),c.removeClass("active")},render:function(e,t){if(null!=h){var i=t.elements.tip;l=t.elements.content,i.addClass("tip-watchlist-pos-fix1")}}},content:{text:'<div class="top left popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(s){var a=this;o(function(){a.set("content.text",i(s)(t)),o(function(){a.reposition()})}),t.actionObj={element:c,popconfig:f,success:function(){t.addToWatchlist(n,r,!0),e.$broadcast("watchlist::fetch",1),c.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},f=p();return c.qtip(f).qtip("show"),l.scrollToMe(65),!1}c.qtip("destroy");var m=JSON.stringify(n).toLowerCase(),g=JSON.parse(m);c.parent().parent(".thumb").addClass("active"),c.addClass("loading"),d("show",{element:c}),_.isUndefined(g.programmeid)&&(g.programmeid=g.programid),console.log("temp.iswatchlist"+g.iswatchlist),console.log(g);var v="0"==g.iswatchlist;o(function(){console.log("user id is "),console.log(e.getUser().userid);var t={watchliststatus:v,userid:e.getUser().userid};_.isUndefined(g.videoid)?(t.contenttype="program",t.contentid=g.programmeid,t.videoid=0):(t.contenttype="video",t.contentid=g.programmeid,t.videoid=g.videoid),a.toggleWatchlist(t,function(t){return s?(location.reload(),!1):(console.log("temp.iswatchlist"+g.iswatchlist),c.removeClass("loading"),window.setTimeout(function(){c.parent().parent(".thumb").removeClass("active")},1500),d("hide",{element:c}),t.response.responsestatus?(n.iswatchlist="0"==n.iswatchlist?"1":"0",1==n.iswatchlist?e.$broadcast("watchlist::add",n):e.$broadcast("watchlist::remove",n.programmeid,!0),Number(n.iswatchlist)?c[0].setAttribute("data-original-title","Remove from Watchlist"):c[0].setAttribute("data-original-title","Add to Watchlist")):alert(t.response.message),void 0)})})}}]),woi.controller("VideosLandingPageController",["$scope","$rootScope","$filter","$routeParams","userAPI",function(e,t){t.$broadcast("highlightVideos",[]),e.phoneSidebar="off",e.toggleSidebar=function(t){e.phoneSidebar=t}}]),woi.controller("VideosListController",["$scope","$rootScope","$filter","$routeParams","$timeout","userAPI","$compile",function(e,t,i,n,r,o,s){var a=i("loading");$spinnerDiv=$(".spin"),a("show",{element:$spinnerDiv}),e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)};var l=function(){e.videosList=[],e.paginateVideos=[],e.pageNo=1,e.allowRequests=!0,e.scrollValue=300,e.amount=0,e.step=7,e.finishedLoading=!1};l(),e.filterType="popular",e.filterChannel="",e.filterGenre="",e.$on("new-filter-init:videos",function(i,n,o){console.log("key === "+n),console.log(o),"genre"==n?e.filterGenre=o:"nav"==n&&(e.filterType=o),"channel"==n?e.filterChannel=o:(e.filterChannel="",$("html").hasClass("ie9")?t.$broadcast("inputs:reset"):t.$broadcast("resetPlaceholder")),e.safeApply(function(){l()}),r(function(){e.filterResults()},5)}),e.loadMoreDetails=function(){return console.log("load more --------->>>>> VIDEOS <<<<<<<<-----------"),e.scrollValue=e.scrollValue+500,console.log("$scope.paginateVideos.length  == "+e.paginateVideos.length),console.log("$scope.videosList.length  == "+e.videosList.length),e.paginateVideos.length>=e.videosList.length?(console.log("all done"),console.log("scrollValue == "+e.scrollValue),console.log("pageYOffset == "+window.pageYOffset),e.allowRequests&&(e.allowRequests=!1,e.pageNo+=1,console.log("making request...."),e.filterResults()),!1):(console.log("show more in view"),e.amount=e.amount+e.step,e.amount>=e.videosList.length&&(e.amount=e.videosList.length),e.paginateVideos=e.videosList.slice(0,e.amount),void 0)},e.filterResults=function(){var i={pageno:e.pageNo,filtertype:e.filterType,channelname:e.filterChannel,videogenre:e.filterGenre,userid:t.getUser().userid,noCache:$.now()};console.log("params === --->"),console.log(i),function(t){o.getAllVideos(t,function(i){if(e.allowRequests=!0,console.log("requested filtertype  === ",t.filtertype),console.log("current filtertype ",e.filterType),e.allowRequests=!0,t.filtertype!=e.filterType)return console.log("DISCARDING THE RESPONSE...."),!1;if(!i.video)return e.finishedLoading=!0,!1;if(!angular.isArray(i.video.videolist)){if(!angular.isObject(i.video.videolist))return e.finishedLoading=!0,!1;i.video.videolist=[i.video.videolist]}e.finishedLoading=!1,1==t.pageno&&e.safeApply(function(){console.log("calling reset again..................... PAGE = 1"),l()}),console.log("Before == "+e.videosList.length);for(var n=0;n<i.video.videolist.length;n++)e.videosList.push(i.video.videolist[n]);console.log("After == "+e.videosList.length),e.scrollValue=e.scrollValue-1e3,e.loadMoreDetails()})}(i)},e.toggleFavoriteVideo=function(i,n,l){n.preventDefault(),n.stopPropagation(),console.log("toggleFavoriteVideo()...");var c=$(n.currentTarget),u=t.device.isTouch&&c.offset().left<125?"top left":"top center";if(!t.isUserLogged()){t.beforeaction.title="Login to Favorite",t.beforeaction.subtitle="Please login to favorite";var d=function(){return{show:"click",hide:{fixed:!0,delay:750,event:"unfocus"},position:{my:u,at:"bottom center",adjust:{y:5}},style:{classes:"popover reminder-popover cside-popover"},events:{show:function(){c.parent().parent(".thumb").addClass("active"),c.parent().parent(".minor-details").addClass("active"),c.addClass("active")},hide:function(){c.parent().parent(".thumb").removeClass("active"),c.parent().parent(".minor-details").removeClass("active"),c.removeClass("active")}},content:{text:'<div class="top left popover-loader signin-loader"></div>',ajax:{url:"/user/beforeaction",type:"GET",data:{},success:function(t){var o=this;r(function(){o.set("content.text",s(t)(e)),r(function(){o.reposition()})}),e.actionObj={element:c,popconfig:h,success:function(){e.toggleFavoriteVideo(i,n,!0),c.qtip("hide").qtip("destroy")},failure:function(){alert("oopss")}}}}}}},h=d();return c.qtip(h).qtip("show"),!1}c.qtip("destroy");var p=JSON.stringify(i).toLowerCase(),f=JSON.parse(p);c.parent().parent(".thumb").addClass("active"),c.addClass("loading"),a("show",{element:c}),_.isUndefined(f.programmeid)&&(f.programmeid=f.programid),o.toggleFavoriteProgramme({like:"0"==f.isfavorite,programmeid:f.programmeid,userid:t.getUser().userid},function(n){return l?(location.reload(),!1):(c.removeClass("loading"),window.setTimeout(function(){c.parent().parent(".thumb").removeClass("active")},1500),a("hide",{element:c}),console.log("toggleFavoriteProgramme"),n.response.responsestatus?(console.log("$scope.paginateVideos == ",e.paginateVideos),i.isfavorite="0"==i.isfavorite?"1":"0","favorites"==e.filterType&&(e.paginateVideos=_.reject(e.paginateVideos,function(e){return"0"==e.isfavorite}),e.videosList=_.reject(e.videosList,function(e){return"0"==e.isfavorite}),0==e.paginateVideos.length&&e.allowRequests&&(e.allowRequests=!1,e.pageNo+=1,e.filterResults())),console.log("$scope.paginateVideos == will have 1 ",e.paginateVideos),"0"==i.isfavorite&&t.videosVisibleItems--,console.log("toggleFavoriteProgramme => Else"),"1"==i.isfavorite?t.$broadcast("watchlist::add",i):t.$broadcast("watchlist::FavRem::Remove",i)):alert(n.response.message),void 0)})}}]),woi.controller("VideosNavController",["$scope","$rootScope","$filter","$routeParams","userAPI",function(e,t){e.toggleTab=function(i){console.log(i),e.currentTab=i,t.$broadcast("new-filter-init:videos","nav",i)},setTimeout(function(){e.toggleTab("popular")},5)}]),woi.controller("VideosGenreController",["$scope","$rootScope","$filter","$routeParams","userAPI",function(e,t,i,n,r){e.allGenres=[],e.constructObject=function(){return e.allGenres.length>0?!1:(r.getVideosGenre({},function(t){return t.videogenre?angular.isArray(t.videogenre.videogenrelist)?(e.allGenres=t.videogenre.videogenrelist,e.currentFilter=e.allGenres[0].genre,e.paginateGenres=e.allGenres.slice(0,e.allGenres.length/2),void 0):!1:!1}),void 0)},e.viewAllGenre=function(){e.paginateGenres=e.allGenres},e.selectedGenre=function(i){$("div.qtip:visible").qtip("hide"),e.currentFilter=i.genre,$("#selectedGenre").html(e.currentFilter),$("#selectedGenrePhone").html(e.currentFilter),console.log("we will call api later === "+e.currentFilter),t.$broadcast("new-filter-init:videos","genre",e.currentFilter)}}]),woi.controller("ChannelAutoCompleteControllerVideos",["$scope","$rootScope","$filter","userAPI","autoAPI",function(e,t,i,n,r){e.triggerAutoComplete=function(t,i){return t.length<2?!1:(e.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)},r.autoCompleteChannel({autocompleteword:t},function(t){return void 0==t.response.docs?!1:(e.safeApply(function(){e.autoComplete.data=t.response.docs}),i&&"function"==typeof i&&i(e.autoComplete.data),void 0)}),void 0)},e.callFilter=function(e){console.log("call the filter videos"),console.log(e),t.$broadcast("new-filter-init:videos","channel",e)},e.clickSearch=function(e){var i=$(e.currentTarget),n=i.parent().find("input");console.log("clickSearch()......",n.val()),t.$broadcast("new-filter-init:videos","channel",n.val())},e.$on("resetPlaceholder",function(){e.placeholderReset()})}]),woi.controller("YourRecsController",["$scope","$rootScope","$filter","recoAPI","userAPI",function(e,t,i,n,r){e.recommended=[],e.paginate=[],e.amount=0,e.step=4,e.showMore=!0,i("durationFormated"),e.loadMore=function(){return e.recommended.length?(e.amount=e.amount+e.step,e.amount>=e.recommended.length&&(e.showMore=!1,e.amount=e.recommended.length),e.paginate=e.recommended.slice(0,e.amount),void 0):!1},r.yourRecs({userid:t.getUser().userid},function(t){return t.getrecommendationpreferences?(e.recommended=t.getrecommendationpreferences.recommendationlist,e.recommended=_.map(t.getrecommendationpreferences.recommendationlist,function(e){return _.isUndefined(e.programmeid)&&!_.isUndefined(e.programid)&&(e.programmeid=e.programid),e}),e.loadMore(),void 0):!1}),e.addToFavorite=function(e){r.toggleFavoriteProgramme({like:"0"==e.isfavorite,programmeid:e.programmeid},function(t){t.response.responsestatus?e.isfavorite="0"==e.isfavorite?"1":"0":alert(t.response.message)})},e.addToReminder=function(e){return alert("Not yet"),!1}}]);